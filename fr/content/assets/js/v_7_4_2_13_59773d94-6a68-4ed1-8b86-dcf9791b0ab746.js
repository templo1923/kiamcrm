import{I as u,j as e,_ as m,a8 as O,a9 as B,y as U,aa as H,ab as G,ac as W,ad as q,ae as J,af as $,ag as K,h as Y}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab710.js";import{C as Q,D as X,n as E,o as D,p as Z,q as L,B as ee,x as ae,r as S,af as te,ak as ne,al as se}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab723.js";import{g as oe,f as N,E as p,s as z,h,i as ie,j as C,k as P,l as re,u as T,m as ce}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab721.js";import{u as y}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab719.js";import{u as le}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7105.js";import{a as i}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab74.js";import{c as V}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab77.js";import{a as ue,b as de}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab741.js";import{a as me}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab738.js";import{a as fe}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab760.js";import{G as pe,d as ge,b as xe}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab78.js";import{B as _e}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7106.js";import{I as he}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7107.js";import{u as v}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab727.js";import{S as je}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab737.js";import{V as ye}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7108.js";import{V as Ce}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab718.js";async function be(a){const t=y.getState().language,n=oe(a),r=N(a);if(!n){u({type:"Error",message:t.resume_campanha_nao_encontrada});return}if(!r){u({type:"Error",message:t.resume_estado_execucao_nao_encontrado});return}if(r.status!==p.PAUSED){u({type:"Info",message:t.resume_campanha_nao_pausada});return}await z({campaign:n,type:"full",resumeFromIndex:r.currentContactIndex,isResume:!0})}function Se(a){const t=y.getState().language,n=N(a);if(!n){u({type:"Error",message:t.pause_campanha_nao_encontrada});return}if(n.status!==p.RUNNING){u({type:"Info",message:t.pause_campanha_nao_em_execucao});return}if(n.shouldPause){u({type:"Info",message:t.pause_pausa_ja_solicitada});return}h.getState().requestPause(a),u({type:"Info",message:t.pause_pausando_apos_acao_atual})}function I(a,t=!1){const n=y.getState().language,r=N(a);if(t){h.getState().forceCancel(a),u({type:"Info",message:n.sua_campanha_foi_cancelada});return}if(!r){u({type:"Error",message:n.cancel_campanha_nao_encontrada});return}if(r.status===p.COMPLETED||r.status===p.CANCELLED){u({type:"Info",message:n.cancel_campanha_ja_finalizada});return}if(r.shouldCancel){u({type:"Info",message:n.cancel_cancelamento_ja_solicitado});return}h.getState().requestCancel(a),u({type:"Info",message:n.cancel_cancelando_apos_acao_atual})}const ze=V()(Q(a=>({reports:[],addReport:t=>a(n=>({reports:[...n.reports,t]})),removeReport:t=>a(n=>({reports:n.reports.filter(r=>r.campaignId!==t)}))}),{name:"useReportCampaign-store",storage:X(()=>ie("ReportCampaignDB","useReportCampaignStore"))}));function k(a){const t={campaignId:a.campaignId,startedAt:a.startedAt,totalActions:a.totalActions,totalContacts:a.totalContacts,successContacts:a.successContacts,failedContacts:a.failedContacts,completedAt:a.completedAt,totalExecutions:a.totalContacts*a.totalActions};ze.getState().addReport(t)}function ve(a){const[t,n]=i.useState(!1),r=y(l=>l.language),c=C(l=>l.campaigns.find(d=>d.id===a)),{updateCampaign:o}=C.getState(),s=h(l=>l.executions.get(a)),f=!E(l=>l.user.estado),_=!s||s.status===p.COMPLETED||s.status===p.CANCELLED||s.status===p.FAILED,{clearExecution:j}=h.getState();return{campaign:c,execution:s,isLoading:t,actions:{sendTest:async()=>{if(c){n(!0);try{if(!_)throw u({type:"Error",message:r.erro_iniciar_campanha}),new Error("Cannot start campaign: Campaign is already running or paused.");j(c.id);const l=C.getState().campaigns.find(d=>d.id===c.id);await z({campaign:l,type:"test"}),k(h.getState().executions.get(l.id))}finally{n(!1)}}},sendFull:async()=>{if(c){n(!0);try{if(!_)throw u({type:"Error",message:r.erro_iniciar_campanha}),new Error("Cannot start campaign: Campaign is already running or paused.");if(f&&c.selectedContacts.length>5){const d=c.selectedContacts.slice(0,5);o(c.id,{selectedContacts:d})}j(c.id);const l=C.getState().campaigns.find(d=>d.id===c.id);await z({campaign:l,type:"full"}),k(h.getState().executions.get(l.id))}finally{n(!1)}}},pause:()=>{Se(a)},resume:async()=>{n(!0);try{await be(a)}finally{n(!1)}},cancel:()=>{I(a)},forceCancel:()=>{I(a,!0),o(a,{status:P.DRAFT})}},canStart:_,isRunning:(s==null?void 0:s.status)===p.RUNNING,isPaused:(s==null?void 0:s.status)===p.PAUSED,isCompleted:(s==null?void 0:s.status)===p.COMPLETED,isCancelled:(s==null?void 0:s.status)===p.CANCELLED}}const Ee=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab792.js")),[]));function Le(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Ee,{})})}const Ne=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab793.js")).then(a=>a.i),[]));function Me(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Ne,{})})}const Ae=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab794.js")),[]));function we(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Ae,{})})}const Fe=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab795.js")),[]));function Re(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Fe,{})})}const Te=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab796.js")),[]));function Ie(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Te,{})})}const ke=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab797.js")),[]));function De(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(ke,{})})}const Pe=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab798.js")).then(a=>a.i),[]));function Ve(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Pe,{})})}const Oe=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab799.js")),[]));function Be(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Oe,{})})}const Ue=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7100.js")),[]));function He(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Ue,{})})}const Ge=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7101.js")),[]));function We(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Ge,{})})}function qe(a){return pe({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(a)}function Je(){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"20",height:"20",viewBox:"0 0 24 24",style:{display:"inline-block"},children:e.jsx("path",{fill:"currentColor",d:"M2.001 9.352c0 1.873.849 2.943 1.683 3.943.031 1 .085 1.668-.333 3.183 1.748-.558 2.038-.778 3.008-1.374 1 .244 1.474.381 2.611.491-.094.708-.081 1.275.055 2.023-.752-.06-1.528-.178-2.33-.374-1.397.857-4.481 1.725-6.649 2.115.811-1.595 1.708-3.785 1.661-5.312-1.09-1.305-1.705-2.984-1.705-4.695-.001-4.826 4.718-8.352 9.999-8.352 5.237 0 9.977 3.484 9.998 8.318-.644-.175-1.322-.277-2.021-.314-.229-3.34-3.713-6.004-7.977-6.004-4.411 0-8 2.85-8 6.352zm20.883 10.169c-.029 1.001.558 2.435 1.088 3.479-1.419-.258-3.438-.824-4.352-1.385-.772.188-1.514.274-2.213.274-3.865 0-6.498-2.643-6.498-5.442 0-3.174 3.11-5.467 6.546-5.467 3.457 0 6.546 2.309 6.546 5.467 0 1.12-.403 2.221-1.117 3.074zm-7.563-3.021c0-.453-.368-.82-.82-.82s-.82.367-.82.82.368.82.82.82.82-.367.82-.82zm3 0c0-.453-.368-.82-.82-.82s-.82.367-.82.82.368.82.82.82.82-.367.82-.82zm3 0c0-.453-.368-.82-.82-.82s-.82.367-.82.82.368.82.82.82.82-.367.82-.82z"})})}function $e(){const{language:a}=y(),{statusEnvio:t,chats:n}=le(),c=C(d=>d.campaigns).find(d=>d.status===P.SENDING),{isRunning:o,execution:s,isPaused:x}=ve(c==null?void 0:c.id),{open:f}=D.getState(),{open:_}=Z.getState(),{open:j}=re.getState(),{label:g}=L.getState(),{user:M}=E.getState(),{setMenuContent:A}=ee.getState(),w=o||x||t.estado==="Atived"||t.estado==="Paused",F=((s==null?void 0:s.totalContacts)??0)-((s==null?void 0:s.currentContactIndex)??0),R=e.jsxs(e.Fragment,{children:[w&&e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute -top-[10px] left-[20px]",children:e.jsx("span",{className:"abaTam border border-[#ffffff52] border-solid rounded-full p-1 shadow-lg text-[12px] bg-[var(--primaria)]",children:e.jsx("em",{className:"text-[#ffffffd4] font-bold",children:(n==null?void 0:n.length)||F})})})}),e.jsx("span",{id:"icoCampaign",children:e.jsx(me,{size:20,className:O((t.estado==="Atived"||o)&&"text-[var(--wds-teal-500)]",(t.estado==="Paused"||x)&&"text-[goldenrod]",o&&"text-[var(--wds-teal-500)]")})})]});return[{id:"crm",name:"CRM",icon:e.jsx(B,{size:22}),function:()=>chrome.runtime.sendMessage({message:"CRM"})},{id:"quick_replies",name:a.quickReply,icon:e.jsx(U,{size:20}),function:()=>A("children","respostasRapidas")},{id:"env_massa",name:a.envioMassa,icon:R,function:()=>j(e.jsx(Me,{}))},{id:"ia",name:"Agente IA",icon:e.jsx(he,{color:"var(--ico-color)"}),disabled:g.ia_wascript.length===0,function:()=>window.open(`${g.ia_wascript}${M.estado?"/?clientePremium":""}`,"_blank")},{id:"calendar",name:a.centralDeAgendamentos,icon:e.jsx(ge,{size:20}),function:()=>j(e.jsx(Le,{}))},{id:"flow",name:a.fluxo,icon:e.jsx(H,{size:20}),function:()=>chrome.runtime.sendMessage({message:"FLOW"})},{id:"funnil_crm",name:a.funilCRM,icon:e.jsx(ue,{size:20}),function:()=>chrome.runtime.sendMessage({message:"funnil"})},{id:"att_atendimento",name:a.autoAtendimento,icon:e.jsx(G,{size:22}),function:()=>f(e.jsx(we,{}))},{id:"follow_up",name:a.followUp,icon:e.jsx(W,{size:22}),function:()=>f(e.jsx(Re,{}))},{id:"status",name:a.status,icon:e.jsx(de,{size:22}),function:()=>f(e.jsx(Ve,{}))},{id:"api",name:"API",icon:e.jsx(q,{size:22}),function:()=>f(e.jsx(He,{}),!1)},{id:"webhook",name:"WebHook",icon:e.jsx(J,{size:20}),function:()=>f(e.jsx(Be,{}))},{id:"links",name:a.links,icon:e.jsx(fe,{size:20}),function:()=>f(e.jsx(De,{}))},{id:"start_chat",name:a.start_chat,icon:e.jsx(Je,{}),function:()=>f(e.jsx(Ie,{}))},{id:"afiliate_link",name:a.indiqueEGanhe,icon:e.jsx(_e,{size:20}),disabled:g.rewards.length===0,function:()=>window.open(g.rewards,"_blank")},{id:"google_funcs",name:a.att_google,icon:e.jsx(qe,{size:20}),function:d=>_(e.jsx(We,{}),{placement:"right"},d.target)}]}function Ke(){const{activeMenu:a}=ae(),{label:t}=L(),n=T(o=>o.close),r=T(o=>o.open);return e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"lg:tooltip  lg:tooltip-right mb-2","data-tip":t.name,children:e.jsx("div",{className:"pulse cursor-pointer rounded-full w-9 h-9 shadow-lg",children:e.jsx("span",{children:e.jsx("img",{src:chrome.runtime.getURL("label/icons/icon.png"),className:"w-10 rounded-full select-none",draggable:!1})})})}),e.jsx("div",{className:"flex flex-col items-center gap-2 w-full overflow-y-auto overflow-x-hidden scroll_bar",style:{height:"calc(100vh - 302px)"},children:$e().map(o=>!o.disabled&&a[o.id]!==!1&&e.jsx("div",{onClick:o.function,onMouseEnter:s=>r(o.name,{placement:"right"},s.target),onMouseLeave:n,children:e.jsx("div",{className:"menu-item pulse cursor-pointer rounded-[10px] bg-[var(--ico-border-color)] p-2 text-[var(--ico-color)]",children:o.icon})},o.id))})]})}const Ye="/assets/mp3/Notification.chunk.mp3",b=V()(a=>({notifyNotVisualized:0,getCaixaDeEntrada:()=>{const t=v.getState().notifications,{renderNotificacoes_box:n,isBoxVisible:r}=S.getState(),c=n().filter(s=>!r(s.id)),o=[...t,...c];return o.sort((s,x)=>x.data-s.data),o},getNotifyNotVisualized:()=>a(()=>{const{renderNotificacoes_box:t,isBoxVisible:n}=S.getState(),{naoVisualizadaTam:r}=v.getState(),o=t().filter(s=>!n(s.id)).length+r;return o>JSON.parse(localStorage.getItem("notifyTam"))&&$("content"+Ye,1500),localStorage.setItem("notifyTam",JSON.stringify(o)),{notifyNotVisualized:o}})}));S.subscribe(()=>{b.getState().getNotifyNotVisualized()});v.subscribe(()=>{b.getState().getNotifyNotVisualized()});(()=>{const a=JSON.parse(localStorage.getItem("notifyTam"));a&&a>0&&b.setState({notifyNotVisualized:a})})();const Qe=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7102.js")).then(a=>a.i),[]));function Xe(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Qe,{})})}const Ze=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7103.js")),[]));function ea(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(Ze,{})})}const aa=i.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7104.js")),[]));function ta(){return e.jsx(i.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(aa,{})})}function na(){const{language:a}=y(),{user:t,setRemoveUser:n}=E(),{open:r}=D(),{open:c}=ce(),{label:o}=L(),{notifyNotVisualized:s}=b(),x=()=>{Y({icon:e.jsx(se,{className:"text-[var(--primaria)]",size:24}),content:e.jsxs(e.Fragment,{children:[a.gostariaDeRemoverLogin,"?",e.jsx("br",{})," ",a.usuarioLogado,e.jsx("strong",{children:t.login})]}),confirmText:a.confirm,submit:()=>{n()}})},f=e.jsxs(e.Fragment,{children:[s>0&&e.jsx("div",{className:"absolute -top-1 -right-2",children:e.jsx("span",{className:"abaTam border border-[#ffffff52] border-solid rounded-full p-1 shadow-lg text-[12px] bg-[var(--primaria)] ",children:e.jsx("em",{className:"text-[#ffffffd4] font-bold",children:s})})}),e.jsx(je,{size:20})]}),_=[{id:1,name:t.estado?t.login:a.logar,icon:e.jsx(xe,{className:t.estado?"text-[var(--wds-teal-500)]":"text-red-500 user-icon-circle-man",size:20}),function:()=>t.estado?x():r(e.jsx(te,{}))},{id:2,name:a.configAgendamento_title,icon:e.jsx(ne,{size:20}),function:()=>c(e.jsx(Xe,{}))},{id:3,name:a.notifications,icon:f,function:()=>c(e.jsx(ta,{}))},{id:4,name:a.func_menu,icon:e.jsx(ye,{size:20}),function:()=>c(e.jsx(ea,{}))}];return e.jsxs("div",{className:"flex flex-col items-center gap-2 mb-4",children:[o.tutorial&&e.jsx("div",{onClick:()=>window.open(o.tutorial,"_blank"),className:"lg:tooltip lg:tooltip-right cursor-pointer","data-tip":a.tutoriais,children:e.jsx("span",{className:"pulse",children:e.jsx(K,{className:"text-[red]",size:26})})}),_.reverse().map(g=>e.jsx("div",{className:"lg:tooltip  lg:tooltip-right","data-tip":g.name,onClick:g.function,children:e.jsx("div",{className:"menu-item pulse cursor-pointer rounded-[10px]  bg-[var(--ico-border-color)] p-2 text-[var(--ico-color)]",children:g.icon})},g.id)),e.jsx("div",{className:"badge badge-sm badge-ghost text-xs text-base-content/60 font-semibold font-rounded",children:Ce.version})]})}function sa(){return e.jsx("section",{"data-id":"Menu",children:e.jsx("div",{className:"w-[60px] h-[100vh] absolute z-[112] bg-[var(--menu-color)]",children:e.jsxs("div",{className:"animate__animated animate__fadeInLeft h-full my-2 flex flex-col justify-between gap-2",children:[e.jsx(Ke,{}),e.jsx(na,{})]})})})}const ba=Object.freeze(Object.defineProperty({__proto__:null,default:sa},Symbol.toStringTag,{value:"Module"}));export{we as A,Me as E,Re as F,$e as R,Ve as S,ze as a,b as c,ba as i,ve as u};
