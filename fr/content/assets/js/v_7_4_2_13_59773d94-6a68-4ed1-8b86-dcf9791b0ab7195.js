import{j as e,cF as D,a0 as T,cE as ue,an as E,aE as ge,al as M,_ as ee,a2 as se,bc as q,F as $,cG as G,cH as he,bP as fe,r as U,cI as je,aj as be,cJ as ve}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab710.js";import{a as u}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab74.js";import{bc as N,ao as Ne,p as A,u as te,b as re,bd as we}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab723.js";import{u as f}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab719.js";import{u as W}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab721.js";import{c as ye,d as _e,e as ie,a as Ce,b as ke,s as Ie,g as Ae,r as Se,m as De}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7191.js";import{B as Le,x as B,D as Pe,m as Re,G as Te,a as Ee,p as ze,t as J,b as Oe}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7217.js";import{i as P}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab79.js";import{R as Ve}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab75.js";import{I as ae}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7218.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab747.js";import{E as I}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7116.js";import{S as $e}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7219.js";import{a as ne,b as le,c as de,S as Fe}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7207.js";import{q as z}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab78.js";import{W as oe}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab718.js";import{P as qe}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7169.js";import{A as Be}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7198.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab77.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab76.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab72.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab73.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7120.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7119.js";const ce=Symbol("item"),K={type:"idle"},X={type:"dragging"};function R(s){return s[ce]===!0}function He({item:s,index:a,instanceId:r}){return{[ce]:!0,item:s,index:a,instanceId:r}}const pe=u.createContext(null);function Ge(){const s=u.useContext(pe);return P(s!==null),s}function v({acaoModel:s,children:a,ico:r,icoStyle:t,compStyle:i,id:l}){const{setRemoveAcao:p,model:o}=N[s]();return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2 items-center "+i,children:[e.jsx("span",{children:e.jsx(ae,{type:r,style:t})}),e.jsx("span",{children:e.jsx("h2",{className:"font-semibold "+(o.size==="large"?"text-lg":"text-sm"),children:a})})]}),e.jsx("span",{className:"animate__animated animate__zoomIn pulse hidden text-red-500 cursor-pointer group-hover:block",onClick:()=>p(l),children:e.jsx(D,{size:18})})]})}function y({children:s}){return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:s})}function H({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=N[a](),{language:t}=f();return e.jsxs("div",{className:"w-full flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-1 items-center group/item",children:[e.jsx("h2",{className:"text-sm",children:t.composing_msg_action}),e.jsx("input",{type:"number",className:"w-[40px] border border-solid rounded-md text-center font-semibold bg-[var(--background-default)] group-hover/item:border-[var(--primaria)] focus:border-[var(--primaria)]",min:0,value:s.propriedades.composing,onChange:i=>{const l=parseInt(i.target.value);i.target.value.length<=2&&r(s.id,{composing:l}),l<0&&r(s.id,{composing:0})}}),e.jsx("h2",{className:"text-sm",children:t.segundos})]}),e.jsx("div",{className:"bg-[var(--background-default)] rounded-lg",children:e.jsx(I,{id:s.id,type:"textarea",position:"right",placeholder:t.digiteOTextoPlaceHolder,text:s.propriedades.mensagem,setText:i=>r(s.id,{mensagem:i}),heightCamp:110})}),e.jsxs("div",{className:"flex gap-1 items-center group/item",children:[e.jsx("h2",{className:"text-sm",children:t.await_next_action}),e.jsx("input",{type:"number",className:"w-[40px] border border-solid rounded-md text-center font-semibold bg-[var(--background-default)] group-hover/item:border-[var(--primaria)] focus:border-[var(--primaria)]",min:0,value:s.propriedades.aguarde,onClick:i=>i.stopPropagation(),onChange:i=>{const l=parseInt(i.target.value);i.target.value.length<=2&&r(s.id,{aguarde:l}),l<0&&r(s.id,{aguarde:0})}}),e.jsx("h2",{className:"text-sm",children:t.segundos})]})]})}function C({id:s,type:a,title:r,place:t,value:i,setValue:l}){return e.jsxs("label",{className:"form-control w-full",children:[e.jsx("div",{className:"label pb-0",children:e.jsx("span",{className:"label-text font-semibold",children:r})}),a==="default"?e.jsx("input",{type:"text",placeholder:t,className:"input input-bordered input-sm w-full",onClick:o=>o.stopPropagation(),onChange:o=>l(o.target.value),value:i}):e.jsx(I,{id:s,className:"bg-[var(--background-default)]",type:a,position:"right",placeholder:t,text:i,setText:o=>l(o),heightCamp:110})]})}function Ue({acao:s,acaoModel:a}){const{language:r}=f();return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:"txt",acaoModel:a,children:r.card_txt}),e.jsx(H,{acao:s,acaoModel:a})]})}function We({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=N[a](),{language:t}=f();return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:s.type,acaoModel:a,children:t.card_image}),e.jsxs("div",{className:"flex gap-4 w-full flex-wrap",children:[e.jsx("div",{className:"m-auto",children:e.jsx("img",{className:"min-w-[100px] w-auto min-h-[115px] max-h-[300px] h-auto  rounded",src:s.propriedades.base64,alt:"imagem-autoAtt"})}),e.jsx("label",{htmlFor:s.id,className:"w-full",children:e.jsxs("div",{className:"flex justify-between cursor-pointer items-center h-9 py-2 rounded-lg hover:bg-[var(--dropdown-background-hover)] px-2",children:[e.jsx("span",{className:"text-sm",children:t.card_image_viewOne}),e.jsx(T,{switchUpdate:()=>{r(s.id,{isViewOnce:!s.propriedades.isViewOnce})},estado:s.propriedades.isViewOnce,id:s.id})]})}),e.jsx(H,{acao:s,acaoModel:a})]})]})}function Je({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=N[a](),{language:t}=f(),i=(l,p)=>{p&&r(s.id,{[l==="isViewOnce"?"microVideo":"isViewOnce"]:!p}),r(s.id,{[l]:p})};return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:s.type,acaoModel:a,children:t.card_video}),e.jsxs("div",{className:"flex gap-4 w-full flex-wrap",children:[e.jsx("div",{className:"m-auto",children:e.jsx("video",{className:"min-w-[100px] w-auto min-h-[115px] max-h-[300px] h-auto p-1",src:s.propriedades.base64,controls:!0})}),e.jsx("label",{htmlFor:`${s.id}_isViewOnce`,className:"w-full",children:e.jsxs("div",{className:"flex justify-between cursor-pointer items-center h-9 py-2 rounded-lg hover:bg-[var(--dropdown-background-hover)] px-2",children:[e.jsx("span",{className:"text-sm",children:t.card_video_viewOne}),e.jsx(T,{switchUpdate:()=>i("isViewOnce",!s.propriedades.isViewOnce),estado:s.propriedades.isViewOnce,id:`${s.id}_isViewOnce`})]})}),e.jsx("label",{htmlFor:`${s.id}_microVideo`,className:"w-full",children:e.jsxs("div",{className:"flex justify-between cursor-pointer items-center h-9 py-2 rounded-lg hover:bg-[var(--dropdown-background-hover)] px-2",children:[e.jsx("span",{className:"text-sm",children:t.card_video_circle}),e.jsx(T,{switchUpdate:()=>i("microVideo",!s.propriedades.microVideo),estado:s.propriedades.microVideo,id:`${s.id}_microVideo`})]})}),e.jsx(H,{acao:s,acaoModel:a})]})]})}function Ke({acao:s,acaoModel:a}){var l,p;const{language:r,idioma:t}=f(),{setAcaoPropriedades:i}=N[a]();return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:s.type,acaoModel:a,children:r.card_audio}),((p=(l=s==null?void 0:s.propriedades)==null?void 0:l.base64)==null?void 0:p.length)>0&&e.jsxs("div",{className:"flex gap-1 items-center group/item",children:[e.jsx("h2",{className:"text-sm",children:r.recording_msg_action}),e.jsx("input",{type:"number",className:"w-[40px] border border-solid rounded-md text-center font-semibold bg-[var(--background-default)] group-hover/item:border-[var(--primaria)] focus:border-[var(--primaria)]",min:0,value:s.propriedades.composing,onClick:o=>o.stopPropagation(),onChange:o=>{const m=parseInt(o.target.value);o.target.value.length<=2&&i(s.id,{composing:m}),m<0&&i(s.id,{composing:0})}}),e.jsx("h2",{className:"text-sm",children:r.segundos})]}),e.jsx(ue,{id:s.id,base64:s.propriedades.base64,onBase64:o=>i(s.id,{base64:o}),idioma:t})]})}function Xe({acao:s,acaoModel:a}){const{language:r}=f();return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:s.type,acaoModel:a,children:r.card_doc}),e.jsx("div",{className:"animate__animated animate__zoomIn",children:e.jsxs("div",{className:"flex gap-2 items-center justify-center py-2 p-1",children:[e.jsx("div",{className:"x1c4vz4f xs83m0k xdl72j9 x1g77sc7 xeuugli x2lwn1j xozqiw3 x1oa3qoh x12fk4p8",style:{flexShrink:0},children:e.jsx("div",{className:"xiy17q3 x1tbiz1a x1gnnpzl x23j0i4 icon-doc-generic"})}),e.jsx("div",{className:"x6ikm8r x10wlt62 xlyipyv x1yn0g08 x104kibb x1h7i4cw x1ua5tub",children:e.jsx("span",{dir:"auto",className:"x13faqbe _ao3e",style:{minHeight:"0px"},children:s.propriedades.base64Name.replace("."," - ")})})]})})]})}function Ze({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=N[a](),{quickReplies:t}=Ne(),{open:i}=A(),{language:l}=f(),p=o=>{const m=o.currentTarget;i(e.jsx($e,{onSelect:({id:h})=>r(s.id,{respostaRapidaID:h})}),{placement:"left-end"},m,-10,{mounted:()=>m==null?void 0:m.classList.add("!border-[var(--primaria)]"),desmouted:()=>m==null?void 0:m.classList.remove("!border-[var(--primaria)]")})};return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:"res",acaoModel:a,children:l.card_respostaRapida}),e.jsx("div",{className:"form-control w-full",children:e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid m-1 w-min",onClick:o=>p(o),children:t.map(o=>{if(o.id===s.propriedades.respostaRapidaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(ae,{type:o.type})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:o.titulo})]})})})})]})}function Qe({acao:s,acaoModel:a}){const{model:r,setAcaoPropriedades:t}=N[a](),i=te(d=>d.crm),l=re(d=>d.userTabs),p=A(d=>d.open),o=f(d=>d.language),[m,h]=u.useState([]);u.useEffect(()=>{h(()=>[{id:"abas",list:l,name:`${o.abas}`,hexColor:"var(--primaria)"},...i])},[i,l]);const j=(d,c)=>{const n=d.currentTarget;p(c,{placement:"left-end"},n,-10,{mounted:()=>n==null?void 0:n.classList.add("!border-[var(--primaria)]"),desmouted:()=>n==null?void 0:n.classList.remove("!border-[var(--primaria)]")})};return e.jsxs("div",{className:"flex flex-col gap-2 w-full p-2",children:[e.jsx(v,{id:s.id,ico:s.type,icoStyle:"w-4 h-4 text-[var(--icon)]",acaoModel:a,children:o.card_addCRM}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("span",{children:e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:o.selecioneOCRM})}),e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid w-fit",onClick:d=>j(d,e.jsx(de,{onSelect:c=>t(s.id,{crmID:c.id,abaID:c.list[0].id})})),children:m.map(d=>{if(d.id===s.propriedades.crmID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:d.id==="abas"?e.jsx(E,{className:"h-5 w-5",style:{color:d.hexColor}}):e.jsx(z,{className:"h-5 w-5",style:{color:d.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:d.name})]})})})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("span",{children:e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:o.selecioneAba})}),e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid w-fit",onClick:d=>j(d,s.propriedades.crmID==="abas"?e.jsx(ne,{onSelect:({id:c})=>t(s.id,{abaID:c})}):e.jsx(le,{id:s.propriedades.crmID,onSelect:({id:c})=>t(s.id,{abaID:c})})),children:s.propriedades.crmID==="abas"?l.map(d=>{if(d.id===s.propriedades.abaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(E,{className:"h-5 w-5 text-[var(--primaria)]"})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:d.tag})]})}):i.map(d=>{if(d.id===s.propriedades.crmID)return d.list.map(c=>{if(c.id===s.propriedades.abaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(z,{className:"h-5 w-5",style:{color:c.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:c.name})]},c.id)})})})]})]})}function Ye({acao:s,acaoModel:a}){const{model:r,setAcaoPropriedades:t}=N[a](),i=te(d=>d.crm),l=re(d=>d.userTabs),p=A(d=>d.open),o=f(d=>d.language),[m,h]=u.useState([]);u.useEffect(()=>{h(()=>[{id:"abas",list:l,name:`${o.abas}`,hexColor:"var(--primaria)"},...i])},[i,l]);const j=(d,c)=>{const n=d.currentTarget;p(c,{placement:"left-end"},n,-10,{mounted:()=>n==null?void 0:n.classList.add("!border-[var(--primaria)]"),desmouted:()=>n==null?void 0:n.classList.remove("!border-[var(--primaria)]")})};return e.jsxs("div",{className:"flex flex-col gap-2 w-full p-2",children:[e.jsx(v,{id:s.id,ico:"removeCRM",acaoModel:a,children:o.card_removeCRM}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("span",{children:e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:o.selecioneOCRM})}),e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid w-fit",onClick:d=>j(d,e.jsx(de,{onSelect:c=>t(s.id,{crmID:c.id,abaID:c.list[0].id})})),children:m.map(d=>{if(d.id===s.propriedades.crmID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:d.id==="abas"?e.jsx(E,{className:"h-5 w-5",style:{color:d.hexColor}}):e.jsx(z,{className:"h-5 w-5",style:{color:d.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:d.name})]})})})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("span",{children:e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:o.selecioneAAba})}),e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid w-fit",onClick:d=>j(d,s.propriedades.crmID==="abas"?e.jsx(ne,{onSelect:({id:c})=>t(s.id,{abaID:c})}):e.jsx(le,{id:s.propriedades.crmID,onSelect:({id:c})=>t(s.id,{abaID:c})})),children:s.propriedades.crmID==="abas"?l.map(d=>{if(d.id===s.propriedades.abaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(E,{className:"h-5 w-5 text-[var(--primaria)]"})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:d.tag})]})}):i.map(d=>{if(d.id===s.propriedades.crmID)return d.list.map(c=>{if(c.id===s.propriedades.abaID)return e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(z,{className:"h-5 w-5",style:{color:c.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:c.name})]},c.id)})})})]})]})}function F({acao:s,acaoModel:a}){const{language:r}=f();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsxs(v,{id:s.id,ico:s.type,compStyle:"text-red-500",icoStyle:s.type==="removeAllCRM"?"w-4 h-4":"w-5 h-5",acaoModel:a,children:[s.type==="removeAllCRM"&&r.card_removeAllCRM,s.type==="removeAllLabel"&&r.card_removeAllLabel,s.type==="bloquear"&&r.card_bloquear]})})}function Z({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=N[a](),{open:t}=A(),{language:i}=f(),[l,p]=u.useState(null);u.useEffect(()=>{(async()=>{p(await oe.Labels("getLabelById",s.propriedades.labelID))})()},[s.propriedades]);const o=m=>{const h=m.currentTarget;t(e.jsx(Fe,{onSelect:j=>r(s.id,{labelID:j})}),{placement:"left-end"},h,-10,{mounted:()=>h==null?void 0:h.classList.add("!border-[var(--primaria)]"),desmouted:()=>h==null?void 0:h.classList.remove("!border-[var(--primaria)]")})};return e.jsxs("div",{className:"flex flex-col gap-2 w-full p-2",children:[e.jsx(v,{id:s.id,ico:s.type,icoStyle:"h-5 w-5",acaoModel:a,children:s.type==="addLabel"?i.card_addLabel:i.card_removeLabel}),e.jsx("div",{className:"form-control w-full",children:e.jsx("div",{className:"select select-bordered select-sm !cursor-pointer border border-solid m-1 w-min",onClick:m=>o(m),children:l&&e.jsxs("div",{className:"pulse flex gap-2 py-1 items-center",children:[e.jsx("span",{children:e.jsx(ge,{className:"w-5 h-5",style:{color:l.hexColor}})}),e.jsx("span",{className:"text-base truncate w-[125px]",children:l.name})]})})})]})}function Me({acao:s,acaoModel:a}){const{model:r,setAcaoPropriedades:t,setRemoveAcao:i}=N[a](),{language:l}=f();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("span",{children:e.jsx(M,{type:s.type,style:"h-5 w-5 text-[var(--icon)] "+(s.type==="recording"?"text-red-500":"")})}),e.jsxs("div",{className:"flex gap-1 items-center group/item",children:[e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:l[`card_${s.type}`]}),e.jsx("input",{type:"number",placeholder:"10",className:"w-[40px] border border-solid rounded-md text-center font-semibold bg-base-200 group-hover/item:border-[var(--primaria)] focus:border-[var(--primaria)]",value:s.propriedades.segundos,min:0,onClick:p=>p.stopPropagation(),onChange:p=>{const o=parseInt(p.target.value);p.target.value.length<=2&&t(s.id,{segundos:o}),o<0&&t(s.id,{segundos:o})}}),e.jsx("h2",{className:r.size==="large"?"text-lg":"text-sm",children:l.segundos})]})]}),e.jsx("div",{className:"animate__animated animate__zoomIn pulse hidden text-red-500 cursor-pointer group-hover:block",onClick:()=>i(s.id),children:e.jsx(D,{size:18})})]})})}function Q({acao:s,acaoModel:a}){const{language:r}=f();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsx(v,{id:s.id,ico:s.type,icoStyle:"h-5 w-5 text-[var(--icon)]",acaoModel:a,children:s.type==="arquivar"?r.card_arquivar:r.card_desarquivar})})}function es({acao:s,acaoModel:a}){const{language:r}=f();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsx(v,{id:s.id,ico:s.type,icoStyle:"h-5 w-5 text-[var(--icon)]",acaoModel:a,children:r.card_marcarNaoLido})})}const ss=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7215.js")),[]));function ts({actionID:s,acaoModel:a}){return e.jsx(u.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(ss,{actionID:s,acaoModel:a})})}function rs({acao:s,acaoModel:a}){const{model:r,setAcaoPropriedades:t}=N[a](),{open:i}=A(),{language:l}=f();return e.jsxs("div",{className:"flex flex-col gap-2 w-full p-2",children:[e.jsx(v,{id:s.id,ico:s.type,icoStyle:"h-5 w-5 text-[var(--panel-header-icon)]",acaoModel:a,children:l.card_transferir}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(I,{id:"Transferir_atendimento",className:"bg-[var(--background-default)]",titulo:e.jsx("span",{className:r.size==="large"?"text-lg":"text-sm",children:l.mensagemASerEnviadaAtendente}),type:"textarea",position:"right",placeholder:l.digiteAMensagem??"",text:s.propriedades.mensagem,setText:p=>t(s.id,{mensagem:p}),heightCamp:110}),e.jsx("label",{htmlFor:"urgencia",children:e.jsxs("div",{className:"flex justify-between cursor-pointer items-center h-9 px-1 py-2",children:[e.jsx("span",{className:r.size==="large"?"text-lg":"text-sm",children:l.atendimentoComUrgencia}),e.jsx(T,{estado:s.propriedades.urgencia,switchUpdate:()=>t(s.id,{urgencia:!s.propriedades.urgencia}),id:"urgencia"})]})}),e.jsxs("label",{className:"form-control w-full",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text "+(r.size==="large"?"text-sm":"text-xs"),children:l.digiteSelecioneEmailAtentente})}),e.jsxs("label",{className:"input input-bordered border border-solid input-sm flex items-center gap-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4 opacity-70",children:[e.jsx("path",{d:"M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"}),e.jsx("path",{d:"M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"})]}),e.jsx("input",{type:"text",placeholder:l.digiteEmailAtendente,className:"grow",value:s.propriedades.email,onChange:p=>t(s.id,{email:p.target.value})})]})]}),e.jsx(se,{name:l.selecionarAtendentesConectados,funcao:p=>i(e.jsx(ts,{actionID:s.id,acaoModel:a}),{placement:"top"},p.target,-10,{mounted:()=>p.target.parentNode.classList.add("btn-ativo"),desmouted:()=>p.target.parentNode.classList.remove("btn-ativo")})})]})]})}function Y({acao:s,acaoModel:a}){const{language:r}=f();return e.jsx("div",{className:"flex flex-col gap-2 w-full p-2",children:e.jsx(v,{id:s.id,ico:s.type,icoStyle:"h-5 w-5 text-[var(--icon)]",acaoModel:a,children:s.type==="fixarChat"?r.card_fixarChat:r.card_desfixarChat})})}function is({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=N[a](),{language:t}=f();return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:s.type,acaoModel:a,children:t.card_pix}),e.jsxs("div",{className:"flex flex-col gap-2 p-2 m-auto max-w-[500px]",children:[e.jsxs("label",{className:"form-control w-full",children:[e.jsxs("div",{className:"label pb-0",children:[e.jsx("span",{className:"label-text font-semibold",children:t.pixSelectChave}),e.jsx("div",{className:"cursor-pointer lg:tooltip lg:tooltip-left before:!w-[220px]","data-tip":t.pixIOSTooltip,children:e.jsx("div",{className:"pulse text-[var(--icon)]",children:e.jsx(q,{size:20})})})]}),e.jsxs("select",{value:s.propriedades.keyType,className:"select select-bordered select-sm w-full pt-0 border-solid",onClick:i=>i.stopPropagation(),onChange:i=>r(s.id,{keyType:i.target.value}),children:[e.jsx("option",{disabled:!0,selected:!0,children:t.pixSelectChave}),e.jsx("option",{value:"CNPJ",children:"CNPJ"}),e.jsx("option",{value:"CPF",children:"CPF"}),e.jsx("option",{value:"PHONE",children:t.telefone}),e.jsx("option",{value:"EMAIL",children:"Email"}),e.jsx("option",{value:"EVP",children:t.pixRandomKey})]})]}),e.jsx(C,{id:"destinatario_"+s.id,type:"default",title:t.pixDestinatario,place:t.pixDestinatarioPlace,value:s.propriedades.name,setValue:i=>r(s.id,{name:i})}),e.jsx(C,{id:"key_"+s.id,type:"default",title:t.pixChave,place:t.pixChavePlace,value:s.propriedades.key,setValue:i=>r(s.id,{key:i})})]})]})}function as({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=N[a](),{language:t}=f(),[i,l]=u.useState([]);return u.useEffect(()=>{(async()=>l(await oe.Group("getGroupsIAmAdmin")))()},[]),e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:s.type,acaoModel:a,children:t.card_groupInvite}),e.jsxs("label",{className:"form-control w-full max-w-[350px] pb-1",children:[e.jsxs("div",{className:"label pb-0",children:[e.jsx("span",{className:"label-text font-semibold",children:t.card_groupInvite_desc}),e.jsx("div",{className:"cursor-pointer lg:tooltip lg:tooltip-left before:!w-[220px]","data-tip":t.card_groupInvite_isAdmin,children:e.jsx("div",{className:"pulse text-[var(--icon)]",children:e.jsx(q,{size:20})})})]}),e.jsxs("select",{className:"select select-bordered select-sm w-full pt-0 border-solid",onClick:p=>p.stopPropagation(),value:s.propriedades.groupID,onChange:p=>r(s.id,{groupID:p.target.value}),children:[e.jsx("option",{disabled:!0,selected:!0,children:t.card_groupInvite_select}),i.map(p=>e.jsx("option",{value:p.id,children:p.name},p.id))]})]})]})}function ns({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=N[a](),{language:t}=f();return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:s.type,acaoModel:a,children:t.card_contact}),e.jsxs("div",{className:"flex flex-col gap-2 p-2 m-auto w-full max-w-[350px]",children:[e.jsx(C,{id:"title_"+s.id,type:"default",title:t.nome,place:t.card_contact_place,value:s.propriedades.userName,setValue:i=>r(s.id,{userName:i})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm text-base-content font-semibold",children:t.phone}),e.jsx(qe,{id:"telefone_"+s.id,place:t.card_contact_title_place,value:s.propriedades.userID,setValue:i=>r(s.id,{userID:i}),inputClass:""})]})]})]})}function ls({acao:s,acaoModel:a}){const{setAcaoPropriedades:r}=N[a](),{language:t}=f();return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:s.type,acaoModel:a,children:t.card_linkPreview}),e.jsxs("div",{className:"flex flex-col gap-2 p-2 m-auto w-full max-w-[300px]",children:[e.jsx(C,{id:"link_"+s.id,type:"default",title:"Link",place:t.card_linkPreview_place,value:s.propriedades.link,setValue:i=>r(s.id,{link:i})}),e.jsx(C,{id:"text_"+s.id,type:"input",title:t.agendamento_table_titulo,place:t.agendamento_PlaceTitulo,value:s.propriedades.title,setValue:i=>r(s.id,{title:i})}),e.jsx(C,{id:"desc_"+s.id,type:"textarea",title:t.card_linkPreview_desc,place:t.card_linkPreview_desc_place,value:s.propriedades.description,setValue:i=>r(s.id,{description:i})})]})]})}function ds({acao:s,acaoModel:a}){const{language:r}=f();return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:s.type,acaoModel:a,children:r.card_sticker}),e.jsx("div",{className:"mb-1 flex gap-4 w-full flex-wrap",children:e.jsx("div",{className:"m-auto",children:e.jsx("img",{className:"min-w-[100px] w-auto min-h-[115px] max-h-[300px] h-auto rounded",src:s.propriedades.base64,alt:"Sticker"})})})]})}const S=10,L=10;function os({acao:s,acaoModel:a}){const{setAcaoPropriedades:r,updateAcaoRowField:t}=N[a](),{language:i}=f(),l=()=>s.propriedades.sections.reduce((n,g)=>n+g.rows.length,0),p=()=>s.propriedades.sections.length<S,o=n=>{const g=s.propriedades.sections.find(x=>x.sectionId===n);return g?g.rows.length<L:!1},m=()=>{if(!p())return;const n={sectionId:U(),title:"",rows:[]};r(s.id,{sections:[...s.propriedades.sections,n]})},h=n=>{r(s.id,{sections:s.propriedades.sections.filter(g=>g.sectionId!==n)})},j=(n,g)=>{r(s.id,{sections:s.propriedades.sections.map(x=>x.sectionId===n?{...x,title:g}:x)})},d=n=>{o(n)&&r(s.id,{sections:s.propriedades.sections.map(g=>g.sectionId===n?{...g,rows:[...g.rows,{rowId:U(),title:"",description:""}]}:g)})},c=(n,g)=>{r(s.id,{sections:s.propriedades.sections.map(x=>x.sectionId===n?{...x,rows:x.rows.filter(b=>b.rowId!==g)}:x)})};return e.jsxs(y,{children:[e.jsx(v,{id:s.id,ico:"list",acaoModel:a,children:i.card_list}),e.jsxs("span",{className:"text-xs text-red-500",children:["* ",i.card_list_desc]}),e.jsxs("div",{className:"p-2 grid gap-1",children:[e.jsx(C,{id:"title_"+s.id,type:"default",title:i.tituloDaListaOpcional,place:i.exMenuDeAlmoco,value:s.propriedades.title,setValue:n=>r(s.id,{title:n})}),e.jsx(C,{id:"description_"+s.id,type:"textarea",title:i.descricao,place:i.descrevaBrevementeALista,value:s.propriedades.description,setValue:n=>r(s.id,{description:n})}),e.jsx(C,{id:"footer_"+s.id,type:"default",title:i.rodapeOpcional,place:i.exDeliveryAte22h,value:s.propriedades.footer,setValue:n=>r(s.id,{footer:n})}),e.jsx(C,{id:"btn_text_"+s.id,type:"default",title:i.textoDoBotao,place:i.exFacaSeuPedido,value:s.propriedades.buttonText,setValue:n=>r(s.id,{buttonText:n})})]}),e.jsxs("div",{className:"border-2 border-solid border-[var(--workflow-border)] rounded-xl p-2 w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 border border-[var(--workflow-border)] rounded-lg",children:e.jsx($,{className:"text-sm"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:i.categoriasDoMenu}),e.jsx("p",{className:"text-sm opacity-75",children:i.organizeSeusProdutosEmCategorias})]})]}),e.jsx("div",{className:"mb-4 space-y-2",children:s.propriedades.sections.length>=S&&e.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg text-sm text-yellow-600 dark:text-yellow-400",children:["⚠️ ",`${i.limitMaximo} ${S} ${i.categorias} ${i.atingido}`]})}),e.jsxs("button",{className:`flex items-center justify-center gap-2 w-full py-3 mb-4 border-2 border-dashed rounded-lg transition-all duration-200 font-medium ${p()?"border-[var(--workflow-border)] hover:border-[var(--primaria)] cursor-pointer":"border-gray-300 opacity-50 cursor-not-allowed"}`,onClick:m,disabled:!p(),children:[e.jsx(G,{className:"text-sm"}),i.adicionarNovaCategoria," (",s.propriedades.sections.length,"/",S,")"]}),s.propriedades.sections.length===0?e.jsxs("div",{className:"text-center py-8 opacity-60",children:[e.jsx($,{className:"text-4xl mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:i.nenhumaCategoriaAdicionadaAinda}),e.jsx("p",{className:"text-xs mt-1 opacity-75",children:i.cliqueParaCriarSuaPrimeiraCategoria})]}):e.jsx("div",{className:"space-y-4",children:s.propriedades.sections.map((n,g)=>e.jsxs("div",{className:"border-2 border-solid border-[var(--workflow-border)] rounded-lg overflow-hidden",children:[e.jsx("div",{className:"border-b border-[var(--workflow-border)] p-4 !pb-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{className:"opacity-60"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-[var(--primaria)] text-[var(--text-contrast)] text-xs font-bold rounded-full",children:g+1}),e.jsx("h4",{className:"text-md font-semibold",children:n.title||`${i.categoria} ${g+1}`})]})]}),e.jsx("button",{className:"flex items-center justify-center w-8 h-8 hover:bg-[var(--workflow-border)] rounded-lg transition-colors duration-200",onClick:()=>h(n.sectionId),title:i.removerCategoria,children:e.jsx(D,{className:"text-sm text-red-500"})})]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[i.nomeDaCategoria," ",g+1]}),e.jsx(I,{id:`fluxo-send-list-section-title-${n.sectionId}`,type:"input",position:"bottom",placeholder:i.placeHolderSectionTitle,text:n.title,setText:x=>j(n.sectionId,x)})]}),n.rows.length>=L&&e.jsxs("div",{className:"p-2 bg-yellow-500/10 border border-yellow-500/30 rounded-lg text-xs text-yellow-600 dark:text-yellow-400",children:["⚠️ ",`${i.limitMaximo} ${L} ${i.produtosNoTotal} ${i.atingido}`]}),n.rows.length===0?e.jsxs("div",{className:"text-center py-6 opacity-60 border border-[var(--workflow-border)] rounded-lg",children:[e.jsx(fe,{className:"text-2xl mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs",children:i.nenhumProdutoNestaCategoria})]}):e.jsx("div",{className:"space-y-3",children:n.rows.map((x,b)=>e.jsxs("div",{className:"border border-[var(--workflow-border)] border-solid rounded-lg p-3 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-5 h-5 bg-[var(--secundaria)] text-[var(--text-contrast)] text-xs font-bold rounded",children:b+1}),e.jsxs("span",{className:"text-sm font-medium",children:[i.produto," ",b+1]})]}),e.jsx("button",{className:"flex items-center justify-center w-7 h-7 hover:bg-[var(--workflow-border)] rounded transition-colors duration-200",onClick:()=>c(n.sectionId,x.rowId),title:i.removerProduto,children:e.jsx(D,{className:"text-xs text-red-500"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium opacity-80 mb-1",children:i.nomeDoProduto}),e.jsx(I,{id:`fluxo-send-list-item-title-${n.sectionId}-${x.rowId}`,type:"input",position:"bottom",placeholder:i.placeHolderExemplosDeProdutos,text:x.title,setText:w=>t(s.id,n.sectionId,x.rowId,"title",w)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium opacity-80 mb-1",children:i.descricaoDoProdutoOpcional}),e.jsx(I,{id:`fluxo-send-list-item-description-${n.sectionId}-${x.rowId}`,type:"textarea",position:"bottom",placeholder:i.exemplosDeDescricoesDeProdutos,text:x.description,heightCamp:70,setText:w=>t(s.id,n.sectionId,x.rowId,"description",w)})]})]})]},x.rowId))}),e.jsxs("button",{className:`flex items-center gap-2 w-full py-2 px-3 border border-solid rounded-lg transition-all duration-200 text-sm font-medium ${o(n.sectionId)?"border-[var(--workflow-border)] hover:border-[var(--primaria)] cursor-pointer":"border-gray-300 opacity-50 cursor-not-allowed"}`,onClick:()=>d(n.sectionId),disabled:!o(n.sectionId),children:[e.jsx(G,{className:"text-xs"}),i.adicionarProdutoACategoria," (",n.rows.length,"/",L,")"]})]})]},n.sectionId))}),s.propriedades.sections.length>0&&e.jsx("div",{className:"mt-4 p-3 border border-[var(--workflow-border)] rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm flex-wrap",children:[e.jsx($,{className:"text-xs"}),e.jsxs("span",{className:"font-medium",children:[i.resumo,":"]}),e.jsxs("span",{children:[s.propriedades.sections.length,"/",S," ",i.categoria,s.propriedades.sections.length!==1?"s":""," • "," ",l()," ",i.produto,l()!==1?"s":""," ",i.noTotal]})]})})]})]})}function cs({acao:s,index:a,acaoModel:r}){let t;switch(s.type){case"txt":t=e.jsx(Ue,{acaoModel:r,acao:s});break;case"image":t=e.jsx(We,{acaoModel:r,acao:s});break;case"video":t=e.jsx(Je,{acaoModel:r,acao:s});break;case"audio":t=e.jsx(Ke,{acaoModel:r,acao:s});break;case"doc":t=e.jsx(Xe,{acaoModel:r,acao:s});break;case"respostaRapida":t=e.jsx(Ze,{acaoModel:r,acao:s});break;case"addCRM":t=e.jsx(Qe,{acaoModel:r,acao:s});break;case"removeCRM":t=e.jsx(Ye,{acaoModel:r,acao:s});break;case"removeAllCRM":t=e.jsx(F,{acaoModel:r,acao:s});break;case"addLabel":t=e.jsx(Z,{acaoModel:r,acao:s});break;case"removeLabel":t=e.jsx(Z,{acaoModel:r,acao:s});break;case"removeAllLabel":t=e.jsx(F,{acaoModel:r,acao:s});break;case"recording":case"composing":case"timer":t=e.jsx(Me,{acaoModel:r,acao:s});break;case"arquivar":t=e.jsx(Q,{acaoModel:r,acao:s});break;case"desarquivar":t=e.jsx(Q,{acaoModel:r,acao:s});break;case"fixarChat":t=e.jsx(Y,{acaoModel:r,acao:s});break;case"desfixarChat":t=e.jsx(Y,{acaoModel:r,acao:s});break;case"marcarNaoLido":t=e.jsx(es,{acaoModel:r,acao:s});break;case"transferir":t=e.jsx(rs,{acaoModel:r,acao:s});break;case"bloquear":t=e.jsx(F,{acaoModel:r,acao:s});break;case"pix":t=e.jsx(is,{acaoModel:r,acao:s});break;case"groupInvite":t=e.jsx(as,{acaoModel:r,acao:s});break;case"contact":t=e.jsx(ns,{acaoModel:r,acao:s});break;case"linkPreview":t=e.jsx(ls,{acaoModel:r,acao:s});break;case"sticker":t=e.jsx(ds,{acaoModel:r,acao:s});break;case"list":t=e.jsx(os,{acaoModel:r,acao:s});break}return t}const ps=B({position:"relative"}),xs=B({width:"100%",flexShrink:"0",boxSizing:"border-box",display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"space-between",padding:"space.050",position:"relative",borderWidth:"border.width",borderStyle:"solid",borderRadius:"8px",cursor:"grab"}),ms=B({opacity:.4});function us({item:s,index:a,position:r,acaoModel:t}){var g;const{language:i}=f(),{model:l}=N[t](),{registerItem:p,instanceId:o}=Ge(),m=u.useRef(null),[h,j]=u.useState(null),d=u.useRef(null),[c,n]=u.useState(K);return u.useEffect(()=>{const x=m.current,b=d.current;P(x),P(b);const w=He({item:s,index:a,instanceId:o});return ye(p({itemId:s.id,element:x}),ke({element:b,getInitialData:()=>w,onGenerateDragPreview({nativeSetDragImage:_}){Ie({nativeSetDragImage:_,getOffset:ze({x:J("space.200","16px"),y:J("space.100","8px")}),render({container:k}){return n({type:"preview",container:k}),()=>n(X)}})},onDragStart(){n(X)},onDrop(){n(K)}}),_e({element:x,canDrop({source:_}){return R(_.data)&&_.data.instanceId===o},getData({input:_}){return Ce(w,{element:x,input:_,allowedEdges:["top","bottom"]})},onDrag({self:_,source:k}){if(k.element===x){j(null);return}const O=ie(_.data),V=k.data.index;P(typeof V=="number");const xe=a===V-1,me=a===V+1;if(xe&&O==="bottom"||me&&O==="top"){j(null);return}j(O)},onDragLeave(){j(null)},onDrop(){j(null)}}))},[o,s,a,p]),e.jsxs(u.Fragment,{children:[e.jsxs(Le,{ref:m,xcss:ps,children:[e.jsx(Pe,{trigger:({triggerRef:x,...b})=>{var w;return e.jsx("div",{className:"group","action-id":s.id,"acao-type":s.type,ref:Re([d,x]),"style-inject":"grid-atlassian",style:{...((w=l==null?void 0:l.style)==null?void 0:w.secundaria)&&{background:l.style.secundaria,borderRadius:"8px"}},...b,children:e.jsx(Te,{alignItems:"center",columnGap:"space.100",templateColumns:"auto 1fr auto",xcss:[xs,c.type==="dragging"&&ms],children:e.jsx(cs,{acao:s,index:a,acaoModel:t})})})}}),h&&e.jsx("div",{className:"tema-indicador",children:e.jsx(Ee,{edge:h,gap:"1px"})})]}),c.type==="preview"&&Ve.createPortal(e.jsxs("div",{className:"max-w-[300px] p-2 rounded-lg border border-solid border-[var(--conversation-header-border)] flex items-center gap-1 ml-2",style:{...(g=l==null?void 0:l.style)!=null&&g.secundaria?{background:l.style.secundaria}:{background:"var(--background-default)"}},children:[e.jsxs("span",{children:[a+1," -"]}),e.jsx(M,{type:s.type}),e.jsx("span",{children:e.jsx("h2",{className:"font-semibold text-sm",children:i[`card_${s.type}`]})})]}),c.container)]})}function gs({index:s,items:a}){return a.length===1?"only":s===0?"first":s===a.length-1?"last":"middle"}function hs(){const s=new Map;function a({itemId:t,element:i}){return s.set(t,i),function(){s.delete(t)}}function r(t){return s.get(t)??null}return{register:a,getElement:r}}function fs({acaoModel:s}){const{model:a,acao:r,sortAcoes:t}=N[s](),[{items:i,lastCardMoved:l},p]=u.useState({items:[],lastCardMoved:null}),[o]=u.useState(hs);u.useEffect(()=>{p(c=>({...c,items:r||[]}))},[r]);const[m]=u.useState(()=>Symbol("instance-id")),h=u.useCallback(({startIndex:c,indexOfTarget:n,closestEdgeOfTarget:g})=>{const x=Ae({startIndex:c,closestEdgeOfTarget:g,indexOfTarget:n,axis:"vertical"});x!==c&&(p(b=>{const w=b.items[c];return{items:Se({list:b.items,startIndex:c,finishIndex:x}),lastCardMoved:{item:w,previousIndex:c,currentIndex:x,numberOfItems:b.items.length}}}),t({oldIndex:c,newIndex:x}))},[]);u.useEffect(()=>De({canMonitor({source:c}){return R(c.data)&&c.data.instanceId===m},onDrop({location:c,source:n}){const g=c.current.dropTargets[0];if(!g)return;const x=n.data,b=g.data;if(!R(x)||!R(b))return;const w=i.findIndex(k=>k.id===b.item.id);if(w<0)return;const _=ie(b);h({startIndex:x.index,indexOfTarget:w,closestEdgeOfTarget:_})}}),[m,i,h]),u.useEffect(()=>{if(l===null)return;const{item:c,previousIndex:n,currentIndex:g,numberOfItems:x}=l,b=o.getElement(c.id);b&&Oe(b)},[l,o]);const j=u.useCallback(()=>i.length,[i.length]),d=u.useMemo(()=>({registerItem:o.register,reorderItem:h,instanceId:m,getListLength:j}),[o.register,h,m,j]);return e.jsx(pe.Provider,{value:d,children:e.jsx("div",{className:"pb-1 flex flex-col gap-[6px]",children:i.map((c,n)=>e.jsx(us,{item:c,index:n,position:gs({index:n,items:i}),acaoModel:s},c.id))})})}const js=u.lazy(() => __vitePreload(()=>import(chrome.runtime.getURL("content/assets/js/v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7216.js")),[]));function bs({acaoModel:s}){return e.jsx(u.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(js,{acaoModel:s})})}function Js({acaoModel:s,openCollapse:a=!0,placement:r="left-end"}){var c;const{model:t,acao:i,clearAcao:l}=N[s](),{open:p}=A(),{language:o}=f(),m=W(n=>n.close),h=W(n=>n.open),j=u.useRef(null);return e.jsx("aside",{"type-render":"Components","render-name":"acao",children:e.jsxs("div",{className:`
                collapse shadow-md border border-solid  border-[var(--conversation-header-border)]
                ${a?" ":"bg-base-200 "}
                ${t.arrow?"collapse-arrow ":" "}
            `,style:{...!t.overflow&&{overflow:"visible",overflowX:"clip"},...((c=t==null?void 0:t.style)==null?void 0:c.primaria)&&{background:t.style.primaria}},ref:j,children:[e.jsx("input",{type:"radio",name:t.inputName,checked:a,onChange:t.OnOpen}),e.jsxs("div",{className:"collapse-title font-bold flex flex-wrap items-center gap-4 after:hidden "+(t.size==="large"?"text-xl":"text-lg"),children:[e.jsx("div",{children:o[s]}),a&&e.jsx("div",{className:"z-10",onClick:n=>p(e.jsx(bs,{acaoModel:s}),{placement:r},n.target),children:e.jsxs("div",{className:"badge bg-[var(--primaria)] text-[var(--letra)] mt-2 cursor-pointer animate__animated animate__pulse animate__infinite animate__slow",children:[e.jsx("span",{className:"font-bold",children:e.jsx(je,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-bold",children:"Tags"}),e.jsx("span",{children:e.jsx(q,{className:"h-5 w-5"})})]})}),a&&i.length>=2&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"z-10 ml-6 relative top-[6px]",onMouseEnter:n=>h("Excluir todas as ações",{placement:r},n.target),onMouseLeave:m,onClick:()=>{m(),l()},children:e.jsx("span",{className:"lg:tooltip lg:tooltip-bottom text-red-500",children:e.jsx(D,{size:22})})}),e.jsx("div",{className:"z-10 ml-6 relative top-[6px]",onMouseEnter:n=>h(o.move_action,{placement:r},n.target),onMouseLeave:m,children:e.jsx("span",{className:"lg:tooltip lg:tooltip-bottom",children:e.jsx(we,{className:"h-6 w-6"})})})]})]}),e.jsx("div",{className:"collapse-content !px-2",children:e.jsxs("div",{className:"gap-2 h-full "+(t.overflow?"overflow-y-auto px-1":""),children:[i.length===0&&e.jsx(be,{icon:e.jsx(ve,{size:26,className:"text-[var(--primaria)]"}),title:o.empty_action,description:o.empty_action_desc}),e.jsx(fs,{acaoModel:s}),s!=="useAcaoEnvioEmMassaNew"&&e.jsx("div",{className:"flex justify-center pt-4",children:e.jsx(se,{name:o.addAcao,funcao:n=>p(e.jsx(Be,{acaoModel:s}),{placement:r},n.currentTarget,10,{mounted:()=>n.target.parentNode.classList.add("btn-ativo"),desmouted:()=>n.target.parentNode.classList.remove("btn-ativo")})})})]})})]})})}export{Js as default};
