import{P as ut,j as n,m as St,ba as Sn,d as Nn,bn as Rn,bo as Fn,bp as Pn,bq as kn,br as In,bs as $n,at as Ut,I as A,r as Wt,a8 as S,b as Kt,bt as Mn,bu as An,bv as Dn,bw as En,bx as zn,by as Ln,bz as Vn,bA as Tn,bB as Gn,bC as On,bD as Hn,bE as Bn,bF as Nt,bG as qn,bH as Un,bI as Wn,bJ as Rt,bK as Ft,bL as Kn,bM as Xn,bN as Yn,bO as Jn,bP as Zn,bQ as Qn,bR as es,bS as ts,bT as ns,bU as gt,a0 as Pt,bV as Xt,bW as ss,bX as W,bY as Yt,bZ as mt,b_ as as,b$ as He,c0 as Ce,c1 as rs,c2 as $e,c3 as Jt,c4 as ae,a9 as tt,c5 as nt,V as Zt,a2 as kt,c6 as It,c7 as is,c8 as os,c9 as ls,ca as cs,cb as ds,cc as us,cd as gs,ce as ms,cf as ps,f as xs,a as fs,bc as hs,cg as vs,ch as bs,c as pt,e as Me,ci as De,cj as Qt,ck as en,cl as Ae,cm as _s,cn as Be,co as Ne,cp as Cs,cq as js,h as tn,b6 as ys,cr as ws,cs as Ss,ct as Ns,cu as Rs,cv as Fs,cw as Ps,cx as ks}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab710.js";import{a as R,R as K}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab74.js";import{u as b,b as $t}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab719.js";import{c as E}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab77.js";import{j,k as I,l as st,o as O,p as Is,q as X,u as $s,E as Ms,h as nn,r as sn,t as As}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab721.js";import{C as Ve,q as xt,b7 as Te,o as H,p as L,u as ft,b as ht,n as an,b8 as Ds,ay as Es,b9 as zs,F as qe}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab723.js";import{E as Ls,u as me,a as vt}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab746.js";import{d as Vs}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7108.js";import{A as Ts}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7194.js";import{A as Gs}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7198.js";import{R as Os}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab790.js";import{E as Hs,I as rn}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7199.js";import{u as bt}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab75.js";import{W as M,V as Bs}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab718.js";import{P as qs}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7169.js";import{j as on,X as ln,T as Us,L as Mt,R as Ws,k as Ks,l as At,m as Xs,n as Ys,U as Js,o as Zs,E as Qs,p as Dt}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab78.js";import{u as ea}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab763.js";import{a as Et}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab76.js";import{u as ta}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab793.js";import{a as na}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab791.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab79.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab747.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab72.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab73.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7105.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7125.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab728.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab741.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab738.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab760.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7106.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7107.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab727.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab737.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab736.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7156.js";function sa(e){const s=b.getState().language,t=ut(e);return t.endsWith("@c.us")?s.user_type_contato:t.endsWith("@g.us")?s.user_type_grupo:t.endsWith("lid")?s.user_type_contato:s.user_type_desconhecido}var cn=function(e){var s=R.useRef(null),t=function(a){a.preventDefault();var r=s.current;if(r){a.clientX;var i=a.clientY;r.scrollLeft;var o=r.scrollTop,l=function(g){r.scrollTop=o-(g.clientY-i)},d=function(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",d),r.style.cursor="grab"};r.style.cursor="grabbing",document.addEventListener("mousemove",l),document.addEventListener("mouseup",d)}};return{ref:s,onMouseDown:t}};const pe=E((e,s)=>({activePage:"campaigns",setActivePage:t=>{s().activePage!==t&&e({activePage:t})}})),Ee=E()(Ve(e=>({isHidden:!1,toggleHeader:()=>e(s=>({isHidden:!s.isHidden}))}),{name:"useHeaderController-store",version:1,partialize:e=>({isHidden:e.isHidden})})),aa=({type:e,icon:s,label:t,title:a,onClick:r})=>{const o=pe(c=>c.activePage)===e,l=j(c=>c.campaigns.find(p=>p.id===c.currentCampaignId)),d=(l==null?void 0:l.status)===I.SENDING,g={exitToPanel:"#ef4444",exitToWhats:"#22c55e"};return n.jsxs(St.button,{type:"button",onClick:r,"aria-label":t,title:a||t,className:`w-4/5 p-2 relative rounded-md cursor-pointer place-items-center ${o?"bg-[var(--filter-btn-active-bg)] text-[var(--filter-btn-active-text)]":"bg-[var(--filter-btn-inactive-bg)] hover:bg-[var(--sidebar-line-color)] border border-[var(--filter-btn-inactive-border-color)]"}`,whileHover:{scale:1.05,boxShadow:"0px 5px 10px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:[n.jsx(St.div,{whileHover:{rotate:2},transition:{type:"spring",stiffness:400,damping:20},children:n.jsx(s,{color:g[e]??void 0,className:"2xl:text-2.5xl text-lg"})}),d&&e==="sendFastCampaign"&&n.jsx("div",{className:"absolute top-0.5 right-0.5 pointer-events-none",children:n.jsx(Sn,{tipo:"ativado",size:2})})]})},at=({width:e="100%",borderColor:s="var(--sidebar-line-color)",borderWidth:t="1.5px",margin:a="0"})=>n.jsx("hr",{style:{width:e,borderColor:s,borderWidth:t,borderStyle:"solid",margin:a}}),ra=()=>{const e=$t(c=>c.theme),{setTheme:s}=$t.getState(),t=xt(c=>c.label),{setActivePage:a}=pe.getState(),r=Ee(c=>c.isHidden),i=b(c=>c.language),o=c=>{switch(c){case"sendFastCampaign":a("sendFastCampaign");break;case"campaigns":a("campaigns");break;case"analytics":a("analytics");break;case"toggleHiddenHeader":Ee.getState().toggleHeader();break;case"themeToggle":s(!e);break;case"exitToPanel":st.getState().open(n.jsx(Ls,{}));break;case"exitToWhats":st.getState().close();break;default:console.warn("Ação não implementada:",c)}},l=[{type:"sendFastCampaign",icon:Nn,label:i.sidebar_enviar_campanha,title:i.sidebar_enviar_campanha,onClick:()=>o("sendFastCampaign")},{type:"campaigns",icon:Rn,label:i.sidebar_gerenciar_campanhas,title:i.sidebar_gerenciar_campanhas,onClick:()=>o("campaigns")},{type:"analytics",icon:Fn,label:i.visualizar_relatorios,title:i.visualizar_relatorios,onClick:()=>o("analytics")}],d=[{type:"toggleHiddenHeader",icon:r?Pn:kn,label:r?i.sidebar_mostrar_cabecalho:i.sidebar_ocultar_cabecalho,title:r?i.sidebar_mostrar_cabecalho:i.sidebar_ocultar_cabecalho,onClick:()=>o("toggleHiddenHeader")},{type:"themeToggle",icon:e?In:$n,label:i.sidebar_alternar_tema,title:i.sidebar_alternar_tema_desc,onClick:()=>o("themeToggle")},{type:"exitToWhats",icon:Ut,label:i.sidebar_voltar_whats,title:i.sidebar_voltar_whats,onClick:()=>o("exitToWhats")},{type:"exitToPanel",icon:Vs,label:i.sidebar_voltar_painel,title:i.sidebar_voltar_painel,onClick:()=>o("exitToPanel")}],g=c=>c.map(p=>n.jsx(aa,{...p},p.type));return n.jsxs("aside",{className:"bg-[var(--sidebar-bg-primary)] flex flex-col items-center justify-between w-12 2xl:w-16 py-1",children:[n.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[n.jsx("img",{src:chrome.runtime.getURL("label/icons/icon.png"),className:"object-cover w-4/6 h-auto rounded-full",title:t.name,alt:"Logo"}),n.jsx(at,{}),g(l)]}),n.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[n.jsx(at,{}),g(d)]})]})};function rt(e){const s=b.getState().language;j.getState().setCurrentCampaignId(e);const t=j.getState().campaigns.find(r=>r.id===e);if(!t){A({type:"Error",message:s.campanha_nao_encontrada});return}const a=t.status===I.SENDING||t.status===I.PAUSED;O.getState().setCurrentStep(a?"envio":"contatos"),pe.getState().setActivePage("sendFastCampaign")}function dn({name:e}){return{newCampaign:{id:Wt(),name:e,selectedContacts:[],actions:[],status:I.DRAFT,config:Is,createdAt:new Date,updatedAt:new Date}}}const ia=()=>{const e=b(o=>o.language),{addCampaign:s,setCurrentCampaignId:t}=j.getState(),a=j(o=>o.campaigns),r=j(o=>o.currentCampaignId),i=a.find(o=>o.id===r);return R.useEffect(()=>{if(!r||!i){const o=new Date().toLocaleString(void 0,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),{newCampaign:l}=dn({name:`${e.ensure_campanha} ${o}`});s(l),t(l.id)}},[r,a,s,t,i]),i},oa=()=>{var g;const e=O(c=>c.steps),s=O(c=>c.currentStep),t=e.findIndex(({key:c})=>c===s),a=j(c=>c.currentCampaignId),i=((g=j(c=>c.campaigns).find(c=>c.id===a))==null?void 0:g.name)||"Nome Desconhecido",{breakpoint:o}=X(),l={width:o==="2xl"?"36px":"24px",margin:o==="2xl"?"0 12px":"0 8px"},d=Ee(c=>c.isHidden);return n.jsxs("header",{children:[!d&&n.jsx("div",{className:"flex items-center justify-center py-2 2xl:py-3",children:e.map(({key:c,icon:p,label:f},m)=>{const u=m<=t;return n.jsxs("div",{className:"flex items-center",children:[m!==0&&n.jsx(at,{width:l.width,margin:l.margin,borderColor:u?"var(--primaria)":"var(--sidebar-line-color)"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:S("size-7 2xl:size-9 rounded-full flex items-center justify-center",u?"bg-[var(--primaria)]":"bg-[var(--step-bg-inactive)]"),children:n.jsx(p,{className:S(u?"text-white":"text-[var(--step-icon-color)]","size-4 2xl:size-5")})}),n.jsx("span",{className:S("absolute left-1/2 -translate-x-1/2 top-full text-xs 2xl:text-sm font-semibold whitespace-nowrap",u?"text-[var(--primaria)]":"text-[var(--step-label-color)]"),children:f})]})]},c)})}),n.jsx("div",{className:"mt-2",children:n.jsx("div",{className:"divider before:bg-[var(--sidebar-line-color)] after:bg-[var(--sidebar-line-color)]",children:n.jsx("span",{className:"badge badge-soft bg-[var(--primaria)] text-white !text-xs 2xl:!text-sm font-semibold",children:i})})})]})},Ge=({title:e,subtitle:s})=>n.jsxs("div",{className:"mb-2 2xl:mb-4",children:[n.jsx("h1",{className:"text-lg 2xl:text-2xl font-medium leading-none text-[var(--primary-strong)]",children:e}),s&&n.jsx("p",{className:"text-sm 2xl:text-lg text-[var(--light-text-color)]",children:s})]}),la=()=>{const e=j(a=>a.campaigns.find(r=>r.id===a.currentCampaignId)),t=((e==null?void 0:e.actions)||[]).length===0?"col-span-2":"";return n.jsx("div",{className:S(t,"max-h-[55dvh] overflow-y-auto transition-all duration-200","bg-[var(--eem-bg-secondary)] p-2 rounded-md h-fit"),children:n.jsx(Ts,{acaoModel:"useAcaoEnvioEmMassaNew",placement:"left"})})},D=E(e=>({contacts:[],setContacts:s=>e({contacts:s}),loading:!0,setLoading:s=>e({loading:s})})),ca=()=>{const e=()=>S("text-xs 2xl:text-base font-medium w-full text-left h-7 2xl:h-10 rounded-md transition-transform duration-200 mb-1 last:mb-0","border border-solid flex items-center justify-between px-1.5 leading-tight transform-gpu will-change-transform motion-reduce:transform-none","!border-[var(--filter-btn-inactive-border-color)] !bg-[var(--filter-btn-inactive-bg)] hover:!scale-[0.98]","hover:!bg-[var(--filter-btn-inactive-bg)] active:!bg-[var(--filter-btn-inactive-bg)] active:!text-[var(--primary-strong)]"),s={containerClassName:S("!w-full !p-0.5"),itemClassName:e()};return n.jsx("div",{children:n.jsx(Gs,{acaoModel:"useAcaoEnvioEmMassaNew",style:s})})},da=()=>{const{breakpoint:e}=X(),s=e==="2xl"?"560":"418";return n.jsx("div",{className:"relative",children:n.jsx(Os,{listSize:s})})},ua=()=>{const e=D(o=>o.loading),s=b(o=>o.language),[t,a]=R.useState("actions"),r=o=>{e||t===o||a(o)},i=o=>S("text-xs 2xl:text-sm truncate flex items-center justify-center gap-1 flex-1 h-7 2xl:h-10 px-2 rounded-md transition-all duration-200 font-medium leading-none transform-gpu will-change-transform motion-reduce:transform-none",!e&&"hover:scale-[0.98] active:scale-[0.96] active:opacity-80",e&&"opacity-50 cursor-not-allowed",o?"bg-[var(--filter-btn-active-bg)] text-[var(--filter-btn-active-text)] shadow-sm":"text-[var(--primary-strong)] bg-[var(--view-btn-inactive-bg)]");return n.jsxs("div",{className:"flex flex-col gap-1 bg-[var(--eem-bg-secondary)] p-2 rounded-md h-fit",children:[n.jsxs("div",{className:"w-full flex items-center rounded-md gap-1",children:[n.jsxs("button",{type:"button","aria-pressed":t==="actions",className:i(t==="actions"),onClick:e?void 0:()=>r("actions"),disabled:e,children:[n.jsx(Kt,{className:"text-inherit"}),n.jsx("span",{className:"font-bold",children:s.switch_acoes})]}),n.jsxs("button",{type:"button","aria-pressed":t==="fastResponse",className:i(t==="fastResponse"),onClick:e?void 0:()=>r("fastResponse"),disabled:e,children:[n.jsx(Mn,{className:"text-inherit"}),n.jsx("span",{className:"font-bold",children:s.switch_respostas_rapidas})]})]}),t==="actions"?n.jsx(ca,{}):n.jsx(da,{})]})},P=17,ga={txt:n.jsx(ns,{size:P}),image:n.jsx(ts,{size:P}),video:n.jsx(es,{size:P}),audio:n.jsx(Qn,{size:P}),doc:n.jsx(Zn,{size:P}),sticker:n.jsx(Jn,{size:P}),respostaRapida:n.jsx(Yn,{size:P}),addCRM:n.jsx(Xn,{size:P}),removeCRM:n.jsx(Kn,{size:P}),removeAllCRM:n.jsx(Rt,{size:P}),addLabel:n.jsx(Ft,{size:P}),removeLabel:n.jsx(Ft,{size:P}),removeAllLabel:n.jsx(Rt,{size:P}),timer:n.jsx(Wn,{size:P}),composing:n.jsx(Un,{size:P}),recording:n.jsx(qn,{size:P}),arquivar:n.jsx(Nt,{size:P}),desarquivar:n.jsx(Nt,{size:P}),fixarChat:n.jsx(Bn,{size:P}),desfixarChat:n.jsx(Hn,{size:P}),marcarNaoLido:n.jsx(On,{size:P}),transferir:n.jsx(Gn,{size:P}),bloquear:n.jsx(Tn,{size:P}),pix:n.jsx(Vn,{size:P}),groupInvite:n.jsx(Ln,{size:P}),contact:n.jsx(zn,{size:P}),linkPreview:n.jsx(En,{size:P}),list:n.jsx(Dn,{size:P})},ma=e=>ga[e]??n.jsx(An,{size:P}),xe=({action:e})=>n.jsx("div",{className:"w-5 h-5 flex-shrink-0 rounded-md flex items-center justify-center",children:n.jsx("span",{className:"inline-flex items-center justify-center",children:ma(e.type)})}),pa=({action:e,index:s})=>{const t=b(c=>c.language),a="p-1 2xl:p-1.5 rounded-md bg-[color-mix(in_srgb,var(--primaria)_30%,white)] shadow-md text-black font-semibold flex items-center gap-2",r="flex items-center justify-center size-4 2xl:size-5 rounded-full bg-[var(--primaria)] text-black text-xs flex-shrink-0",i="flex-1 flex items-center gap-2 min-w-0",o="truncate text-xs 2xl:text-sm",l="p-1 2xl:p-1.5 rounded-md bg-gray-100 shadow-md text-gray-500 font-normal flex items-center gap-2 border-2 border-dashed border-gray-300",d=c=>n.jsxs("div",{className:l,children:[n.jsx("div",{className:"flex items-center justify-center size-5 2xl:size-6 rounded-full !bg-gray-400 !text-white text-xs 2xl:text-sm flex-shrink-0",children:s+1}),n.jsx("div",{className:i,children:n.jsx("span",{className:S("text-gray-500 italic",o),children:c})})]}),g=c=>{var p,f,m;switch(c.type){case"txt":{const{mensagem:u}=c.propriedades;return u!=null&&u.trim()?n.jsxs("div",{className:a,children:[n.jsx("div",{className:r,children:s+1}),n.jsxs("div",{className:i,children:[n.jsx(xe,{action:c}),n.jsx("span",{className:o,children:u})]})]}):d(t.action_item_mensagem_vazia)}case"image":{const{base64:u,mensagem:x}=c.propriedades;return u?n.jsxs("div",{className:a,children:[n.jsx("div",{className:r,children:s+1}),n.jsxs("div",{className:i,children:[n.jsx("div",{className:"2xl:size-8 size-7 flex-shrink-0 overflow-hidden rounded-md",children:n.jsx("img",{src:u,alt:x??"imagem",className:"w-full h-full object-cover"})}),x&&n.jsx("span",{className:o,children:x})]})]}):d(t.action_item_imagem_nao_encontrada)}case"video":{const{base64:u,mensagem:x}=c.propriedades;return u?n.jsxs("div",{className:a,children:[n.jsx("div",{className:r,children:s+1}),n.jsxs("div",{className:i,children:[n.jsx("div",{className:"2xl:size-8 size-7 flex-shrink-0 overflow-hidden rounded-md",children:n.jsx("video",{src:u,className:"w-full h-full object-cover"})}),x&&n.jsx("span",{className:o,children:x})]})]}):d(t.action_item_video_nao_encontrado)}case"audio":{const{base64:u}=c.propriedades;return u?n.jsxs("div",{className:a,children:[n.jsx("div",{className:r,children:s+1}),n.jsxs("div",{className:i,children:[n.jsx(xe,{action:c}),n.jsx("div",{className:"w-full max-w-xs min-w-0",children:n.jsx("audio",{controls:!0,src:u,className:"w-full h-4"})})]})]}):d(t.action_item_audio_nao_encontrado)}case"doc":{const{base64:u,base64Name:x}=c.propriedades;return!u||!x?d(t.action_item_documento_nao_encontrado):n.jsxs("div",{className:a,children:[n.jsx("div",{className:r,children:s+1}),n.jsxs("div",{className:i,children:[n.jsx(xe,{action:c}),n.jsx("span",{className:o,children:x})]})]})}case"sticker":{const{base64:u}=c.propriedades;return u?n.jsxs("div",{className:a,children:[n.jsx("div",{className:r,children:s+1}),n.jsxs("div",{className:i,children:[n.jsx("div",{className:"2xl:size-8 size-7 flex-shrink-0 overflow-hidden rounded-md",children:n.jsx("img",{src:u,alt:"sticker",className:"w-full h-full object-cover"})}),n.jsx("div",{className:o,children:t.action_item_criar_sticker})]})]}):d(t.action_item_sticker_nao_encontrado)}case"respostaRapida":{const{respostaRapidaID:u}=c.propriedades;return u!=null&&u.trim()?n.jsxs("div",{className:a,children:[n.jsx("div",{className:r,children:s+1}),n.jsxs("div",{className:i,children:[n.jsx(xe,{action:c}),n.jsx("span",{className:o,children:t.action_item_resposta_rapida})]})]}):d(t.action_item_resposta_rapida_nao_selecionada)}case"addCRM":case"removeCRM":case"removeAllCRM":case"addLabel":case"removeLabel":case"removeAllLabel":case"timer":case"composing":case"recording":case"arquivar":case"desarquivar":case"fixarChat":case"desfixarChat":case"marcarNaoLido":case"bloquear":case"groupInvite":case"contact":case"linkPreview":case"transferir":case"pix":{const u=c.propriedades;let x="";switch(c.type){case"addCRM":x=`${t.action_item_adicionar_crm}${u.crmID?`: ${u.crmID}`:""}${u.abaID?` (${t.action_item_aba}: ${u.abaID})`:""}`;break;case"removeCRM":x=`${t.action_item_remover_crm}${u.crmID?`: ${u.crmID}`:""}${u.abaID?` (${t.action_item_aba}: ${u.abaID})`:""}`;break;case"removeAllCRM":x=t.action_item_remover_todos_crms;break;case"addLabel":x=`${t.action_item_adicionar_etiqueta}: ${u.labelID||t.action_item_sem_id}`;break;case"removeLabel":x=`${t.action_item_remover_etiqueta}: ${u.labelID||t.action_item_sem_id}`;break;case"removeAllLabel":x=t.action_item_remover_todas_etiquetas;break;case"timer":x=u.segundos?`${t.action_item_aguardar_segundos} ${u.segundos} ${t.action_item_segundos}`:t.action_item_timer_sem_duracao;break;case"composing":x=u.segundos?`${t.action_item_digitando_por} ${u.segundos} ${t.action_item_segundos}`:t.action_item_tempo_digitacao_nao_definido;break;case"recording":x=u.segundos?`${t.action_item_gravando_por} ${u.segundos} ${t.action_item_segundos}`:t.action_item_tempo_gravacao_nao_definido;break;case"arquivar":x=t.action_item_arquivar_contato;break;case"desarquivar":x=t.action_item_desarquivar_contato;break;case"fixarChat":x=t.action_item_fixar_conversa;break;case"desfixarChat":x=t.action_item_desfixar_conversa;break;case"marcarNaoLido":x=t.action_item_marcar_nao_lido;break;case"bloquear":x=t.action_item_bloquear_contato;break;case"groupInvite":x=t.action_item_convite_grupo;break;case"contact":x=u.userName?`${u.userName} - ${u.userID??""}`:t.action_item_contato_sem_nome;break;case"linkPreview":x=u.title||u.link||t.action_item_link;break;case"transferir":if(!((p=u.email)!=null&&p.trim()))return d(t.action_item_email_transferencia_nao_definido);x=`${t.action_item_transferir_para}: ${u.email}${u.urgencia?` (${t.action_item_urgente})`:""}${u.mensagem?` - ${u.mensagem}`:""}`;break;case"pix":if(!((f=u.key)!=null&&f.trim())||!((m=u.name)!=null&&m.trim()))return d(t.action_item_dados_pix_incompletos);x=`${t.action_item_pix} (${u.keyType}): ${u.name} - ${u.key}`;break;default:x=`${c.type}`}return n.jsxs("div",{className:a,children:[n.jsx("div",{className:r,children:s+1}),n.jsxs("div",{className:i,children:[n.jsx(xe,{action:c}),n.jsx("span",{className:o,children:x})]})]})}default:return d(`${t.action_item_acao}: ${c.type}`)}};return n.jsx(n.Fragment,{children:g(e)})},xa="/assets/png/Whatsbg.chunk.png",fa=()=>{const e=b(a=>a.language),s=j(a=>a.campaigns.find(r=>r.id===a.currentCampaignId)),t=(s==null?void 0:s.actions)||[];return n.jsxs("div",{style:{backgroundImage:`url(${chrome.runtime.getURL(`content/${xa}`)})`},className:"flex flex-col p-3 2xl:p-4 rounded-md overflow-hidden h-[43dvh] overflow-y-auto transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2 w-full text-[var(--primaria)] font-bold mb-3 2xl:mb-4",children:[n.jsx(gt,{className:"2xl:text-2xl text-lg"}),n.jsx("h2",{className:"2xl:text-lg text-sm",children:e.preview_titulo})]}),n.jsx("div",{className:"flex-1 flex flex-col gap-1.5 2xl:gap-2 overflow-y-auto",children:t.map((a,r)=>n.jsx(pa,{action:a,index:r},a.id))})]})},ha=()=>{const e=b(p=>p.language),s=j(p=>p.campaigns.find(f=>f.id===p.currentCampaignId)),t=j(p=>p.updateConfig),a="range !range-xs w-full",r="font-medium label p-0";if(!s)return null;const i=p=>{t(s.id,{interval:{...s.config.interval,seconds:parseInt(p)}})},o=p=>{t(s.id,{pause:{...s.config.pause,every:parseInt(p)}})},l=p=>{t(s.id,{pause:{...s.config.pause,durationSeconds:parseInt(p)}})},d=p=>{const f=p.target.checked;t(s.id,{signature:{...s.config.signature,disabled:f,useCustomName:f?!1:s.config.signature.useCustomName,customName:f?void 0:s.config.signature.customName}})},g=p=>{const f=p.target.checked;t(s.id,{signature:{...s.config.signature,useCustomName:f,customName:f?s.config.signature.customName:void 0}})},c=p=>{t(s.id,{signature:{...s.config.signature,customName:p.trim()||void 0}})};return n.jsxs("div",{className:"w-full !text-xs 2xl:!text-sm",children:[n.jsxs("div",{title:e.campaign_settings_intervalo_tooltip,children:[n.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[n.jsx("label",{className:"font-medium",children:e.campaign_settings_intervalo}),n.jsxs("span",{className:"font-semibold",children:[s.config.interval.seconds," ",e.campaign_settings_segundos]})]}),n.jsx("input",{type:"range",min:1,max:60,value:s.config.interval.seconds,onChange:p=>i(p.target.value),className:a,style:{zoom:"75%"}})]}),n.jsxs("div",{title:e.campaign_settings_pausa_tooltip,children:[n.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[n.jsx("label",{className:"font-medium",children:e.campaign_settings_pausa_a_cada}),n.jsxs("span",{className:"font-semibold",children:[s.config.pause.every," ",e.campaign_settings_contatos]})]}),n.jsx("input",{type:"range",min:1,max:50,value:s.config.pause.every,onChange:p=>o(p.target.value),className:a,style:{zoom:"75%"}})]}),n.jsxs("div",{title:e.campaign_settings_tempo_pausa_tooltip,children:[n.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[n.jsx("label",{className:"font-medium",children:e.campaign_settings_tempo_pausa}),n.jsxs("span",{className:"font-semibold",children:[s.config.pause.durationSeconds," ",e.campaign_settings_segundos]})]}),n.jsx("input",{type:"range",min:5,max:300,value:s.config.pause.durationSeconds,onChange:p=>l(p.target.value),className:a,style:{zoom:"75%"}})]}),n.jsx("div",{className:"mb-1",title:e.campaign_settings_desativar_tooltip,children:n.jsxs("label",{className:r,children:[e.campaign_settings_desativar_assinatura,n.jsx(Pt,{id:"disable-signature",estado:s.config.signature.disabled,switchUpdate:d,zoom:{zoom:"60%"}})]})}),!s.config.signature.disabled&&n.jsx("div",{className:"mb-1",title:e.campaign_settings_personalizar_tooltip,children:n.jsxs("label",{className:r,children:[e.campaign_settings_personalizar_nome,n.jsx(Pt,{id:"custom-signature-name",estado:s.config.signature.useCustomName,switchUpdate:g,zoom:{zoom:"60%"}})]})}),s.config.signature.useCustomName&&!s.config.signature.disabled&&n.jsx("div",{title:e.campaign_settings_nome_tooltip,children:n.jsxs("fieldset",{className:"fieldset",children:[n.jsx("legend",{className:"fieldset-legend",children:e.campaign_settings_nome_assinatura}),n.jsx("input",{type:"text",className:`input 2xl:input-sm input-xs input-bordered w-full
                           2xl:placeholder:!text-sm placeholder:!text-xs`,placeholder:e.campaign_settings_digite_nome,value:s.config.signature.customName||"",onChange:p=>c(p.target.value)})]})})]})},va=()=>{const e=b(a=>a.language),s=j(a=>a.campaigns.find(r=>r.id===a.currentCampaignId)),t=(s==null?void 0:s.actions)||[];return n.jsxs(n.Fragment,{children:[n.jsx(Ge,{title:e.step_actions_titulo,subtitle:e.step_actions_subtitulo}),n.jsxs("div",{className:"grid grid-cols-[30%_minmax(300px,1fr)_23%] gap-2 2xl:gap-4",children:[n.jsx(ua,{}),n.jsx(la,{}),t.length>0&&n.jsxs("div",{className:"flex flex-col gap-2 bg-[var(--eem-bg-secondary)] p-2 rounded-md h-fit",children:[n.jsx(fa,{}),n.jsx(ha,{})]})]})]})},ie=E((e,s)=>({activeFilter:{type:"filter",id:"savedContacts"},setActiveFilter:t=>{e({activeFilter:{type:"filter",id:t}})},setActiveGroupment:t=>{e({activeFilter:{type:"groupment",id:t}})}})),ze=E()(Ve(e=>({groupments:[],addGroupment:s=>e(t=>({groupments:[...t.groupments,s]})),removeGroupment:s=>e(t=>({groupments:t.groupments.filter(a=>a.id!==s)}))}),{name:"useGroupments-store",version:1,partialize:e=>({groupments:e.groupments})})),ba=()=>{const e=b(C=>C.language),[s,t]=R.useState("filters"),a=D(C=>C.loading),r=ie(C=>C.activeFilter),{setActiveFilter:i,setActiveGroupment:o}=ie.getState(),l=ze(C=>C.groupments),d=ze(C=>C.removeGroupment),g=Te.getState().setImportedContacts,c=j(C=>C.campaigns.find(T=>T.id===C.currentCampaignId)),p=(c==null?void 0:c.selectedContacts)||[],f=H.getState().open,m=C=>{r.type==="filter"&&r.id===C||i(C)},u=()=>{f(n.jsx(rn,{list:C=>g(C)}))},x=C=>{r.type==="groupment"&&r.id===C||o(C)},v=C=>{a||s===C||t(C)},_=[{id:"savedContacts",type:"filter",label:e.cts_salvos,onClick:()=>m("savedContacts")},{id:"inbox",type:"filter",label:e.inbox,onClick:()=>m("inbox")},{id:"labels",type:"filter",label:e.etiquetas,onClick:()=>m("labels")},{id:"groups",type:"filter",label:e.grupos,onClick:()=>m("groups")},{id:"groupContacts",type:"filter",label:e.cts_grupos,onClick:()=>m("groupContacts")},{id:"crmOrTabs",type:"filter",label:`${e.crms} / ${e.abas}`,onClick:()=>m("crmOrTabs")},{id:"contactProfile",type:"filter",label:e.perfil_cts,onClick:()=>m("contactProfile")},{id:"importSpreadsheet",type:"filter",label:e.importar_planilha,onClick:()=>m("importSpreadsheet")}],h=l.map(C=>({id:C.id,type:"groupment",label:C.name,onClick:()=>x(C.id)})),N=s==="filters"?_:h,k=C=>S("text-xs 2xl:text-sm truncate flex items-center justify-center gap-1 flex-1 h-7 2xl:h-10 px-2 rounded-md transition-all duration-200 font-medium leading-none transform-gpu will-change-transform motion-reduce:transform-none",!a&&"hover:scale-[0.98] active:scale-[0.96] active:opacity-80",a&&"opacity-50 cursor-not-allowed",C?"bg-[var(--filter-btn-active-bg)] text-[var(--filter-btn-active-text)] shadow-sm":"text-[var(--primary-strong)] bg-[var(--view-btn-inactive-bg)]"),F=C=>S("text-xs 2xl:text-base font-medium w-full text-left h-7 2xl:h-10 rounded-md transition-transform duration-200 border border-solid flex items-center justify-between px-1.5 leading-tight transform-gpu will-change-transform motion-reduce:transform-none",C?"bg-[var(--filter-btn-active-bg)] text-[var(--filter-btn-active-text)]":"border-[var(--filter-btn-inactive-border-color)] bg-[var(--filter-btn-inactive-bg)] hover:scale-[0.98]",a&&!C&&"opacity-50 cursor-not-allowed hover:scale-100");return n.jsxs("div",{className:"flex flex-col items-start gap-1 bg-[var(--eem-bg-secondary)] p-2 rounded-md h-fit",children:[n.jsxs("div",{className:"w-full flex items-center rounded-md gap-1",children:[n.jsxs("button",{className:k(s==="filters"),onClick:a?void 0:()=>v("filters"),disabled:a,children:[n.jsx(Xt,{className:"text-inherit"}),n.jsx("span",{className:"font-bold",children:e.filtros}),n.jsx("div",{className:"badge badge-xs 2xl:badge-sm badge-soft text-white bg-[var(--primaria)]",children:_.length})]}),n.jsxs("button",{className:k(s==="groups"),onClick:a?void 0:()=>v("groups"),disabled:a,children:[n.jsx(ss,{className:"text-inherit"}),n.jsx("span",{className:"font-bold",children:e.agrupamentos}),n.jsx("div",{className:"badge badge-xs 2xl:badge-sm badge-soft text-white bg-[var(--primaria)]",children:h.length})]})]}),n.jsxs("div",{className:"flex flex-col gap-1 w-full max-h-[50dvh] overflow-y-auto p-[0.5px]",children:[N.map(C=>{const T=r.type===C.type&&r.id===C.id,Q=C.id==="importSpreadsheet",oe=C.type==="groupment";return n.jsxs("button",{className:F(T),onClick:a&&!T?void 0:C.onClick,disabled:a&&!T,children:[n.jsx("span",{className:"truncate flex-1",children:C.label}),a&&T&&n.jsx(W,{className:"text-sm 2xl:text-base animate-spin"}),Q&&!a&&n.jsxs("button",{type:"button",title:e.importar_planilha_titulo,className:"rounded-md text-xs 2xl:text-base px-2 gap-1 transition-all active:scale-95 flex items-center justify-center border border-solid duration-200 hover:scale-[0.98]",onClick:()=>u(),children:[e.importar,n.jsx(Yt,{})]}),oe&&!a&&n.jsx("button",{type:"button",title:e.remover_agrupamento,className:"2xl:size-6 size-5 rounded-md transition-all active:scale-95 text-red-500 flex items-center justify-center border border-solid duration-200 hover:scale-[0.98]",onClick:le=>{le.stopPropagation(),d(C.id)},children:n.jsx(mt,{className:"2xl:text-base text-sm"})})]},`${C.type}-${C.id}`)}),s==="groups"&&h.length===0&&n.jsxs("div",{className:"text-center text-xs 2xl:text-base py-2 2xl:py-4 px-1.5 2x:px-2 border border-dotted italic rounded-md",children:[e.nenhum_agrupamento_criado,n.jsx("br",{}),e.criar_agrupamentos_destinatarios]})]}),n.jsxs("button",{className:`mt-1 text-xs 2xl:text-base w-full truncate flex items-center justify-center gap-1 p-1.5 
        rounded-md transition-all duration-200 font-medium leading-none transform-gpu 
        motion-reduce:transform-none hover:scale-[0.98] active:scale-[0.96] will-change-transform 
        active:opacity-80 text-[var(--primary-strong)] bg-[var(--view-btn-inactive-bg)]`,onClick:()=>Hs(p),children:[n.jsx(as,{}),n.jsx("span",{className:"font-medium",children:e.exportar_contatos_selecionados})]})]})},Se=({contact:e,className:s="",size:t="md"})=>{var m;const[a,r]=R.useState(!1),i=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-orange-500","bg-indigo-500","bg-teal-500"],o={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base"},l=e.id.charCodeAt(0)%i.length,d=i[l],g=`${o[t]} rounded-full ${s} border border-solid border-[var(--contact-img-border-color)]`;function c(u){const x=u.match(/[A-Za-zÀ-ÖØ-öø-ÿ]/);if(x)return x[0].toUpperCase();const v=u.match(/\d/);return v?v[0]:"?"}const p=(m=e.name)!=null&&m.trim()?e.name.trim():e.phone||e.id;return e.avatarUrl&&e.avatarUrl!=="undefined"&&e.avatarUrl.trim()&&!a?n.jsx("img",{src:e.avatarUrl,alt:e.name,className:`${g} object-cover`,onError:()=>r(!0)}):n.jsx("div",{className:`${g} flex items-center justify-center ${d}`,children:n.jsx("span",{className:"text-white font-semibold",children:c(p)})})},_a=({contact:e,virtualItem:s})=>{const t=b(f=>f.language),{breakpoint:a}=X(),r=j(f=>f.currentCampaignId),i=j(f=>f.campaigns),{updateCampaign:o}=j.getState(),l=i.find(f=>f.id===r),d=(l==null?void 0:l.selectedContacts.some(f=>f.id===e.id))||!1,g=sa(e.id),c=a==="2xl"?"md":"sm",p=()=>{if(!l)return;const f=d?l.selectedContacts.filter(m=>m.id!==e.id):[...l.selectedContacts,e];o(l.id,{selectedContacts:f})};return n.jsx("div",{className:"absolute top-0 left-0 w-full will-change-transform",style:{height:s.size,transform:`translateY(${s.start}px)`},children:n.jsxs("label",{htmlFor:`contact-checkbox-${e.id}`,className:`w-full h-full py-1 2xl:py-1.5 px-2 2xl:px-3 flex items-center gap-1 2xl:gap-2 
        bg-[var(--contact-card-bg)] rounded-md cursor-pointer
        transition-all duration-200 hover:scale-[1.01] hover:opacity-90
        active:scale-[0.98] active:opacity-90`,style:{border:"1px solid var(--sidebar-line-color)"},children:[n.jsx("input",{id:`contact-checkbox-${e.id}`,type:"checkbox",checked:d,onChange:p,className:"checkbox checkbox-xs 2xl:checkbox-sm checkbox-neutral"}),n.jsx(Se,{contact:e,size:c}),n.jsxs("div",{className:"flex flex-col w-10/12",children:[n.jsx("span",{className:"text-xs 2xl:text-base font-medium truncate",children:e.name}),n.jsxs("span",{className:"2xl:text-xs text-[10px] text-[var(--light-text-color)]",children:[n.jsx("strong",{children:t.contact_card_tipo})," ",g]})]})]})})},Ca=K.memo(_a),je=E(e=>({activeLabel:"all",setActiveLabel:s=>e({activeLabel:s})}));let Re=null;const ja=300*1e3,ya=()=>{var m;const e=b(u=>u.language),[s,t]=R.useState([]),a=D(u=>u.loading),r=R.useRef(null),i=je(u=>u.activeLabel),o=je.getState().setActiveLabel,l=L(u=>u.modalOptions),{open:d,close:g}=L.getState();R.useEffect(()=>{const u=Date.now();if(Re&&u-Re.timestamp<ja){t(Re.data);return}M.Labels("getAllLabels").then(x=>{t(x),Re={data:x,timestamp:u}}).catch(x=>console.error("Erro ao buscar labels:",x))},[]);const c=()=>{var u;return n.jsxs("div",{className:"flex flex-col rounded-md max-h-[42vh] overflow-hidden",style:{width:(u=r.current)==null?void 0:u.offsetWidth},children:[n.jsx("div",{className:"sticky top-0 px-3 py-2",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:"text-sm font-medium text-gray-600",children:s.length===0?e.nenhuma_etiqueta_disponivel:s.length===1?`${s.length} ${e.etiqueta_disponivel}`:`${s.length} ${e.etiquetas_disponiveis}`})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto px-2 py-1",children:[s.length>0&&n.jsxs("div",{className:S("flex items-center gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 my-0.5 text-xs 2xl:text-sm cursor-pointer rounded-md transition-colors",{"dark:bg-neutral-700 bg-neutral-300":i==="all"},{"hover:bg-[var(--view-btn-inactive-bg)]":i!=="all"}),onClick:()=>{o("all"),g()},children:[n.jsx(He,{className:"flex-shrink-0"}),n.jsx("span",{className:"truncate",children:e.todas_etiquetas})]}),s.map(({id:x,name:v})=>n.jsxs("div",{className:S("flex items-center gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 my-0.5 text-xs 2xl:text-sm cursor-pointer rounded-md transition-colors",{"dark:bg-neutral-700 bg-neutral-300":i===x},{"hover:bg-[var(--view-btn-inactive-bg)]":i!==x}),onClick:()=>{o(x),g()},children:[n.jsx(rs,{className:"flex-shrink-0"}),n.jsx("span",{className:"truncate",children:v})]},x)),s.length===0&&!a&&n.jsx("div",{className:"flex items-center justify-center py-6 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(He,{className:"text-2xl mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:e.nenhuma_etiqueta_encontrada})]})})]})]})},p=u=>{u.stopPropagation(),l?g():d(n.jsx(c,{}),{placement:"bottom"},u.currentTarget)},f=a?e.carregando_etiquetas:s.length===0?e.nenhuma_etiqueta_disponivel:i==="all"?e.todas_etiquetas:((m=s.find(u=>u.id===i))==null?void 0:m.name)||e.selecione_uma_etiqueta;return n.jsx("div",{className:"w-full",children:n.jsxs("button",{ref:r,onClick:p,disabled:a,className:S("w-full flex items-center justify-between gap-1 2xl:gap-2 px-2 2xl:px-3 py-1","2xl:py-2 text-xs 2xl:text-sm rounded-md transition-all duration-200 border",a?"cursor-not-allowed opacity-60":"cursor-pointer hover:scale-[1.01] active:opacity-80",l?"bg-[var(--view-btn-inactive-bg)]":"bg-[var(--filter-btn-inactive-bg)] hover:bg-[var(--view-btn-inactive-bg)]","border-solid border-[var(--sidebar-line-color)]"),children:[n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2",children:[a?n.jsx(W,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)] animate-spin"}):n.jsx(He,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)]"}),n.jsx("span",{className:"truncate font-medium text-[var(--primary-strong)]",children:f})]}),!a&&n.jsx(Ce,{className:S("text-sm 2xl:text-lg text-[var(--primary-strong)] transform transition-transform",{"rotate-180":l})})]})})},Le=E(e=>({activeGroup:"all",setActiveGroup:s=>e({activeGroup:s})}));let Fe=null;const wa=300*1e3,Sa=()=>{var m;const e=b(u=>u.language),[s,t]=R.useState([]),a=D(u=>u.loading),r=R.useRef(null),i=Le(u=>u.activeGroup),o=Le.getState().setActiveGroup,l=L(u=>u.modalOptions),{open:d,close:g}=L.getState();R.useEffect(()=>{const u=Date.now();if(Fe&&u-Fe.timestamp<wa){t(Fe.data);return}M.Group("getAllGroups").then(x=>{const v=x.filter(_=>_.name).sort((_,h)=>_.name.localeCompare(h.name));t(v),Fe={data:v,timestamp:Date.now()}}).catch(x=>console.error("Erro ao buscar grupos:",x))},[]);const c=()=>{var u;return n.jsxs("div",{className:"flex flex-col rounded-md max-h-[42vh] overflow-hidden",style:{width:(u=r.current)==null?void 0:u.offsetWidth},children:[n.jsx("div",{className:"sticky top-0 px-3 py-2",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:"text-xs 2xl:text-sm font-medium text-gray-600",children:s.length===0?e.nenhum_grupo_disponivel:s.length===1?`${s.length} ${e.grupo_disponivel}`:`${s.length} ${e.grupos_disponiveis}`})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto px-2 py-1",children:[s.length>0&&n.jsxs("div",{className:S("flex items-center gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 my-0.5 text-xs 2xl:text-sm cursor-pointer rounded-md transition-all duration-200",{"dark:bg-neutral-700 bg-neutral-300":i==="all"},{"hover:bg-[var(--view-btn-inactive-bg)]":i!=="all"}),onClick:()=>{o("all"),g()},children:[n.jsx($e,{className:"flex-shrink-0"}),n.jsx("span",{className:"truncate",children:e.todos_grupos})]}),s.map(({id:x,name:v})=>n.jsxs("div",{className:S("flex items-center gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 my-0.5 text-xs 2xl:text-sm cursor-pointer rounded-md transition-all duration-200",{"dark:bg-neutral-700 bg-neutral-300":i===x},{"hover:bg-[var(--view-btn-inactive-bg)]":i!==x}),onClick:()=>{o(x),g()},children:[n.jsx(Jt,{className:"flex-shrink-0"}),n.jsx("span",{className:"truncate",children:v})]},x.toString())),s.length===0&&!a&&n.jsx("div",{className:"flex items-center justify-center py-6 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx($e,{className:"text-2xl mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:e.nenhum_grupo_encontrado})]})})]})]})},p=u=>{u.stopPropagation(),l?g():d(n.jsx(c,{}),{placement:"bottom"},u.currentTarget)},f=a?e.carregando_grupos:s.length===0?e.nenhum_grupo_disponivel:i==="all"?e.todos_grupos:((m=s.find(u=>u.id===i))==null?void 0:m.name)||e.selecione_um_grupo;return n.jsx("div",{className:"w-full",children:n.jsxs("button",{ref:r,onClick:p,disabled:a,className:S("w-full flex items-center justify-between gap-1 2xl:gap-2 px-2 2xl:px-3 py-1","2xl:py-2 text-xs 2xl:text-sm rounded-md transition-all duration-200 border",a?"cursor-not-allowed opacity-60":"cursor-pointer hover:scale-[1.01] active:opacity-80",l?"bg-[var(--view-btn-inactive-bg)]":"bg-[var(--filter-btn-inactive-bg)] hover:bg-[var(--view-btn-inactive-bg)]","border-solid border-[var(--sidebar-line-color)]"),children:[n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2",children:[a?n.jsx(W,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)] animate-spin"}):n.jsx($e,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)]"}),n.jsx("span",{className:"truncate font-medium text-[var(--primary-strong)]",children:f})]}),!a&&n.jsx(Ce,{className:S("text-sm 2xl:text-lg text-[var(--primary-strong)] transform transition-transform",{"rotate-180":l})})]})})},ue=E(e=>({activeCrm:"all",setActiveCrm:s=>e({activeCrm:s})})),ge=E((e,s)=>({activeSwitch:"tab",setActiveSwitch:t=>{s().activeSwitch!==t&&e({activeSwitch:t})}})),ye=E(e=>({activeCrmTab:"all",setActiveCrmTab:s=>e({activeCrmTab:s}),resetActiveCrmTab:()=>e({activeCrmTab:"all"})})),we=E(e=>({activeUserTab:"all",setActiveUserTab:s=>e({activeUserTab:s})}));function _t(){const{crm:e}=ft.getState(),{userTabs:s}=ht.getState(),{activeCrm:t}=ue.getState(),{activeCrmTab:a}=ye.getState(),{activeSwitch:r}=ge.getState(),{activeUserTab:i}=we.getState();return{crms:e,activeCrm:t,activeSwitch:r,activeCrmTab:a,activeUserTab:i,userTabs:s}}const un=()=>{const{crms:e,activeCrm:s,activeSwitch:t}=_t();if(t!=="crm"||s==="all")return[];const a=e.find(r=>r.id===s);return(a==null?void 0:a.list)||[]},zt=e=>{const{loading:s}=D.getState();return S("flex flex-1 items-center text-xs 2xl:text-sm justify-center gap-1 py-0.5 2xl:py-1 rounded-md transition-all duration-200 font-medium",!s&&"hover:scale-[1.02] active:scale-95 active:opacity-80",s&&"opacity-50 cursor-not-allowed",e?"bg-[var(--filter-btn-active-bg)] text-[var(--filter-btn-active-text)] shadow-sm border border-[var(--filter-btn-active-bg)]":"text-[var(--primary-strong)] bg-[var(--view-btn-inactive-bg)]")},Na=()=>{var l;const{language:e}=b.getState(),{loading:s}=D.getState(),{crms:t,activeCrm:a,activeCrmTab:r}=_t();if(s)return e.carregando;if(r==="all"){const d=((l=t.find(g=>g.id===a))==null?void 0:l.name)||"";return`${e.todas_abas_crm} ${d}`}const o=un().find(d=>d.id===r);return(o==null?void 0:o.name)||e.selecione_uma_aba},Ra=()=>{var l,d;const{language:e}=b.getState(),{activeSwitch:s,activeCrm:t,activeUserTab:a,crms:r,userTabs:i}=_t(),{loading:o}=D.getState();if(o)return e.carregando;if(s==="crm")return t==="all"?e.todos_crms:((l=r.find(g=>g.id===t))==null?void 0:l.name)||e.selecione_um_crm;if(s==="tab")return a==="all"?e.todas_abas:((d=i.find(g=>g.id===a))==null?void 0:d.tag)||e.selecione_uma_aba},Fa=({crmTabsFilterRef:e})=>{var l;const s=b(d=>d.language),t=un(),a=ye(d=>d.activeCrmTab),r=ye.getState().setActiveCrmTab,i=D(d=>d.loading),o=L.getState().close;return n.jsx("div",{className:"flex flex-col rounded-md max-h-[42vh] overflow-hidden",style:{width:(l=e.current)==null?void 0:l.offsetWidth},children:n.jsxs("div",{className:"flex-1 overflow-y-auto px-2 py-1",children:[n.jsxs("div",{className:S("flex items-center gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 my-0.5 text-xs 2xl:text-sm cursor-pointer rounded-md",{"dark:bg-neutral-700 bg-neutral-300":a==="all"},{"hover:bg-[var(--view-btn-inactive-bg)]":a!=="all"}),onClick:()=>{r("all"),o()},children:[n.jsx(ae,{className:"flex-shrink-0"}),n.jsx("span",{className:"truncate",children:s.todas_abas})]}),t.map(d=>n.jsxs("div",{className:S("flex items-center gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 my-0.5 text-xs 2xl:text-sm cursor-pointer rounded-md",{"dark:bg-neutral-700 bg-neutral-300":a===d.id,"hover:bg-[var(--view-btn-inactive-bg)]":a!==d.id}),onClick:()=>{r(d.id),o()},children:[n.jsx(ae,{className:"flex-shrink-0"}),n.jsx("span",{className:"truncate",children:d.name})]},d.id)),t.length===0&&!i&&n.jsx("div",{className:"flex items-center justify-center py-6 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ae,{className:"text-2xl mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:s.nenhuma_aba_encontrada})]})})]})})},Pa=({mainFilterRef:e})=>{var _;const s=b(h=>h.language),t=ht(h=>h.userTabs),a=we(h=>h.activeUserTab),r=we.getState().setActiveUserTab,i=ge(h=>h.activeSwitch),o=D(h=>h.loading),l=ft(h=>h.crm),d=ue(h=>h.activeCrm),g=ue.getState().setActiveCrm,c=L.getState().close,p=i==="crm",f=p?l:t,m=p?d:a,u=p?g:r,x=p?s.todos_crms:s.todas_abas,v=p?tt:ae;return n.jsx("div",{className:"flex flex-col rounded-md max-h-[42vh] overflow-hidden",style:{width:(_=e.current)==null?void 0:_.offsetWidth},children:n.jsxs("div",{className:"flex-1 overflow-y-auto px-2 py-1",children:[n.jsxs("div",{className:S("flex items-center gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 my-0.5 text-xs 2xl:text-sm cursor-pointer rounded-md",{"dark:bg-neutral-700 bg-neutral-300":m==="all"},{"hover:bg-[var(--view-btn-inactive-bg)]":m!=="all"}),onClick:()=>{u("all"),c()},children:[n.jsx(v,{className:"flex-shrink-0"}),n.jsx("span",{className:"truncate",children:x})]}),f.map(h=>{const N="name"in h?h.name:h.tag;return n.jsxs("div",{className:S("flex items-center gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 my-0.5 text-xs 2xl:text-sm cursor-pointer rounded-md",{"dark:bg-neutral-700 bg-neutral-300":m===h.id,"hover:bg-[var(--view-btn-inactive-bg)]":m!==h.id}),onClick:()=>{u(h.id),c()},children:[n.jsx(v,{className:"flex-shrink-0"}),n.jsx("span",{className:"truncate",children:N})]},h.id)}),f.length===0&&!o&&n.jsx("div",{className:"flex items-center justify-center py-6 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(v,{className:"text-2xl mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:s.nenhum_item_encontrado})]})})]})})},ka=()=>{const e=b(x=>x.language),s=ge(x=>x.activeSwitch),t=ge.getState().setActiveSwitch,a=D(x=>x.loading),r=R.useRef(null),i=R.useRef(null),{open:o,close:l}=L.getState(),d=L(x=>x.modalOptions),g=ue(x=>x.activeCrm),c=x=>{a||s===x||(t(x),l())},p=(x,v="main")=>{x.stopPropagation(),v==="main"?d?l():o(n.jsx(Pa,{mainFilterRef:r}),{placement:"bottom"},x.currentTarget,5):d?l():o(n.jsx(Fa,{crmTabsFilterRef:i}),{placement:"bottom"},x.currentTarget,5)},f=d&&r.current===document.activeElement,m=d&&i.current===document.activeElement,u=s==="crm"&&g!=="all";return n.jsxs("div",{className:"w-full flex flex-col gap-1 2xl:gap-2 2xl:mt-1",children:[n.jsxs("div",{className:"w-full flex gap-1 2xl:gap-2 items-center",children:[n.jsxs("button",{className:zt(s==="tab"),onClick:a?void 0:()=>c("tab"),disabled:a,children:[n.jsx(ae,{}),n.jsx("span",{className:"font-bold",children:e.abas})]}),n.jsxs("button",{className:zt(s==="crm"),onClick:a?void 0:()=>c("crm"),disabled:a,children:[n.jsx(tt,{}),n.jsx("span",{className:"font-bold",children:e.crms})]})]}),n.jsxs("button",{ref:r,onClick:x=>p(x,"main"),disabled:a,className:S("w-full flex items-center justify-between gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 text-xs 2xl:text-sm cursor-pointer border rounded-md transition-all duration-200",a?"cursor-not-allowed opacity-60 bg-gray-100":"cursor-pointer hover:scale-[1.01] active:opacity-80",f?"bg-[var(--view-btn-inactive-bg)]":"bg-[var(--filter-btn-inactive-bg)] hover:bg-[var(--view-btn-inactive-bg)]","border-solid border-[var(--sidebar-line-color)]"),children:[n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2",children:[a?n.jsx(W,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)] animate-spin"}):s==="tab"?n.jsx(ae,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)]"}):n.jsx(tt,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)]"}),n.jsx("span",{className:"truncate font-medium text-[var(--primary-strong)]",children:Ra()})]}),!a&&n.jsx(Ce,{className:S("text-sm 2xl:text-lg text-[var(--primary-strong)] transform transition-transform",{"rotate-180":f})})]}),u&&n.jsxs("button",{ref:i,onClick:x=>p(x,"crmTabs"),disabled:a,className:S("w-full flex items-center justify-between gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 text-xs 2xl:text-sm cursor-pointer border rounded-md transition-all duration-200",a?"cursor-not-allowed opacity-60 bg-gray-100":"cursor-pointer hover:scale-[1.01] active:opacity-80",m?"bg-[var(--view-btn-inactive-bg)]":"bg-[var(--filter-btn-inactive-bg)] hover:bg-[var(--view-btn-inactive-bg)]","border-solid border-[var(--sidebar-line-color)]"),children:[n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2",children:[a?n.jsx(W,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)] animate-spin"}):n.jsx(ae,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)]"}),n.jsx("span",{className:"truncate font-medium text-[var(--primary-strong)]",children:Na()})]}),!a&&n.jsx(Ce,{className:S("text-sm 2xl:text-lg text-[var(--primary-strong)] transform transition-transform",{"rotate-180":m})})]})]})},Ue={gender:null,birthDate:null,city:null,state:null,leadSource:null,entryDate:null,exitDate:null,company:null,jobTitle:null,interestedProducts:[]},U=E()(Ve((e,s)=>({tempFilters:Ue,appliedFilters:Ue,currentProduct:"",updateTempField:(t,a)=>{e(r=>({tempFilters:{...r.tempFilters,[t]:a}}))},setCurrentProduct:t=>{e({currentProduct:t})},addProduct:()=>{const{currentProduct:t,tempFilters:a}=s(),r=t.trim();r&&!a.interestedProducts.includes(r)&&e(i=>({tempFilters:{...i.tempFilters,interestedProducts:[...i.tempFilters.interestedProducts,r]},currentProduct:""}))},removeProduct:t=>{e(a=>({tempFilters:{...a.tempFilters,interestedProducts:a.tempFilters.interestedProducts.filter(r=>r!==t)}}))},clearTempFilters:()=>{e({tempFilters:Ue,currentProduct:""})},applyFilters:()=>{const{tempFilters:t}=s();e({appliedFilters:t})}}),{name:"advanced-filters-eem",version:1,partialize:e=>({tempFilters:e.tempFilters,appliedFilters:e.appliedFilters})})),B=({id:e,label:s,type:t="text",placeholder:a,options:r,grid:i=!1})=>{const o=b(p=>p.language),l=U(p=>p.tempFilters),d=U(p=>p.updateTempField),g=l[e]||"",c=p=>{d(e,p||null)};return n.jsxs("div",{className:`space-y-1 ${i?"flex-1":""}`,children:[n.jsx("label",{htmlFor:e,className:"block text-sm font-semibold",children:s}),r?n.jsxs("select",{id:e,value:g,onChange:p=>c(p.target.value),className:"select select-sm !leading-none w-full border border-solid border-[var(--fallback-bc,oklch(var(--bc)/.2))]",children:[n.jsx("option",{value:"",children:a||`${o.selecione} ${s.toLowerCase()}`}),r.map(p=>n.jsx("option",{value:p.value,children:p.label},p.value))]}):n.jsx("input",{id:e,type:t,placeholder:a,className:"input input-sm input-bordered w-full border border-solid transition-all duration-200",value:g,onChange:p=>c(p.target.value)})]})},Ia=[{value:"AC",label:"Acre"},{value:"AL",label:"Alagoas"},{value:"AP",label:"Amapá"},{value:"AM",label:"Amazonas"},{value:"BA",label:"Bahia"},{value:"CE",label:"Ceará"},{value:"DF",label:"Distrito Federal"},{value:"ES",label:"Espírito Santo"},{value:"GO",label:"Goiás"},{value:"MA",label:"Maranhão"},{value:"MT",label:"Mato Grosso"},{value:"MS",label:"Mato Grosso do Sul"},{value:"MG",label:"Minas Gerais"},{value:"PA",label:"Pará"},{value:"PB",label:"Paraíba"},{value:"PR",label:"Paraná"},{value:"PE",label:"Pernambuco"},{value:"PI",label:"Piauí"},{value:"RJ",label:"Rio de Janeiro"},{value:"RN",label:"Rio Grande do Norte"},{value:"RS",label:"Rio Grande do Sul"},{value:"RO",label:"Rondônia"},{value:"RR",label:"Roraima"},{value:"SC",label:"Santa Catarina"},{value:"SP",label:"São Paulo"},{value:"SE",label:"Sergipe"},{value:"TO",label:"Tocantins"}],$a=[{value:"whatsapp",label:"WhatsApp"},{value:"youtube",label:"YouTube"},{value:"facebook",label:"Facebook"},{value:"instagram",label:"Instagram"},{value:"linkedin",label:"LinkedIn"},{value:"tiktok",label:"TikTok"},{value:"google",label:"Google"},{value:"site",label:b.getState().language.lead_sources_site||"Site"},{value:"formulario",label:b.getState().language.lead_sources_formulario||"Formulário"},{value:"crm",label:"CRM"},{value:"outros",label:b.getState().language.lead_sources_outros||"Outros"}],Ma=[{value:"male",label:b.getState().language.gender_masculino||"Masculino"},{value:"female",label:b.getState().language.gender_feminino||"Feminino"}],Aa=()=>{const e=b(l=>l.language),s=U(l=>l.tempFilters),t=U(l=>l.currentProduct),{setCurrentProduct:a,addProduct:r,removeProduct:i}=U.getState(),o=l=>{l.key==="Enter"&&(l.preventDefault(),t.trim()&&r())};return n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-sm font-semibold",children:e.digite_produto_interesse}),n.jsxs("div",{className:"flex gap-2 items-center",children:[n.jsx("input",{type:"text",placeholder:e.digite_produto_interesse,className:"input input-sm input-bordered flex-1 border border-solid transition-all duration-200",value:t,onChange:l=>a(l.target.value),onKeyDown:o}),n.jsx("button",{type:"button",onClick:r,className:"bg-[var(--primaria)] text-white p-2 rounded-md",children:e.adicionar})]}),s.interestedProducts.length>0&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-sm font-semibold",children:e.produtos_selecionados}),n.jsx("div",{className:"flex flex-wrap gap-2",children:s.interestedProducts.map((l,d)=>n.jsxs("button",{type:"button",title:e.remover_produto,onClick:()=>i(l),className:`bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full text-sm flex items-center
                gap-2 hover:scale-105 active:scale-90 cursor-pointer transition-all duration-150`,children:[n.jsx("span",{className:"truncate flex-1 min-w-0",children:l}),n.jsx(nt,{className:"text-red-500 hover:text-red-600 cursor-pointer flex-shrink-0 w-4 h-4"})]},d))})]})]})},Da=()=>{const e=b(r=>r.language),{applyFilters:s,clearTempFilters:t}=U.getState(),a=r=>{r.preventDefault(),s(),H.getState().close(),A({type:"Success",message:e.filtros_aplicados_sucesso})};return n.jsxs("div",{className:"w-[520px] max-h-[92vh] overflow-y-auto",children:[n.jsx(Zt,{children:e.filtragem_avancada}),n.jsxs("form",{className:"space-y-3 mt-3",onSubmit:r=>r.preventDefault(),children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(B,{id:"gender",label:e.genero,options:Ma,grid:!0}),n.jsx(B,{id:"birthDate",label:e.data_nascimento,type:"date",grid:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(B,{id:"city",label:e.cidade,placeholder:e.digite_cidade,grid:!0}),n.jsx(B,{id:"state",label:e.estado,options:Ia,grid:!0})]}),n.jsx(B,{id:"leadSource",label:e.origem_lead,options:$a}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(B,{id:"entryDate",label:e.data_entrada,type:"date",grid:!0}),n.jsx(B,{id:"exitDate",label:e.data_saida,type:"date",grid:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(B,{id:"company",label:e.empresa,placeholder:e.nome_empresa,grid:!0}),n.jsx(B,{id:"jobTitle",label:e.cargo,placeholder:e.cargo_placeholder,grid:!0})]}),n.jsx(Aa,{}),n.jsxs("div",{className:"pt-2 w-full flex justify-center gap-3",children:[n.jsx(kt,{type:"reset",name:e.limpar,funcao:t},"clearTempFilters"),n.jsx(kt,{type:"submit",name:e.filtrar,funcao:a},"applyFilters")]})]})]})},de=E()(Ve((e,s)=>({options:[{key:"all"},{key:"birthdaysThisMonth"},{key:"genderMale"},{key:"genderFemale"}],selectedOption:"all",setSelectedOption:t=>{s().selectedOption!==t&&e({selectedOption:t})}}),{name:"useProfilesOptions-store",version:1,partialize:e=>({selectedOption:e.selectedOption})}));function gn(e){const s=b.getState().language;return{all:s.todos_os_contatos,birthdaysThisMonth:s.aniversariantes_mes,genderMale:s.sexo_masculino,genderFemale:s.sexo_feminino}[e]??s.opcao_desconhecida}function mn(e){const s="text-sm 2xl:text-base flex-shrink-0";return{all:n.jsx(It,{className:s}),birthdaysThisMonth:n.jsx(ls,{className:s}),genderMale:n.jsx(os,{className:s}),genderFemale:n.jsx(is,{className:s})}[e]??n.jsx(It,{className:s})}const Ea=({profileOptionsRef:e})=>{var i;const s=de(o=>o.options),t=de(o=>o.selectedOption),a=de.getState().setSelectedOption,r=L.getState().close;return n.jsx("div",{className:"flex flex-col rounded-md max-h-[42vh] overflow-hidden",style:{width:(i=e.current)==null?void 0:i.offsetWidth},children:n.jsx("div",{className:"flex-1 overflow-y-auto px-2 py-0.5 2xl:py-1",children:s.map(o=>n.jsxs("div",{className:S("flex items-center gap-1 2xl:gap-2 px-2 2xl:px-3 py-1 2xl:py-2 my-0.5 text-xs 2xl:text-sm cursor-pointer rounded-md",{"dark:bg-neutral-700 bg-neutral-300":o.key===t,"hover:bg-[var(--view-btn-inactive-bg)]":o.key!==t}),onClick:()=>{a(o.key),r()},children:[mn(o.key),n.jsx("span",{className:"truncate",children:gn(o.key)})]},o.key))})})},za=()=>{const e=b(c=>c.language),s=R.useRef(null),t=R.useRef(null),a=U(c=>c.appliedFilters),r=Object.values(a).filter(c=>(c==null?void 0:c.length)??c).length,i=D(c=>c.loading),o=L(c=>c.modalOptions),l=()=>{const{open:c}=H.getState();c(n.jsx(Da,{}))},d=c=>{const{open:p,close:f}=L.getState();o?f():p(n.jsx(Ea,{profileOptionsRef:t}),{placement:"bottom"},c.currentTarget,5)},g=de(c=>c.selectedOption);return n.jsxs("div",{className:"w-full flex items-center gap-1 2xl:gap-2",children:[n.jsxs("button",{type:"button",ref:t,onClick:d,disabled:i,className:S("w-full flex items-center justify-between px-1.5 2xl:px-3 py-1 2xl:py-2 border rounded-md transition-all duration-200",i?"cursor-not-allowed opacity-60 bg-gray-100":"cursor-pointer hover:scale-[1.01] active:opacity-80",o?"bg-[var(--view-btn-inactive-bg)]":"bg-[var(--filter-btn-inactive-bg)] hover:bg-[var(--view-btn-inactive-bg)]","border-solid border-[var(--sidebar-line-color)]"),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[i?n.jsx(W,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)] animate-spin"}):mn(g),n.jsx("span",{className:"truncate text-xs 2xl:text-base font-medium text-[var(--primary-strong)]",children:gn(g)})]}),!i&&n.jsx(Ce,{className:S("text-sm 2xl:text-lg text-[var(--primary-strong)] transform transition-transform",{"rotate-180":o})})]}),n.jsx("button",{type:"button",ref:s,title:e.abrir_filtragem_avancada,onClick:l,disabled:i,className:S("w-fit flex items-center justify-between px-1.5 2xl:px-3 py-1 2xl:py-2 border rounded-md transition-all duration-200",i?"cursor-not-allowed opacity-60 bg-gray-100":"cursor-pointer hover:scale-[1.01] active:opacity-80","bg-[var(--filter-btn-inactive-bg)] hover:bg-[var(--view-btn-inactive-bg)]","border-solid border-[var(--sidebar-line-color)]"),children:n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2",children:[i?n.jsx(W,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)] animate-spin"}):n.jsx(Xt,{className:"text-sm 2xl:text-lg text-[var(--primary-strong)]"}),n.jsxs("div",{className:"truncate text-xs 2xl:text-base font-medium text-[var(--primary-strong)]",children:[n.jsxs("span",{children:[e.filtragem_avancada," "]}),n.jsx("div",{className:"badge badge-xs 2xl:badge-sm badge-outline bg-[var(--primaria)]",children:r})]})]})})]})},La=()=>{const e=ie(t=>t.activeFilter);return{savedContacts:null,inbox:null,labels:n.jsx(ya,{}),groups:null,groupContacts:n.jsx(Sa,{}),crmOrTabs:n.jsx(ka,{}),contactProfile:n.jsx(za,{}),importSpreadsheet:null}[e.id]||null},Va=()=>{const e=Te.getState().setImportedContacts,s=H.getState().open,t=b(r=>r.language),a=()=>{s(n.jsx(rn,{list:r=>e(r)}))};return n.jsxs("button",{type:"button",title:t.importar_planilha,className:"rounded-md text-xs 2xl:text-sm px-2 py-1 gap-1 transition-all active:scale-95 flex items-center justify-center border border-solid duration-200 hover:scale-[0.98]",onClick:()=>a(),children:[t.importar_contatos,n.jsx(Yt,{})]})},Ta=()=>{const e=ie(t=>t.activeFilter);return{savedContacts:null,inbox:null,labels:null,groups:null,groupContacts:null,crmOrTabs:null,contactProfile:null,importSpreadsheet:n.jsx(Va,{})}[e.id]||null},Ga=()=>{const e=b(h=>h.language),[s,t]=R.useState(""),a=D(h=>h.contacts),r=D(h=>h.loading),i=j(h=>h.currentCampaignId),o=j(h=>h.campaigns),{updateCampaign:l}=j.getState(),d=o.find(h=>h.id===i),g=(d==null?void 0:d.selectedContacts)||[],c=R.useMemo(()=>{if(!s.trim())return a;const h=s.toLowerCase();return a.filter(N=>{var k,F;return((k=N.name)==null?void 0:k.toLowerCase().includes(h))||((F=N.phone)==null?void 0:F.toLowerCase().includes(h))})},[a,s]),{breakpoint:p}=X(),f={estimateSize:p==="2xl"?70:44,gap:p==="2xl"?8:4,padding:p==="2xl"?8:4},m=K.useRef(null),u=bt({count:c.length,getScrollElement:()=>m.current,estimateSize:()=>f.estimateSize,paddingStart:f.padding,paddingEnd:f.padding,gap:f.gap,overscan:10}),x=u.getTotalSize(),v=u.getVirtualItems(),_=()=>{if(!d)return;const h=new Set(c.map(F=>F.id)),k=c.every(F=>g.some(C=>C.id===F.id))?g.filter(F=>!h.has(F.id)):[...g,...c.filter(F=>!g.some(C=>C.id===F.id))];l(d.id,{selectedContacts:k})};return n.jsxs("div",{className:"bg-[var(--eem-bg-secondary)] p-2 rounded-md h-fit",children:[n.jsxs("div",{className:"w-full flex gap-1 2xl:gap-2 h-8 2xl:h-11 items-stretch px-1 2xl:px-2",children:[n.jsxs("div",{className:"relative flex-1 h-full",children:[n.jsx(cs,{className:"absolute text-base 2xl:text-xl left-3 top-1/2 transform -translate-y-1/2 text-black"}),n.jsx("input",{role:"search",type:"text",placeholder:e.contacts_list_pesquisar,value:s,onChange:h=>t(h.target.value),className:S("w-full pl-8 2xl:pl-10 h-full border text-sm 2xl:text-base rounded-md","bg-[var(--search-bg-color)] text-black","placeholder:!text-sm 2xl:placeholder:!text-base placeholder:!text-slate-500")})]}),n.jsxs("button",{onClick:_,className:`w-fit px-2 flex items-center justify-center rounded-md 
             h-full bg-[var(--selectAll-btn-bg-color)] hover:bg-[var(--selectAll-btn-hover-bg)] 
             text-white text-sm 2xl:text-base transition-all duration-150
             hover:scale-[1.02] active:scale-95 active:opacity-80
             border border-solid border-[var(--eem-border-primary)]`,children:[n.jsx(ds,{className:"text-white text-base 2xl:text-xl"}),n.jsx("span",{className:"ml-1 font-medium",children:c.every(h=>g.some(N=>N.id===h.id))?e.contacts_list_desmarcar_tudo:e.contacts_list_selecionar_tudo})]})]}),n.jsx("div",{className:"w-full px-1 2xl:px-2 py-1",children:n.jsx(La,{})}),n.jsx("div",{className:"w-full px-2 pb-2 border-b-2 border-solid border-[var(--sidebar-line-color)]",children:r&&a.length===0?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(W,{className:"text-xs 2xl:text-base animate-spin"}),n.jsx("span",{className:"text-xs 2xl:text-base",children:e.contacts_list_carregando})]}):n.jsx("p",{className:"2xl:text-base text-xs",children:`${a.length} ${e.contacts_list_disponiveis} • ${g.length} ${e.contacts_list_selecionados}`})}),n.jsx("div",{className:"w-full overflow-auto max-h-[40dvh] px-1",ref:m,children:r&&a.length===0?n.jsx("div",{className:"flex h-[38vh] justify-center items-center",children:n.jsx(W,{size:48,className:"animate-spin"})}):c.length===0?n.jsxs("div",{className:"flex flex-col h-[36dvh] justify-center items-center text-gray-600 dark:text-gray-400",children:[n.jsx(us,{className:"2xl:mb-3 mb-1 opacity-60 text-3xl 2xl:text-4xl"}),n.jsx("p",{className:"text-base 2xl:text-lg font-medium 2xl:mb-1",children:s.trim()?e.contacts_list_nenhum_encontrado:e.contacts_list_nenhum_disponivel}),n.jsx("p",{className:"text-xs 2xl:text-sm text-center max-w-xs mb-1",children:s.trim()?e.contacts_list_ajustar_busca:a.length===0?e.contacts_list_nao_existe:e.contacts_list_aparecerao_aqui}),n.jsx(Ta,{})]}):n.jsx("div",{style:{height:x,position:"relative"},children:v.map(h=>{const N=c[h.index];return N?n.jsx(Ca,{contact:N,virtualItem:h},N.id):null})})})]})},Oa=({selectedContact:e,virtualItem:s})=>{const t=b(c=>c.language),{breakpoint:a}=X(),r=j(c=>c.currentCampaignId),i=j(c=>c.campaigns),{updateCampaign:o}=j.getState(),l=i.find(c=>c.id===r),d=a==="2xl"?"sm":"xs",g=c=>{if(!l)return;const p=l.selectedContacts.filter(f=>f.id!==c);o(l.id,{selectedContacts:p})};return n.jsx("div",{className:"absolute top-0 left-0 w-full will-change-transform",style:{height:s.size,transform:`translateY(${s.start}px)`},children:n.jsxs("label",{htmlFor:`selectedContact-${e.id}`,className:`flex items-center justify-between bg-[var(--contact-card-bg)] rounded-md p-1 border border-solid
        border-[var(--sidebar-line-color)] cursor-pointer hover:scale-[1.02] active:scale-95 active:opacity-80 transition-all duration-200`,title:t.remover_contato,children:[n.jsxs("div",{className:"flex items-center gap-1.5 2xl:gap-3 w-10/12",children:[n.jsx(Se,{contact:e,size:d}),n.jsx("p",{className:"text-xs 2xl:text-base font-medium truncate flex-1",children:e.name})]}),n.jsx("button",{id:`selectedContact-${e.id}`,className:`hover:bg-[var(--view-btn-inactive-bg)] hover:scale-[1.04] active:scale-90
          active:opacity-80 p-1 2xl:p-1.5 rounded-md transition-all duration-200 text-red-500`,onClick:()=>g(e.id),children:n.jsx(mt,{className:"text-sm 2xl:text-xl"})})]},e.id)})},Lt={contactId:"",name:"",surname:"",syncAdressBook:!0},Vt={isChecking:!1,isValid:null,message:""},re=E(e=>({formData:Lt,validation:Vt,setFormData:s=>e(t=>({formData:{...t.formData,...s}})),setValidation:s=>e(()=>({validation:s})),resetForm:()=>e(()=>({formData:Lt,validation:Vt}))})),Ha=()=>{const e=re(a=>a.validation);if(!e.message)return null;const s=()=>{const a="flex items-center gap-2 mt-2 text-sm";return e.isChecking?`${a} text-base-content/60`:e.isValid===!1?`${a} text-error`:e.isValid===!0?`${a} text-success`:a},t=()=>e.isChecking?n.jsx("span",{className:"loading loading-spinner loading-xs"}):e.isValid===!1?n.jsx(gs,{className:"w-4 h-4"}):e.isValid===!0?n.jsx(ms,{className:"w-4 h-4"}):null;return n.jsxs("div",{className:s(),children:[t(),n.jsx("span",{children:e.message})]})},Ba=()=>{const e=b(r=>r.language),s=re(r=>r.validation),t=s.isChecking||s.isValid===!1||!s.message.trim(),a=`
    w-full mt-6 px-6 py-3 
    bg-gray-900 hover:bg-gray-800 active:bg-gray-950 
    dark:bg-gray-100 dark:hover:bg-gray-200 dark:active:bg-gray-50 
    text-white dark:text-gray-900 
    font-medium rounded-xl 
    transition-all duration-200 ease-out 
    flex items-center justify-center gap-2 
    shadow-lg hover:shadow-xl 
    dark:shadow-gray-200/20 dark:hover:shadow-gray-200/30 
    transform hover:-translate-y-0.5 active:translate-y-0 
    focus:outline-none focus:ring-2 focus:ring-gray-500 
    dark:focus:ring-gray-400 focus:ring-offset-2 
    dark:focus:ring-offset-gray-800 
    disabled:opacity-50 disabled:cursor-not-allowed 
    disabled:transform-none group
  `.replace(/\s+/g," ").trim();return n.jsx("button",{type:"submit",disabled:t,className:a,children:s.isChecking?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"loading loading-spinner loading-sm"}),n.jsx("span",{className:"tracking-wide",children:e.verificando})]}):n.jsxs(n.Fragment,{children:[n.jsx(ps,{className:"w-4 h-4 transition-transform duration-200 group-hover:scale-110"}),n.jsx("span",{className:"tracking-wide",children:e.criar_adicionar_contato})]})})};let be=null;const qa=500,Ua=e=>{const{language:s}=b.getState(),{setValidation:t}=re.getState();be&&clearTimeout(be),t({isChecking:!1,isValid:null,message:""});const a=e.replace(/\D/g,"");a.trim()&&(be=setTimeout(async()=>{t({isChecking:!0,isValid:null,message:s.verificando_numero});try{const[r]=await Promise.all([M.Contact("queryExists",a),new Promise(i=>setTimeout(i,qa))]);t({isChecking:!1,isValid:r&&r!=="undefined",message:r&&r!=="undefined"?s.numero_valido_existe:s.numero_invalido_nao_existe})}catch{t({isChecking:!1,isValid:!1,message:s.erro_verificar_numero})}},1e3))},Wa=()=>{be&&clearTimeout(be)},Ka=async()=>{const{language:e}=b.getState(),{formData:s}=re.getState(),{currentCampaignId:t,campaigns:a,updateCampaign:r}=j.getState();try{const i=a.find(u=>u.id===t);if(!i)return A({type:"Error",message:e.nenhuma_campanha_ativa}),!1;const o={contactId:s.contactId,name:s.name,options:{surname:s.surname,syncAdressBook:s.syncAdressBook}},l=await M.Contact("save",o);if(!l||typeof l=="string"&&l==="undefined")return A({type:"Error",message:e.erro_salvar_contato}),!1;const d=l.id.toString(),g=await M.Contact("getProfilePictureUrl",d).catch(()=>null),c=g&&g!=="undefined"?g:null,p={id:d,name:l.name,phone:xs(d),avatarUrl:c};if(i.selectedContacts.some(u=>u.id===p.id))return A({type:"Error",message:e.contato_ja_existe_campanha}),!1;const m=[...i.selectedContacts,p];return r(i.id,{selectedContacts:m}),A({type:"Success",message:e.contato_adicionado_sucesso}),!0}catch(i){return console.error("Erro ao criar contato:",i),A({type:"Error",message:e.erro_criar_contato}),!1}},Xa=()=>{const e=b(g=>g.language),s=re(g=>g.formData),t=re(g=>g.validation),{setFormData:a,resetForm:r}=re.getState(),{close:i}=H.getState(),o=(g,c)=>{g==="contactId"&&typeof c=="string"?(a({contactId:c}),Ua(c)):a({[g]:c})},l=async g=>{if(g.preventDefault(),t.isValid===!1)return;await Ka()&&(i(),r())},d=()=>{const g="!input !input-bordered !pl-14 !focus:input-neutral";return t.isValid===!1?`${g} !input-error`:t.isValid===!0?`${g} !input-success`:g};return R.useEffect(()=>()=>{Wa()},[]),n.jsxs("form",{onSubmit:l,className:"space-y-2",children:[n.jsxs("div",{className:"form-control",children:[n.jsx("label",{className:"label",children:n.jsx("span",{className:"label-text font-medium",children:e.numero_whatsapp})}),n.jsx(qs,{value:s.contactId,setValue:g=>o("contactId",g),inputClass:d(),buttonStyle:{marginTop:"9px",paddingLeft:"10px"},placeholder:e.digite_numero_whatsapp,preferredCountries:["in","br","ar","us","id","mx","ru","pk","ng"],enableSearch:!0,searchPlaceholder:e.buscar_pais,searchNotFound:e.pais_nao_encontrado,inputProps:{name:"whatsapp",required:!0,autoFocus:!0}}),n.jsx(Ha,{})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"form-control",children:[n.jsx("label",{className:"label",children:n.jsx("span",{className:"label-text font-medium",children:e.nome})}),n.jsx("input",{type:"text",value:s.name,onChange:g=>o("name",g.target.value),placeholder:"João",className:"input input-bordered focus:input-neutral",required:!0})]}),n.jsxs("div",{className:"form-control",children:[n.jsx("label",{className:"label",children:n.jsx("span",{className:"label-text font-medium",children:e.sobrenome})}),n.jsx("input",{type:"text",value:s.surname,onChange:g=>o("surname",g.target.value),placeholder:"Silva",className:"input input-bordered focus:input-neutral"})]})]}),n.jsx("div",{className:"form-control",children:n.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[n.jsx("input",{type:"checkbox",checked:s.syncAdressBook,onChange:g=>o("syncAdressBook",g.target.checked),className:"checkbox checkbox-neutral checkbox-sm"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"label-text font-medium",children:e.sincronizar_google_contatos}),n.jsx("span",{className:"text-xs text-base-content/60 mt-1",children:s.syncAdressBook?e.contato_salvo_whatsapp_google:e.contato_salvo_apenas_whatsapp})]})]})}),n.jsx(Ba,{})]})},Ya=()=>n.jsxs("div",{className:"min-w-[450px] bg-base-100 p-3",children:[n.jsx(Ja,{}),n.jsx(Xa,{})]}),Ja=()=>{const e=b(s=>s.language);return n.jsxs("div",{className:"flex flex-col items-center mb-2",children:[n.jsx("div",{className:"avatar placeholder mb-2",children:n.jsx("div",{className:"bg-neutral text-neutral-content rounded-full w-14 h-14",children:n.jsx(fs,{className:"w-7 h-7"})})}),n.jsx(Zt,{children:e.adicionar_novo_contato}),n.jsxs("p",{className:"text-base-content/70 text-center mt-2 text-base leading-relaxed max-w-sm",children:[e.crie_contato_adicione," ",n.jsx("span",{className:"text-[var(--primary-strong)] font-semibold",children:e.automaticamente})," ",e.a_lista]})]})},Za=()=>{const e=b(x=>x.language),[s,t]=K.useState(!1),a=K.useRef(null),r=j(x=>x.currentCampaignId),o=j(x=>x.campaigns).find(x=>x.id===r),{open:l,close:d}=$s.getState(),g=(o==null?void 0:o.selectedContacts)||[],{addGroupment:c}=ze.getState(),p=x=>{x.preventDefault();const _=new FormData(x.currentTarget).get("groupmentName");if(!(_!=null&&_.trim()))return;const h={id:Wt(),name:_.trim(),contacts:[...g]};c(h),A({type:"Success",message:e.agrupamento_criado_sucesso}),a.current&&a.current.reset(),t(!1)},f=()=>{t(!1),a.current&&a.current.reset()},m=()=>S("h-full px-1 2xl:px-2 rounded-md bg-[var(--addContact-btn-bg-color)] hover:bg-[var(--addContact-btn-hover-bg)]","text-black transition-all duration-150 gap-1 hover:scale-[1.02] active:scale-95 active:opacity-80","border border-solid border-[var(--eem-border-primary)] flex items-center justify-center"),u=x=>{l(e.salve_contatos_agrupamento,{placement:"top"},x.currentTarget)};return g.length===0?null:n.jsx("div",{className:"w-full h-6 2xl:h-8 text-xs 2xl:text-base font-medium",children:s?n.jsxs("form",{className:"w-full h-full flex items-center gap-1",onSubmit:p,ref:a,children:[n.jsx("input",{type:"text",name:"groupmentName",className:`flex-1 px-1.5 2xl:px-2.5 h-full rounded-md border border-solid border-[var(--eem-border-primary)]
              placeholder:!text-xs 2xl:placeholder:!text-base`,placeholder:e.insira_nome_agrupamento,autoFocus:!0}),n.jsx("button",{type:"submit",title:e.criar_agrupamento,className:`${m()} w-fit flex items-center justify-center`,children:n.jsx(on,{fontWeight:800,className:"text-black text-inherit"})}),n.jsx("button",{type:"button",title:e.cancelar_criacao,onClick:f,className:`${m()} w-fit flex items-center justify-center`,children:n.jsx(ln,{fontWeight:800,className:"text-red-600 text-inherit"})})]}):n.jsxs("button",{type:"button",className:`${m()} w-full`,onClick:()=>t(!0),children:[n.jsx("span",{children:e.criar_agrupamento}),n.jsx("span",{onMouseEnter:u,onMouseLeave:d,onClick:d,children:n.jsx(hs,{})})]})})},Qa=()=>{const e=b(u=>u.language),s=j(u=>u.currentCampaignId),t=j(u=>u.campaigns),{updateCampaign:a}=j.getState(),{open:r}=H.getState(),i=t.find(u=>u.id===s),o=(i==null?void 0:i.selectedContacts)||[],l=()=>{i&&a(i.id,{selectedContacts:[]})},{breakpoint:d}=X(),g={estimateSize:d==="2xl"?37:29,gap:d==="2xl"?8:6,padding:d==="2xl"?8:6},c=K.useRef(null),p=bt({count:o.length,getScrollElement:()=>c.current,estimateSize:()=>g.estimateSize,paddingStart:g.padding,paddingEnd:g.padding,gap:g.gap,overscan:10}),f=p.getTotalSize(),m=p.getVirtualItems();return n.jsxs("div",{className:"flex flex-col items-center bg-[var(--eem-bg-secondary)] p-2 rounded-md h-fit",children:[n.jsxs("div",{className:"flex items-center justify-between w-full mb-1 2xl:mb-2",children:[n.jsx("h2",{className:"text-xs xl:text-base 2xl:text-lg",children:e.destinatarios_selecionados}),n.jsxs("button",{className:`w-fit px-0.5 2xl:px-2 flex items-center justify-center rounded-md 
          bg-[var(--addContact-btn-bg-color)] hover:bg-[var(--addContact-btn-hover-bg)] 
        text-black transition-all duration-150 gap-0.5 2xl:gap-1 text-xs xl:text-base 2xl:text-lg
          hover:scale-[1.02] active:scale-95 active:opacity-80
          border border-solid border-[var(--eem-border-primary)]`,onClick:()=>r(n.jsx(Ya,{})),children:[n.jsx(vs,{className:"text-black"}),n.jsx("span",{className:"font-medium",children:e.adicionar_contato})]})]}),n.jsxs("div",{className:"flex items-center justify-between w-full mb-0.5 text-xs xl:text-base 2xl:text-lg",children:[n.jsx("p",{className:"text-[var(--light-text-color)]",children:`${o.length} ${bs(o.length,e.destinatario,e.destinatarios)}`}),n.jsxs("button",{title:e.limpar_tudo,className:`flex items-center gap-0.5 2xl:gap-1 hover:bg-[var(--view-btn-inactive-bg)]
          hover:scale-[1.04] active:scale-90 active:opacity-80 p-1 2xl:p-1.5 transition-all duration-200 rounded-md`,onClick:()=>o.length>0&&l(),children:[n.jsx(mt,{}),n.jsx("span",{className:"font-medium",children:e.limpar})]})]}),n.jsx("div",{className:"w-full overflow-auto max-h-[36dvh] px-1",ref:c,children:n.jsx("div",{style:{height:f,position:"relative"},children:m.map(u=>{const x=o[u.index];return x?n.jsx(Oa,{selectedContact:x,virtualItem:u},u.key):null})})}),n.jsx("hr",{className:"w-full my-1.5 2xl:my-3 border-1 border-solid border-[var(--eem-border-primary)]"}),n.jsx(Za,{})]})},er=()=>{const e=b(s=>s.language);return n.jsxs(n.Fragment,{children:[n.jsx(Ge,{title:e.step_contacts_titulo,subtitle:e.step_contacts_subtitulo}),n.jsxs("div",{className:"grid grid-cols-[29%_minmax(300px,1fr)_28%] gap-2 2xl:gap-4",children:[n.jsx(ba,{}),n.jsx(Ga,{}),n.jsx(Qa,{})]})]})},ce=({label:e,value:s,className:t=""})=>n.jsxs("div",{className:S("flex justify-between text-xs",t),children:[n.jsx("span",{children:e}),n.jsx("span",{className:"font-medium",children:s})]}),Tt=e=>e.toLocaleDateString(void 0,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),tr=(e,s)=>{const t=new Date(s).getTime()-new Date(e).getTime(),a=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3);return a>0?`${a}m ${r}s`:`${r}s`},nr=()=>{const e=b(i=>i.language),s=j(i=>i.currentCampaignId),{execution:t}=me(s);if((t==null?void 0:t.status)!==Ms.COMPLETED)return n.jsx("div",{className:"text-center py-8",children:e.resultados_disponiveis_apos_conclusao});const a=({value:i,label:o})=>n.jsxs("div",{className:"bg-[var(--result-card-bg-color)] h-full flex-1 flex flex-col items-center justify-center rounded-md",children:[n.jsx("h2",{className:"text-[30px] 2xl:text-[40px] text-[var(--primaria)] font-semibold",children:i}),n.jsx("p",{className:"text-[var(--light-text-color)] text-sm 2xl:text-base",children:o})]}),r=t.totalContacts*t.totalActions;return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[n.jsx("div",{className:"size-12 2xl:size-16 bg-[#d2fecc] rounded-full flex items-center justify-center",children:n.jsx(pt,{className:"text-green-600 text-[30px] 2xl:text-[40px]"})}),n.jsx("h1",{className:"text-lg 2xl:text-2xl font-medium leading-none",children:e.acoes_executadas_sucesso}),n.jsx("p",{className:"text-sm 2xl:text-lg text-[var(--light-text-color)]",children:e.todas_acoes_executadas}),n.jsxs("div",{className:`w-full border border-solid border-[var(--sidebar-line-color)] 
        rounded-md p-2 2xl:p-3 space-y-6 2xl:space-y-12 mt-3 2xl:mt-6`,children:[n.jsxs("div",{className:"flex items-center gap-1.5 2xl:gap-2 text-sm 2xl:text-lg font-medium",children:[n.jsx(Me,{className:"text-base 2xl:text-2xl"}),n.jsx("span",{children:e.resumo_execucao})]}),n.jsxs("div",{className:"flex gap-2 h-32",children:[n.jsx(a,{value:t.totalContacts,label:e.contatos_alcancados}),n.jsx(a,{value:r,label:e.total_acoes_enviadas}),n.jsx(a,{value:t.failedContacts.length,label:e.erros_no_envio})]}),n.jsxs("div",{className:"space-y-0.5 2xl:space-y-1",children:[n.jsx(ce,{label:e.detalhes,value:"",className:"font-bold"}),n.jsx(ce,{label:e.iniciado_em,value:Tt(t.startedAt)}),n.jsx(ce,{label:e.concluido_em,value:Tt(t.completedAt)}),n.jsx(ce,{label:e.tempo_total,value:tr(t.startedAt,t.completedAt)})]})]})]})})},Ct=e=>{const s=b.getState().language;return{txt:{title:s.action_txt_title,description:s.action_txt_desc,icon:null},image:{title:s.action_image_title,description:s.action_image_desc,icon:null},video:{title:s.action_video_title,description:s.action_video_desc,icon:null},audio:{title:s.action_audio_title,description:s.action_audio_desc,icon:null},doc:{title:s.action_doc_title,description:s.action_doc_desc,icon:null},respostaRapida:{title:s.action_respostaRapida_title,description:s.action_respostaRapida_desc,icon:null},addCRM:{title:s.action_addCRM_title,description:s.action_addCRM_desc,icon:null},removeCRM:{title:s.action_removeCRM_title,description:s.action_removeCRM_desc,icon:null},removeAllCRM:{title:s.action_removeAllCRM_title,description:s.action_removeAllCRM_desc,icon:null},addLabel:{title:s.action_addLabel_title,description:s.action_addLabel_desc,icon:null},removeLabel:{title:s.action_removeLabel_title,description:s.action_removeLabel_desc,icon:null},removeAllLabel:{title:s.action_removeAllLabel_title,description:s.action_removeAllLabel_desc,icon:null},timer:{title:s.action_timer_title,description:s.action_timer_desc,icon:null},composing:{title:s.action_composing_title,description:s.action_composing_desc,icon:null},recording:{title:s.action_recording_title,description:s.action_recording_desc,icon:null},arquivar:{title:s.action_arquivar_title,description:s.action_arquivar_desc,icon:null},desarquivar:{title:s.action_desarquivar_title,description:s.action_desarquivar_desc,icon:null},fixarChat:{title:s.action_fixarChat_title,description:s.action_fixarChat_desc,icon:null},desfixarChat:{title:s.action_desfixarChat_title,description:s.action_desfixarChat_desc,icon:null},marcarNaoLido:{title:s.action_marcarNaoLido_title,description:s.action_marcarNaoLido_desc,icon:null},transferir:{title:s.action_transferir_title,description:s.action_transferir_desc,icon:null},bloquear:{title:s.action_bloquear_title,description:s.action_bloquear_desc,icon:null},pix:{title:s.action_pix_title,description:s.action_pix_desc,icon:null},groupInvite:{title:s.action_groupInvite_title,description:s.action_groupInvite_desc,icon:null},contact:{title:s.action_contact_title,description:s.action_contact_desc,icon:null},linkPreview:{title:s.action_linkPreview_title,description:s.action_linkPreview_desc,icon:null},sticker:{title:s.action_sticker_title,description:s.action_sticker_desc,icon:null},list:{title:s.action_list_title,description:s.action_list_desc,icon:null}}[e]},sr=()=>{var Q,oe,le;const e=b(Y=>Y.language),[s,t]=R.useState(null);R.useEffect(()=>{async function Y(){const wn=await sn();t(wn)}Y()},[]);const a=j(Y=>Y.currentCampaignId),{execution:r,isLoading:i,actions:o,isRunning:l,isPaused:d,isCompleted:g,isCancelled:c,campaign:p}=me(a),{clearExecution:f}=nn.getState(),m=()=>{f(a),(r==null?void 0:r.type)==="test"?o.sendTest():o.sendFull()};if(!p)return n.jsx("div",{className:"text-center py-8",children:e.nenhuma_campanha_selecionada});const{breakpoint:u}=X(),x=r?r.currentContactIndex/r.totalContacts*100:0,v=(r==null?void 0:r.type)==="test"?s?[s]:[]:p.selectedContacts,_=r&&r.currentContactIndex<v.length?v[r.currentContactIndex]:null,h=(r==null?void 0:r.currentActionIndex)??0,N=p.actions[h],k=p.actions.length>0?(h+1)/p.actions.length*100:0,F=N?Ct(N.type):null,C=r&&((Q=p.config.pause)==null?void 0:Q.every)>0?p.config.pause.every-r.currentContactIndex%p.config.pause.every:null,T=d&&(r==null?void 0:r.isAutoPause)===!0;return(r==null?void 0:r.type)==="test"&&!s?n.jsx("div",{className:"flex-1 flex flex-col rounded-md border border-solid overflow-hidden bg-[var(--eem-bg-primary)] border-[var(--eem-border-primary)] min-h-0",children:n.jsx("div",{className:"px-4 py-3 border-b border-solid border-[var(--eem-border-primary)] bg-[var(--sidebar-bg-primary)]",children:n.jsx("h3",{className:"font-semibold text-sm",children:e.carregando_contatos})})}):n.jsxs("div",{className:"flex-1 flex flex-col rounded-md border border-solid overflow-hidden bg-[var(--eem-bg-primary)] border-[var(--eem-border-primary)] min-h-0",children:[r&&n.jsxs("div",{className:"flex-shrink-0 px-3 2xl:px-6 py-2 2xl:py-4 border-b border-solid border-[var(--eem-border-primary)] bg-[var(--sidebar-bg-primary)]",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-semibold text-xs 2xl:text-sm",children:e.progresso}),n.jsxs("span",{className:"text-xs font-medium opacity-70",children:[r.currentContactIndex," / ",r.totalContacts]})]}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("span",{className:"text-xs font-bold",children:[x.toFixed(0),"%"]})}),n.jsx("progress",{className:`progress w-full h-2 ${g?"progress-success":c?"progress-error":d?"progress-warning":"progress-primary"}`,value:r.currentContactIndex,max:r.totalContacts})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[r&&n.jsxs("div",{className:"grid grid-cols-3 divide-x divide-solid border-b border-solid border-[var(--eem-border-primary)] divide-[var(--eem-border-primary)]",children:[n.jsxs("div",{className:"px-2 2xl:px-4 py-1.5 2xl:py-3 text-center",children:[n.jsx("div",{className:"text-sm 2xl:text-2xl font-bold mb-0.5",children:r.currentContactIndex}),n.jsx("div",{className:"text-xs uppercase tracking-wide opacity-60",children:e.contatos_processados})]}),n.jsxs("div",{className:"px-2 2xl:px-4 py-1.5 2xl:py-3 text-center",children:[n.jsxs("div",{className:"text-sm 2xl:text-2xl font-bold text-success flex items-center justify-center gap-0.5 2xl:gap-1.5 mb-0.5",children:[n.jsx(De,{size:u==="2xl"?20:14}),r.successContacts.length]}),n.jsx("div",{className:"text-xs uppercase tracking-wide opacity-60",children:e.contatos_enviados})]}),n.jsxs("div",{className:"px-2 2xl:px-4 py-1.5 2xl:py-3 text-center",children:[n.jsxs("div",{className:"text-sm 2xl:text-2xl font-bold text-error flex items-center justify-center gap-0.5 2xl:gap-1.5 mb-0.5",children:[n.jsx(Qt,{size:u==="2xl"?20:14}),r.failedContacts.length]}),n.jsx("div",{className:"text-xs uppercase tracking-wide opacity-60",children:e.falhas})]})]}),n.jsxs("div",{className:"px-2 2xl:px-4 py-1.5 2xl:py-3 border-b border-solid bg-[var(--eem-bg-primary)] border-[var(--eem-border-primary)]",children:[n.jsx("h3",{className:"font-semibold text-xs 2xl:text-sm mb-1 2xl:mb-2",children:e.configuracoes_de_envio}),n.jsxs("div",{className:"grid grid-cols-2 gap-1.5 2xl:gap-3 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2",children:[n.jsx(en,{className:"text-primary flex-shrink-0",size:u==="2xl"?16:12}),n.jsx("div",{children:n.jsxs("div",{className:"font-medium",children:[e.intervalo_entre_contatos," ",((oe=p.config.interval)==null?void 0:oe.seconds)||0,"s"]})})]}),(((le=p.config.pause)==null?void 0:le.every)||0)>0&&n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2",children:[n.jsx(Ae,{className:"text-warning flex-shrink-0",size:u==="2xl"?16:12}),n.jsx("div",{children:n.jsxs("div",{className:"font-medium",children:[e.pausa_auto_a_cada," ",p.config.pause.every," ",e.contato," • ",p.config.pause.durationSeconds,"s"]})})]}),l&&C&&n.jsx("div",{className:"col-span-2 mt-1 p-2 bg-warning/10 rounded-md",children:n.jsxs("div",{className:"text-warning font-medium",children:[e.proxima_pausa_auto_em," ",C," ",e.contato,"(s)"]})})]})]}),l&&F&&n.jsxs("div",{className:"px-2 2xl:px-4 py-1.5 2xl:py-3 border-b border-solid bg-[var(--sidebar-bg-primary)] border-[var(--eem-border-primary)]",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1 2xl:mb-2",children:[n.jsx("h3",{className:"font-semibold text-xs 2xl:text-sm",children:e.acao_atual}),n.jsxs("span",{className:"text-xs font-medium opacity-70",children:[h+1," / ",p.actions.length]})]}),n.jsxs("div",{className:"flex items-center gap-1.5 2xl:gap-3 mb-1 2xl:mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-xs 2xl:text-sm",children:F.title}),n.jsx("div",{className:"text-xs opacity-70",children:F.description})]}),n.jsx("div",{className:"loading loading-spinner loading-xs 2xl:loading-sm text-primary flex-shrink-0"})]}),n.jsx("progress",{className:"progress progress-primary w-full h-1.5",value:h+1,max:p.actions.length}),n.jsxs("div",{className:"text-xs text-right mt-0.5 2xl:mt-1 opacity-70",children:[k.toFixed(0),"%"]})]}),l&&_&&n.jsx("div",{className:"px-2 2xl:px-4 py-1.5 2xl:py-3 border-b border-solid bg-[var(--sidebar-bg-primary)] border-[var(--eem-border-primary)]",children:n.jsxs("div",{className:"flex items-center gap-1.5 2xl:gap-3",children:[n.jsx("div",{className:"loading loading-spinner loading-xs 2xl:loading-sm text-primary"}),n.jsx(Se,{contact:_,size:u==="2xl"?"sm":"xs"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-xs 2xl:text-sm truncate",children:_.name}),n.jsx("div",{className:"text-xs opacity-70 truncate",children:_.phone})]})]})})]}),n.jsx("div",{className:"flex-shrink-0 px-3 2xl:px-6 py-2 2xl:py-4 bg-[var(--eem-bg-primary)]",children:n.jsxs("div",{className:"flex gap-1 2xl:gap-2 justify-center flex-wrap",children:[!r&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:o.sendTest,disabled:i,className:"py-1 px-1.5 flex gap-1 bg-transparent border border-solid hover:opacity-80 rounded-md items-center disabled:opacity-50",children:[n.jsx(Us,{size:16,className:"flex-shrink-0"}),n.jsx("span",{className:"hidden sm:inline whitespace-nowrap",children:e.enviar_teste})]}),n.jsxs("button",{onClick:o.sendFull,disabled:i||v.length===0,className:"py-1 px-1.5 flex gap-1 bg-transparent border border-solid hover:opacity-80 rounded-md items-center disabled:opacity-50",children:[i?n.jsx(Mt,{size:16,className:"flex-shrink-0 animate-spin"}):n.jsx(Ws,{size:16,className:"flex-shrink-0"}),n.jsx("span",{className:"whitespace-nowrap",children:e.iniciar_campanha})]})]}),l&&!T&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:o.pause,className:"py-1 px-1.5 flex gap-1 bg-transparent border border-solid hover:opacity-80 rounded-md items-center disabled:opacity-50",children:[n.jsx(Ks,{size:16,className:"flex-shrink-0"}),n.jsx("span",{className:"whitespace-nowrap",children:e.pausar})]}),n.jsxs("button",{onClick:o.cancel,className:"py-1 px-1.5 flex gap-1 bg-transparent border border-solid hover:opacity-80 rounded-md items-center disabled:opacity-50",children:[n.jsx(At,{size:16,className:"flex-shrink-0"}),n.jsx("span",{className:"whitespace-nowrap",children:e.cancelar})]})]}),d&&!T&&n.jsx(n.Fragment,{children:n.jsxs("button",{onClick:o.resume,disabled:i,className:"py-1 px-1.5 flex gap-1 bg-transparent border border-solid hover:opacity-80 rounded-md items-center disabled:opacity-50",children:[i?n.jsx(Mt,{size:16,className:"flex-shrink-0 animate-spin"}):n.jsx(Xs,{size:16,className:"flex-shrink-0"}),n.jsx("span",{className:"whitespace-nowrap",children:e.continuar})]})}),(g||c)&&n.jsxs("button",{onClick:m,className:"py-1 px-1.5 flex gap-1 bg-transparent border border-solid hover:opacity-80 rounded-md items-center",children:[n.jsx(Ys,{size:16,className:"flex-shrink-0"}),n.jsx("span",{className:"whitespace-nowrap",children:e.enviar_novamente})]}),l&&r&&n.jsxs("button",{onClick:o.forceCancel,className:"py-1 px-1.5 flex gap-1 bg-error text-white border-error hover:opacity-80 rounded-md items-center disabled:opacity-50",children:[n.jsx(At,{size:16,className:"flex-shrink-0"}),n.jsx("span",{className:"whitespace-nowrap",children:e.forcar_cancelamento})]})]})})]})},ar=()=>{const e=b(p=>p.language),s=j(p=>p.currentCampaignId),{campaign:t,execution:a,isRunning:r}=me(s),[i,o]=R.useState(null),l=R.useRef(null),{breakpoint:d}=X();R.useEffect(()=>{async function p(){const f=await sn();o(f)}p()},[a]);const g=(a==null?void 0:a.type)==="test"?i?[i]:[]:t.selectedContacts,c=bt({count:g.length,getScrollElement:()=>l.current,estimateSize:()=>60,overscan:5,gap:8,paddingEnd:8,paddingStart:8});return(a==null?void 0:a.type)==="test"&&!i?n.jsx("div",{className:"w-80 flex flex-col rounded-md border border-solid overflow-hidden bg-[var(--eem-bg-primary)] border-[var(--eem-border-primary)] min-h-0",children:n.jsx("div",{className:"flex-shrink-0 px-4 py-3 border-b border-solid border-[var(--eem-border-primary)] bg-[var(--sidebar-bg-primary)]",children:n.jsx("h3",{className:"font-semibold text-sm",children:e.carregando_contatos})})}):n.jsxs("div",{className:"w-80 flex flex-col rounded-md border border-solid overflow-hidden bg-[var(--eem-bg-primary)] border-[var(--eem-border-primary)] min-h-0",children:[n.jsx("div",{className:"flex-shrink-0 px-4 py-3 border-b border-solid border-[var(--eem-border-primary)] bg-[var(--sidebar-bg-primary)]",children:n.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx("span",{children:e.contatos}),n.jsx("span",{className:"badge badge-neutral badge-xs",children:g.length})]})}),n.jsx("div",{ref:l,className:"flex-1 overflow-y-auto p-2 min-h-0",children:n.jsx("div",{style:{height:`${c.getTotalSize()}px`,width:"100%",position:"relative"},children:c.getVirtualItems().map(p=>{const f=g[p.index],m=p.index<a.currentContactIndex,u=p.index===a.currentContactIndex&&r;return n.jsxs("div",{"data-index":p.index,ref:c.measureElement,className:`flex items-center gap-2.5 px-3 py-2 rounded-md transition-all mb-1.5 ${u?"bg-primary/10 ring-1 ring-primary":m?"bg-success/10":"opacity-50 bg-[var(--sidebar-bg-primary)]"}`,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${p.start}px)`},children:[n.jsx(Se,{contact:f,size:d==="2xl"?"sm":"xs"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-xs 2xl:text-sm truncate",children:f.name}),n.jsx("div",{className:"text-xs opacity-70 truncate",children:f.phone})]}),n.jsxs("div",{className:"flex-shrink-0",children:[m&&n.jsx(De,{className:"text-success",size:18}),u&&n.jsx("span",{className:"loading loading-spinner loading-xs text-primary"})]})]},p.key)})})})]})},rr=()=>{const e=b(_=>_.language),s=j(_=>_.currentCampaignId),{execution:t,isRunning:a,isPaused:r,isCompleted:i,isCancelled:o,campaign:l}=me(s);if(!l)return n.jsx("div",{className:"text-center py-8",children:e.nenhuma_campanha_selecionada});const d=t&&t.currentContactIndex<l.selectedContacts.length?l.selectedContacts[t.currentContactIndex]:null,g=(t==null?void 0:t.currentActionIndex)??0,c=l.actions[g],p=c?Ct(c.type):null,f=r&&(t==null?void 0:t.isAutoPause)===!0,m={idle:{title:e.pronto_para_enviar,subtitle:e.inicie_envio_ou_teste},running:{title:e.enviando_mensagens,subtitle:d?`${e.enviando_para} ${d.name}`:e.processando},paused:{title:e.campanha_pausada,subtitle:e.continue_de_onde_parou},completed:{title:e.envio_concluido,subtitle:e.todas_mensagens_processadas},cancelled:{title:e.envio_cancelado,subtitle:e.envio_foi_interrompido}},u=t?a?"running":r?"paused":i?"completed":"cancelled":"idle",{title:x,subtitle:v}=m[u];return n.jsxs(n.Fragment,{children:[n.jsx(Ge,{title:x,subtitle:v}),n.jsxs("div",{className:"flex flex-col gap-2 border border-solid border-[var(--sidebar-line-color)] rounded-md p-2 2xl:p-4",children:[n.jsxs("div",{className:"h-[64vh] flex gap-2",children:[n.jsx(sr,{}),t&&l.selectedContacts.length>0&&n.jsx(ar,{})]}),!t&&n.jsxs("div",{className:"alert alert-info py-1.5 2xl:py-2.5 text-xs 2xl:text-sm !rounded-md",children:[n.jsx(De,{size:18}),n.jsxs("span",{children:[n.jsx("strong",{children:e.dicas})," ",e.dicas_teste_pausa]})]}),f&&n.jsxs("div",{className:"alert alert-warning py-1.5 2xl:py-2.5 text-xs 2xl:text-sm !rounded-md",children:[n.jsx(en,{size:18,className:"animate-pulse"}),n.jsx("div",{className:"flex flex-col",children:n.jsxs("span",{children:[n.jsx(Ae,{size:14,className:"inline mb-0.5"})," ",n.jsx("strong",{children:e.pausa_automatica})," •",e.processados," ",n.jsx("strong",{children:t==null?void 0:t.currentContactIndex})," ",e.de," ",n.jsx("strong",{children:t==null?void 0:t.totalContacts})," ",e.contatos]})})]}),r&&!f&&n.jsxs("div",{className:"alert alert-warning py-1.5 2xl:py-2.5 text-xs 2xl:text-sm !rounded-md",children:[n.jsx(Ae,{size:18}),n.jsxs("span",{children:[n.jsx(Ae,{size:14,className:"inline mb-0.5"})," ",n.jsx("strong",{children:e.pausado_manualmente})," •",e.contato," ",n.jsx("strong",{children:(t==null?void 0:t.currentContactIndex)+1})," ",e.de," ",n.jsx("strong",{children:t==null?void 0:t.totalContacts}),p&&` • ${e.acao}: ${p.title} (${(t==null?void 0:t.currentActionIndex)+1}/${l.actions.length})`]})]}),i&&n.jsxs("div",{className:"alert alert-success py-1.5 2xl:py-2.5 text-xs 2xl:text-sm !rounded-md",children:[n.jsx(De,{size:18}),n.jsx("span",{children:n.jsx("strong",{children:e.envio_concluido_alert})})]}),o&&n.jsxs("div",{className:"alert alert-error py-1.5 2xl:py-2.5 text-xs 2xl:text-sm !rounded-md",children:[n.jsx(Qt,{size:18}),n.jsx("span",{children:n.jsx("strong",{children:e.envio_cancelado_alert})})]})]})]})},ir=({action:e,index:s})=>{const t=Ct(e.type),a=t.icon;return n.jsxs("div",{className:"flex bg-[var(--contact-card-bg)] rounded-md items-center gap-2 2xl:gap-3 p-1.5 2xl:p-3 border-[var(--sidebar-line-color)] border border-solid",children:[n.jsx("div",{className:"size-5 2xl:size-6 bg-[var(--terciaria)] rounded-full flex items-center justify-center text-[var(--primaria)] font-semibold text-xs",children:s+1}),t.icon&&n.jsx("div",{className:"size-6 2xl:size-8 flex items-center justify-center",children:n.jsx(a,{size:16})}),n.jsxs("div",{className:"flex-1",children:[t.title&&n.jsx("div",{className:"font-semibold text-xs 2xl:text-sm",children:t.title}),t.description&&n.jsx("div",{className:"text-xs",children:t.description})]})]})},pn=({onClick:e})=>{const s=b(i=>i.language),t=j(i=>i.campaigns.find(o=>o.id===i.currentCampaignId)),a=t.status===I.SENDING||t.status===I.PAUSED,r=()=>{a||e()};return n.jsxs("button",{onClick:r,disabled:a,className:`ml-auto text-blue-600 hover:text-blue-700 active:scale-[0.98] hover:scale-[1.02] text-xs 2xl:text-sm font-medium
     flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed transition-all`,children:[n.jsx(_s,{className:"text-base 2xl:text-2xl"}),s.editar]})},or=()=>{const e=b(f=>f.language),s=j(f=>f.campaigns.find(m=>m.id===f.currentCampaignId)),{setCurrentStep:t}=O.getState(),{ref:a,onMouseDown:r}=cn(),{actions:i}=s,{interval:o,pause:l}=s.config,{durationSeconds:d,every:g}=l,c=i.length===0?0:(i.length-1)*o.seconds+Math.floor(i.length/g)*d,p=`${Math.floor(c/60)}m ${c%60}s`;return n.jsxs("div",{className:"h-full flex-1 flex flex-col p-3 2xl:p-4 border border-[var(--sidebar-line-color)] border-solid rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2 mb-2 2xl:mb-4",children:[n.jsx(Kt,{className:"text-base 2xl:text-2xl"}),n.jsx("h2",{className:"text-sm 2xl:text-base font-medium",children:e.sequencia_acoes}),n.jsx(pn,{onClick:()=>t("acoes")})]}),n.jsx("div",{ref:a,className:"flex flex-col gap-1 2xl:gap-2 mb-2 2xl:mb-4 pb-0.5 2xl:pb-1 pr-1 overflow-y-auto flex-1 min-h-0 select-none",onMouseDown:r,style:{WebkitOverflowScrolling:"touch"},children:i.map((f,m)=>n.jsx("div",{children:n.jsx(ir,{action:f,index:m},f.id)}))}),n.jsxs("div",{className:"mt-auto border-t border-solid border-[var(--sidebar-line-color)] pt-1.5 2xl:pt-3 space-y-0.5 2xl:space-y-1 w-full",children:[n.jsx(ce,{label:e.total_de_acoes,value:i.length}),n.jsx(ce,{label:e.tempo_estimado,value:`~${p}`})]})]})},lr=50,cr=()=>{const e=b(m=>m.language),s=j(m=>m.campaigns.find(u=>u.id===m.currentCampaignId)),t=D(m=>m.contacts),{setCurrentStep:a}=O.getState(),{ref:r,onMouseDown:i}=cn(),{selectedContacts:o}=s,l=o.slice(0,lr),d=Math.max(0,o.length-l.length),{breakpoint:g}=X(),c=g==="2xl"?"sm":"xs",f=!an(m=>m.user.estado);return n.jsxs("div",{className:"h-full flex flex-col p-3 2xl:p-4 border border-[var(--sidebar-line-color)] border-solid rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-1 2xl:gap-2 mb-2 2xl:mb-4",children:[n.jsx(Jt,{className:"text-base 2xl:text-2xl"}),n.jsx("h2",{className:"text-sm 2xl:text-base font-medium capitalize",children:e.destinatarios}),n.jsx(pn,{onClick:()=>a("contatos")})]}),n.jsxs("div",{className:"mb-2 2xl:mb-4",children:[n.jsxs("div",{className:"text-xs 2xl:text-sm font-medium",children:[o.length," ",e.contatos_selecionados]}),n.jsxs("div",{className:"text-xs",children:[e.de_um_total_de," ",t.length," ",e.contatos]})]}),n.jsxs("div",{ref:r,className:`grid 2xl:grid-cols-4 xl:grid-cols-3 lg:grid-cols-2 grid-cols-1 auto-rows-[2rem] 2xl:auto-rows-[2.8rem] 
        gap-1 2xl:gap-2 mb-2 2xl:mb-4 pb-0.5 2xl:pb-1 pr-1 overflow-y-auto flex-1 min-h-0 select-none`,onMouseDown:i,style:{WebkitOverflowScrolling:"touch"},children:[l.map((m,u)=>n.jsxs("div",{className:S("flex items-center justify-start gap-1 2xl:gap-2 h-full flex-none p-0.5 2xl:p-1","bg-[var(--contact-card-bg)] border border-[var(--sidebar-line-color)] border-solid rounded-md",f&&u>=5&&"opacity-40"),title:m.name,children:[n.jsx(Se,{contact:m,size:c}),n.jsx("span",{className:"text-xs 2xl:text-sm font-semibold truncate flex-1",children:m.name})]},m.id)),d>0&&n.jsx("div",{className:`flex items-center justify-center gap-1 2xl:gap-2 h-full flex-none 
            p-1.5 2xl:p-2 border border-[var(--sidebar-line-color)] border-dashed rounded-md`,children:n.jsxs("span",{className:"text-xs 2xl:text-sm text-center font-semibold truncate flex-1",children:["+",d]})},"extra-count")]})]})},dr=()=>{const e=b(a=>a.language),s=j(a=>a.campaigns.find(r=>r.id===a.currentCampaignId)),{actions:t}=me(s.id);return n.jsxs("div",{className:"col-span-1 flex flex-col p-3 2xl:p-4 bg-amber-100 border border-yellow-300 border-solid rounded-md",children:[n.jsxs("div",{className:"flex gap-1 2xl:gap-2 items-center",children:[n.jsx(gt,{className:"text-yellow-600 text-base 2xl:text-2xl"}),n.jsx("h2",{className:"text-sm 2xl:text-base font-medium text-yellow-600",children:e.importante})]}),n.jsx("p",{className:"text-xs 2xl:text-sm text-yellow-600 font-medium",children:e.warning_card_desc}),n.jsx("button",{className:`w-fit bg-white text-black text-xs 2xl:text-sm p-1 2xl:p-1.5 border border-solid border-gray-200
        rounded mt-1.5 2xl:mt-2 hover:bg-gray-100 hover:scale-[1.02] active:scale-[0.98] transition-all`,onClick:t.sendTest,children:e.executar_teste_para_mim})]})},ur=()=>{const e=b(r=>r.language),s=an(r=>r.user.estado),t=xt(r=>r.label.checkout),a=!s;return n.jsxs("div",{className:"col-span-1 flex flex-col p-3 2xl:p-4 bg-blue-100 border border-blue-300 border-solid rounded-md",children:[n.jsxs("div",{className:"flex gap-1 2xl:gap-2 items-center",children:[n.jsx(gt,{className:"text-blue-600 text-base 2xl:text-2xl"}),n.jsx("h2",{className:"text-sm 2xl:text-base font-medium text-blue-600",children:a?e.versao_gratuita:e.versao_premium})]}),a?n.jsx("p",{className:"text-xs 2xl:text-sm text-blue-600 font-medium",children:e.warning_user_free_desc}):n.jsx("p",{className:"text-xs 2xl:text-sm text-blue-600 font-medium",children:e.warning_user_premium_desc}),a&&n.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:`w-fit bg-white text-black text-xs 2xl:text-sm p-1 2xl:p-1.5 border border-solid border-gray-200
          rounded mt-1.5 2xl:mt-2 hover:bg-gray-100 hover:scale-[1.02] active:scale-[0.98] transition-all`,children:e.atualizar_para_premium})]})},gr=()=>{const e=b(i=>i.language),t=j(i=>i.campaigns.find(o=>o.id===i.currentCampaignId)).status,a=t===I.SENDING||t===I.PAUSED,r=S("grid-rows-[clamp(360px,40dvh,497px)] auto-rows-[clamp(360px,40dvh,497px)]","lg:grid-rows-[clamp(250px,40dvh,497px)] lg:auto-rows-[clamp(250px,40dvh,497px)]","xl:grid-rows-[clamp(360px,44dvh,497px)] xl:auto-rows-[clamp(360px,44dvh,497px)]","2xl:grid-rows-[clamp(360px,45dvh,497px)] 2xl:auto-rows-[clamp(360px,45dvh,497px)]");return n.jsxs(n.Fragment,{children:[n.jsx(Ge,{title:a?e.enviando_acoes:e.revise_confirme,subtitle:a?e.acoes_estao_sendo_executadas:e.verifique_os_detalhes}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2 2xl:gap-4",children:[n.jsxs("div",{className:S("col-span-full grid grid-cols-1 lg:grid-cols-2 gap-2 2xl:gap-4",r),children:[n.jsx(or,{}),n.jsx(cr,{})]}),n.jsxs("div",{className:S("col-span-full grid grid-cols-1 lg:grid-cols-2 gap-2 2xl:gap-4"),children:[n.jsx(dr,{}),n.jsx(ur,{})]})]})]})},mr=()=>{const e=O(a=>a.currentStep),s={contatos:er,acoes:va,revisao:gr,envio:rr,resultados:nr},t=()=>{const a=s[e];return n.jsx(a,{})};return n.jsx("div",{className:"flex-1",children:t()})},Gt=({onClick:e,disabled:s,children:t,variant:a="primary",className:r})=>n.jsx("button",{onClick:e,disabled:s,className:S("p-1.5 2xl:p-2.5 rounded-md transition-colors disabled:opacity-70 disabled:cursor-not-allowed","flex items-center justify-center gap-1 2xl:gap-1.5 text-xs 2xl:text-base font-semibold",a==="primary"?"bg-black text-white dark:bg-white dark:text-black":"border border-solid",r),children:t}),pr={contatos:e=>{var s;return(((s=e.selectedContacts)==null?void 0:s.length)||0)===0?{isValid:!1,message:b.getState().language.validate_selecione_destinatario}:{isValid:!0}},acoes:e=>{var s;return(((s=e.actions)==null?void 0:s.length)||0)===0?{isValid:!1,message:b.getState().language.validate_adicione_acao}:{isValid:!0}},revisao:()=>({isValid:!0}),envio:()=>({isValid:!0}),resultados:()=>({isValid:!0})};function xr(){const{campaigns:e,currentCampaignId:s}=j.getState(),t=e.find(r=>r.id===s);if(!t)return{isValid:!1,message:b.getState().language.validate_nenhuma_campanha};const a=O.getState().currentStep;return pr[a](t)}const fr=()=>{const e=b(o=>o.language),{close:s}=H.getState(),{close:t}=st.getState(),{setCurrentStep:a}=O.getState(),r=()=>{a("envio"),s()},i=()=>{s(),t()};return n.jsxs("div",{className:"flex flex-col gap-y-6 max-w-lg",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-[var(--primary-strong)] mb-2",children:e.envio_iniciado_sucesso}),n.jsx("p",{className:"text-[var(--light-text-color)] text-sm leading-relaxed",children:e.description_return_whats})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row-reverse gap-3 pt-2",children:[n.jsx("button",{onClick:r,className:S("flex-1 flex items-center justify-center gap-x-2 px-6 py-3 rounded-lg","font-medium transition-all duration-200","bg-gray-100 text-gray-900 hover:bg-gray-200","focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-gray-400"),children:e.acompanhar_envio}),n.jsxs("button",{onClick:i,className:S("flex-1 flex items-center justify-center gap-x-2.5 px-6 py-3 rounded-lg","font-medium transition-all duration-200","bg-[#25D366] text-white hover:bg-[#128C7E]","focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-[#25D366]"),children:[n.jsx(Ut,{className:"w-5 h-5"}),e.voltar_ao_whats]})]})]})},hr=()=>{const e=b(p=>p.language),s=j(p=>p.campaigns.find(f=>f.id===p.currentCampaignId));if(!s)return null;const[t,a]=R.useState(!1),[r,i]=R.useState(!1),{close:o}=H.getState(),{actions:l}=me(s.id),d=async()=>{if(!t){i(!0);return}o(),l.sendFull(),H.getState().open(n.jsx(fr,{}),!1,void 0,!0)},g=()=>{o()},c=()=>{a(!t),r&&i(!1)};return n.jsxs("div",{className:"flex max-w-lg flex-col gap-y-5 font-sans",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-medium text-[var(--primary-strong)]",children:e.termos_de_uso}),n.jsx("button",{onClick:g,className:"text-2xl text-gray-500 hover:text-gray-800 transition-colors","aria-label":"Fechar modal",children:"×"})]}),n.jsxs("div",{className:"border-t border-solid border-[#E4E4E4] pt-4",children:[n.jsx("h3",{className:"font-semibold mb-2 text-[var(--primary-strong)]",children:e.termos_de_uso}),n.jsx("p",{className:"text-[var(--light-text-color)] leading-relaxed",children:e.warning_spam_desc})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-x-2 cursor-pointer text-gray-700",children:[n.jsx("input",{type:"checkbox",checked:t,onChange:c,className:"checkbox checkbox-sm checkbox-success","aria-describedby":"error-message"}),n.jsx("span",{className:"text-[var(--primary-strong)] font-semibold",children:e.eu_entendo_e_aceito})]}),r&&n.jsx("p",{id:"error-message",className:"text-red-600 text-sm mt-2",role:"alert",children:e.voce_precisa_aceitar_para_continuar})]}),n.jsxs("div",{className:"flex justify-end items-center gap-x-3 border-t border-[#E4E4E4] pt-4",children:[n.jsx("button",{onClick:g,className:`px-6 py-3 rounded-md bg-[#1d1d1d] text-white font-semibold
          transition-colors duration-150 hover:bg-[#141414]
          focus:outline-none focus:ring-2 focus:ring-gray-500`,children:e.cancelar}),n.jsx("button",{onClick:d,disabled:!t,className:S("px-8 py-3 rounded-md font-semibold transition-colors duration-150","focus:outline-none focus:ring-2 focus:ring-offset-2",t?"bg-[var(--primaria)] text-white hover:bg-[color-mix(in_srgb,var(--primaria)_85%,black_15%)] focus:ring-[var(--primaria)]":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:e.enviar})]})]})},vr=()=>{const e=b(g=>g.language),s=j(g=>g.campaigns.find(c=>c.id===g.currentCampaignId));if(!s)return{config:{},getConfig:()=>{}};const t=s.status,a=()=>t===I.DRAFT?e.step_config_executar_acoes:t===I.SENDING?e.step_config_enviando:e.step_config_executar_acoes,{setCurrentStep:r}=O.getState(),{clearExecution:i}=nn.getState(),o=()=>()=>{s&&(i(s.id),r("acoes"))},l={contatos:{nextLabel:e.step_config_proximo,nextIcon:n.jsx(Be,{size:18}),previousLabel:e.step_config_voltar,previousIcon:n.jsx(Ne,{size:18})},acoes:{nextLabel:e.step_config_proximo,nextIcon:n.jsx(Be,{size:18}),previousLabel:e.step_config_voltar,previousIcon:n.jsx(Ne,{size:18})},revisao:{nextLabel:a(),nextIcon:n.jsx(Cs,{size:18}),previousLabel:e.step_config_voltar,previousIcon:n.jsx(Ne,{size:18}),nextPersonalizedAction:()=>H.getState().open(n.jsx(hr,{}),!1,void 0,!0)},envio:{nextLabel:e.step_config_ver_resultados,previousLabel:e.step_config_voltar,previousIcon:n.jsx(Ne,{size:18}),nextIcon:n.jsx(Be,{size:18})},resultados:{nextLabel:e.step_config_nova_sequencia,previousLabel:e.step_config_retornar_gerenciador,prevPersonalizedAction:()=>pe.getState().setActivePage("campaigns"),nextPersonalizedAction:o()}};return{config:l,getConfig:g=>l[g]}},br=()=>{const s=j(x=>x.campaigns.find(v=>v.id===x.currentCampaignId)).status,{currentStep:t,steps:a,setCurrentStep:r}=O(ea(x=>({currentStep:x.currentStep,steps:x.steps,setCurrentStep:x.setCurrentStep}))),i=a.findIndex(x=>x.key===t),o=i===0,l=i===a.length-1,d=s===I.SENDING||s===I.PAUSED,{getConfig:g}=vr(),c=g(t),p=d?!0:o&&!c.prevPersonalizedAction,f=d?!0:l&&!c.nextPersonalizedAction,m=x=>{if(x==="next"&&c.nextPersonalizedAction){c.nextPersonalizedAction();return}if(x==="previous"&&c.prevPersonalizedAction){c.prevPersonalizedAction();return}u(x)},u=x=>{if(x==="next"&&!l){const v=xr();if(!v.isValid){A({type:"Error",message:v.message||"Erro ao validar etapa."});return}r(a[i+1].key)}else x==="previous"&&!o&&r(a[i-1].key)};return n.jsxs("div",{className:"flex justify-between my-4 2xl:my-6 2xl:gap-2 gap-1",children:[n.jsxs(Gt,{className:S(t==="resultados"&&"w-full"),onClick:()=>m("previous"),disabled:p,variant:"secondary",children:[c.previousIcon,c.previousLabel]}),n.jsxs(Gt,{className:S(t==="resultados"&&"w-full"),onClick:()=>m("next"),disabled:f,variant:"primary",children:[c.nextLabel,c.nextIcon]})]})},_r=()=>{const e=b(i=>i.language),s=ia(),t=O(i=>i.currentStep),{setActivePage:a}=pe.getState(),r=Ee(i=>i.isHidden);return R.useEffect(()=>{s&&rt(s.id)},[s==null?void 0:s.id]),s?n.jsxs(n.Fragment,{children:[n.jsx(oa,{}),n.jsxs("div",{className:S("flex flex-col",t==="resultados"?"2xl:px-80 px-60":"2xl:px-36 px-24 justify-between flex-1",r?"pt-6":"pt-0"),children:[n.jsx(mr,{}),n.jsx(br,{})]})]}):n.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-[var(--eem-bg-primary)]",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center gap-1",children:[n.jsx("div",{className:"p-2 rounded-md border border-solid border-[var(--eem-border-primary)]",children:n.jsx(js,{className:"size-7"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl leading-snug font-semibold",children:e.messaging_nenhuma_campanha}),n.jsx("p",{className:"text-base",children:e.messaging_selecione_ou_crie})]}),n.jsx("button",{className:`py-1 px-2 bg-[var(--primaria)] font-semibold rounded-md text-base text-white 
            hover:brightness-95 hover:scale-105 active:scale-95 transition`,onClick:()=>a("campaigns"),children:e.messaging_ir_gerenciador})]})})},Cr=({campaign:e})=>{const s=b(i=>i.language),t=j.getState().removeCampaign;function a(i){return{[I.SENDING]:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",[I.SENT]:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",[I.FAILED]:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",[I.DRAFT]:"bg-gray-100 text-gray-800 dark:bg-gray-700/30 dark:text-gray-300",[I.PAUSED]:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-400"}[i]??"bg-gray-100 text-gray-800 dark:bg-gray-700/50 dark:text-gray-300"}const r=i=>{i.stopPropagation(),tn({icon:n.jsx(Dt,{size:20,className:"text-red-600 dark:text-red-400"}),content:s.card_confirmar_excluir,confirmText:s.card_excluir,submit:()=>t(e.id)})};return n.jsxs("div",{role:"button",className:`rounded-xl p-4 flex flex-col justify-between cursor-pointer shadow-sm hover:shadow-md bg-[var(--contact-card-bg)] 
      border border-solid border-[var(--eem-border-primary)] hover:border-[var(--primaria)] transition-transform transform-gpu hover:-translate-y-0.5`,onClick:()=>rt(e.id),title:s.card_clique_abrir,children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:e.name}),n.jsx("div",{className:`badge text-[13px] ${a(e.status)}`,children:String(e.status)})]}),n.jsxs("p",{className:"text-xs text-[var(--light-text-color)]",children:[s.card_criada," ",e.createdAt.toLocaleString(void 0,{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]}),n.jsxs("p",{className:"text-xs text-[var(--light-text-color)]",children:[s.card_atualizada," ",e.updatedAt.toLocaleString(void 0,{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})]}),n.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm text-[var(--light-text-color)]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Js,{size:14}),n.jsx("span",{className:"text-sm",children:e.selectedContacts.length})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zs,{size:14}),n.jsx("span",{className:"text-sm",children:e.actions.length})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 mt-4",children:[n.jsxs("button",{onClick:i=>{i.stopPropagation(),rt(e.id)},title:s.card_abrir_campanha,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium rounded-md border border-solid border-[var(--light-text-color)]/20 hover:bg-[var(--light-text-color)]/10 transition-all transform-gpu hover:-translate-y-0.5",children:[n.jsx(Qs,{size:14}),n.jsx("span",{className:"hidden sm:inline",children:s.card_abrir})]}),n.jsx("button",{onClick:r,className:"flex items-center gap-2 p-2 text-base font-medium text-red-600 dark:text-red-400 border border-red-600/20 dark:border-red-400/20 rounded-md hover:bg-red-50 dark:hover:bg-red-900/10 transition-all transform-gpu hover:-translate-y-0.5",title:s.card_deletar_campanha,children:n.jsx(Dt,{size:16})})]})]})},jr=()=>{const e=b(d=>d.language),[s,t]=K.useState(!1),a=j(d=>d.addCampaign),r=K.useRef(null),i=d=>{d.preventDefault();const c=new FormData(d.currentTarget).get("campaignName");if(!(c!=null&&c.trim())){A({type:"Error",message:e.create_campaign_nome_vazio});return}const{newCampaign:p}=dn({name:c.trim()});a(p),A({type:"Success",message:e.create_campaign_criada_sucesso}),r.current&&r.current.reset(),t(!1)},o=()=>{t(!1),r.current&&r.current.reset()},l=()=>S("h-8 px-2 rounded-md bg-[var(--primaria)] text-white hover:bg-[var(--primaria)]/90","transition-all duration-150 hover:scale-[1.02] active:scale-95 active:opacity-80","flex items-center justify-center");return n.jsx(n.Fragment,{children:s?n.jsxs("form",{className:"flex items-center gap-2",onSubmit:i,ref:r,children:[n.jsx("input",{type:"text",name:"campaignName",className:`px-3 h-8 rounded-md border border-solid border-[var(--eem-border-primary)]
            text-sm placeholder:text-sm focus:outline-none focus:ring-2 focus:ring-[var(--primaria)]/50`,placeholder:e.create_campaign_nome_placeholder,autoFocus:!0}),n.jsx("button",{type:"submit",title:e.create_campaign_criar_titulo,className:l(),children:n.jsx(on,{size:16,className:"text-white"})}),n.jsx("button",{type:"button",title:e.create_campaign_cancelar_titulo,onClick:o,className:S(l(),"bg-gray-500 hover:bg-gray-600"),children:n.jsx(ln,{size:16,className:"text-white"})})]}):n.jsx("button",{type:"button",className:"mt-auto py-2 px-5 bg-[var(--primaria)] text-[var(--letra)] rounded-lg font-medium hover:opacity-90 transition-opacity",onClick:()=>t(!0),children:e.create_campaign_nova_campanha})})},yr=()=>{var a,r;const e=b(i=>i.language),s=xt(i=>i.label),t=j(i=>i.campaigns).slice().sort((i,o)=>(o.updatedAt??o.createdAt).getTime()-(i.updatedAt??i.createdAt).getTime());return n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between flex-shrink-0 border-b border-solid border-[var(--eem-border-primary)] p-6",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("h2",{className:"text-lg 2xl:text-xl font-bold leading-none",children:e.campaign_feature_titulo}),n.jsx("div",{className:"badge badge-xs 2xl:badge-sm bg-[var(--primaria)] text-white",children:t.length})]}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx("div",{className:"-mt-3",children:((r=(a=s.videos_tutoriais)==null?void 0:a.envio_em_massa)==null?void 0:r.length)>0&&n.jsx(ys,{funcao:()=>window.open(s.videos_tutoriais.envio_em_massa,"_blank")})}),n.jsx(jr,{})]})]}),n.jsx("div",{className:"flex-1 min-h-0 p-6",children:t.length===0?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("p",{className:"2xl:text-base text-sm text-gray-500",children:e.campaign_feature_nenhuma})}):n.jsx("div",{className:"h-full overflow-y-auto p-1",children:n.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(i=>n.jsx(Cr,{campaign:i},i.id))})})})]})},We=({icon:e,value:s,label:t,description:a,iconBgColor:r})=>n.jsxs("div",{className:"bg-[var(--result-card-bg-color)] flex-1 flex flex-col items-center justify-center rounded-md gap-1 p-3 2xl:p-6 min-w-[160px] text-center",children:[n.jsx("div",{className:`size-8 2xl:size-12 ${r} rounded-full flex items-center justify-center mb-0.5`,children:e}),n.jsx("h2",{className:"text-[20px] 2xl:text-[32px] text-[var(--primaria)] font-semibold leading-tight",children:s}),n.jsx("p",{className:"text-[var(--light-text-color)] font-bold text-[10px] 2xl:text-sm text-center",children:t}),n.jsx("p",{className:"text-[var(--light-text-color)] text-[10px] 2xl:text-sm",children:a})]});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function J(e,s){return typeof e=="function"?e(s):e}function V(e,s){return t=>{s.setState(a=>({...a,[e]:J(t,a[e])}))}}function Oe(e){return e instanceof Function}function wr(e){return Array.isArray(e)&&e.every(s=>typeof s=="number")}function Sr(e,s){const t=[],a=r=>{r.forEach(i=>{t.push(i);const o=s(i);o!=null&&o.length&&a(o)})};return a(e),t}function y(e,s,t){let a=[],r;return i=>{let o;t.key&&t.debug&&(o=Date.now());const l=e(i);if(!(l.length!==a.length||l.some((c,p)=>a[p]!==c)))return r;a=l;let g;if(t.key&&t.debug&&(g=Date.now()),r=s(...l),t==null||t.onChange==null||t.onChange(r),t.key&&t.debug&&t!=null&&t.debug()){const c=Math.round((Date.now()-o)*100)/100,p=Math.round((Date.now()-g)*100)/100,f=p/16,m=(u,x)=>{for(u=String(u);u.length<x;)u=" "+u;return u};console.info(`%c⏱ ${m(p,5)} /${m(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return r}}function w(e,s,t,a){return{debug:()=>{var r;return(r=e==null?void 0:e.debugAll)!=null?r:e[s]},key:!1,onChange:a}}function Nr(e,s,t,a){const r=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${s.id}_${t.id}`,row:s,column:t,getValue:()=>s.getValue(a),renderValue:r,getContext:y(()=>[e,t,s,i],(o,l,d,g)=>({table:o,column:l,row:d,cell:g,getValue:g.getValue,renderValue:g.renderValue}),w(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,t,s,e)},{}),i}function Rr(e,s,t,a){var r,i;const l={...e._getDefaultColumnDef(),...s},d=l.accessorKey;let g=(r=(i=l.id)!=null?i:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,c;if(l.accessorFn?c=l.accessorFn:d&&(d.includes(".")?c=f=>{let m=f;for(const x of d.split(".")){var u;m=(u=m)==null?void 0:u[x]}return m}:c=f=>f[l.accessorKey]),!g)throw new Error;let p={id:`${String(g)}`,accessorFn:c,parent:a,depth:t,columnDef:l,columns:[],getFlatColumns:y(()=>[!0],()=>{var f;return[p,...(f=p.columns)==null?void 0:f.flatMap(m=>m.getFlatColumns())]},w(e.options,"debugColumns")),getLeafColumns:y(()=>[e._getOrderColumnsFn()],f=>{var m;if((m=p.columns)!=null&&m.length){let u=p.columns.flatMap(x=>x.getLeafColumns());return f(u)}return[p]},w(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(p,e);return p}const $="debugHeaders";function Ot(e,s,t){var a;let i={id:(a=t.id)!=null?a:s.id,column:s,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(l),o.push(d)};return l(i),o},getContext:()=>({table:e,header:i,column:s})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const Fr={createTable:e=>{e.getHeaderGroups=y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(s,t,a,r)=>{var i,o;const l=(i=a==null?void 0:a.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?i:[],d=(o=r==null?void 0:r.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?o:[],g=t.filter(p=>!(a!=null&&a.includes(p.id))&&!(r!=null&&r.includes(p.id)));return Pe(s,[...l,...g,...d],e)},w(e.options,$)),e.getCenterHeaderGroups=y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(s,t,a,r)=>(t=t.filter(i=>!(a!=null&&a.includes(i.id))&&!(r!=null&&r.includes(i.id))),Pe(s,t,e,"center")),w(e.options,$)),e.getLeftHeaderGroups=y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(s,t,a)=>{var r;const i=(r=a==null?void 0:a.map(o=>t.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return Pe(s,i,e,"left")},w(e.options,$)),e.getRightHeaderGroups=y(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(s,t,a)=>{var r;const i=(r=a==null?void 0:a.map(o=>t.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return Pe(s,i,e,"right")},w(e.options,$)),e.getFooterGroups=y(()=>[e.getHeaderGroups()],s=>[...s].reverse(),w(e.options,$)),e.getLeftFooterGroups=y(()=>[e.getLeftHeaderGroups()],s=>[...s].reverse(),w(e.options,$)),e.getCenterFooterGroups=y(()=>[e.getCenterHeaderGroups()],s=>[...s].reverse(),w(e.options,$)),e.getRightFooterGroups=y(()=>[e.getRightHeaderGroups()],s=>[...s].reverse(),w(e.options,$)),e.getFlatHeaders=y(()=>[e.getHeaderGroups()],s=>s.map(t=>t.headers).flat(),w(e.options,$)),e.getLeftFlatHeaders=y(()=>[e.getLeftHeaderGroups()],s=>s.map(t=>t.headers).flat(),w(e.options,$)),e.getCenterFlatHeaders=y(()=>[e.getCenterHeaderGroups()],s=>s.map(t=>t.headers).flat(),w(e.options,$)),e.getRightFlatHeaders=y(()=>[e.getRightHeaderGroups()],s=>s.map(t=>t.headers).flat(),w(e.options,$)),e.getCenterLeafHeaders=y(()=>[e.getCenterFlatHeaders()],s=>s.filter(t=>{var a;return!((a=t.subHeaders)!=null&&a.length)}),w(e.options,$)),e.getLeftLeafHeaders=y(()=>[e.getLeftFlatHeaders()],s=>s.filter(t=>{var a;return!((a=t.subHeaders)!=null&&a.length)}),w(e.options,$)),e.getRightLeafHeaders=y(()=>[e.getRightFlatHeaders()],s=>s.filter(t=>{var a;return!((a=t.subHeaders)!=null&&a.length)}),w(e.options,$)),e.getLeafHeaders=y(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(s,t,a)=>{var r,i,o,l,d,g;return[...(r=(i=s[0])==null?void 0:i.headers)!=null?r:[],...(o=(l=t[0])==null?void 0:l.headers)!=null?o:[],...(d=(g=a[0])==null?void 0:g.headers)!=null?d:[]].map(c=>c.getLeafHeaders()).flat()},w(e.options,$))}};function Pe(e,s,t,a){var r,i;let o=0;const l=function(f,m){m===void 0&&(m=1),o=Math.max(o,m),f.filter(u=>u.getIsVisible()).forEach(u=>{var x;(x=u.columns)!=null&&x.length&&l(u.columns,m+1)},0)};l(e);let d=[];const g=(f,m)=>{const u={depth:m,id:[a,`${m}`].filter(Boolean).join("_"),headers:[]},x=[];f.forEach(v=>{const _=[...x].reverse()[0],h=v.column.depth===u.depth;let N,k=!1;if(h&&v.column.parent?N=v.column.parent:(N=v.column,k=!0),_&&(_==null?void 0:_.column)===N)_.subHeaders.push(v);else{const F=Ot(t,N,{id:[a,m,N.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${x.filter(C=>C.column===N).length}`:void 0,depth:m,index:x.length});F.subHeaders.push(v),x.push(F)}u.headers.push(v),v.headerGroup=u}),d.push(u),m>0&&g(x,m-1)},c=s.map((f,m)=>Ot(t,f,{depth:o,index:m}));g(c,o-1),d.reverse();const p=f=>f.filter(u=>u.column.getIsVisible()).map(u=>{let x=0,v=0,_=[0];u.subHeaders&&u.subHeaders.length?(_=[],p(u.subHeaders).forEach(N=>{let{colSpan:k,rowSpan:F}=N;x+=k,_.push(F)})):x=1;const h=Math.min(..._);return v=v+h,u.colSpan=x,u.rowSpan=v,{colSpan:x,rowSpan:v}});return p((r=(i=d[0])==null?void 0:i.headers)!=null?r:[]),d}const Pr=(e,s,t,a,r,i,o)=>{let l={id:s,index:a,original:t,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(l._valuesCache.hasOwnProperty(d))return l._valuesCache[d];const g=e.getColumn(d);if(g!=null&&g.accessorFn)return l._valuesCache[d]=g.accessorFn(l.original,a),l._valuesCache[d]},getUniqueValues:d=>{if(l._uniqueValuesCache.hasOwnProperty(d))return l._uniqueValuesCache[d];const g=e.getColumn(d);if(g!=null&&g.accessorFn)return g.columnDef.getUniqueValues?(l._uniqueValuesCache[d]=g.columnDef.getUniqueValues(l.original,a),l._uniqueValuesCache[d]):(l._uniqueValuesCache[d]=[l.getValue(d)],l._uniqueValuesCache[d])},renderValue:d=>{var g;return(g=l.getValue(d))!=null?g:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Sr(l.subRows,d=>d.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let d=[],g=l;for(;;){const c=g.getParentRow();if(!c)break;d.push(c),g=c}return d.reverse()},getAllCells:y(()=>[e.getAllLeafColumns()],d=>d.map(g=>Nr(e,l,g,g.id)),w(e.options,"debugRows")),_getAllCellsByColumnId:y(()=>[l.getAllCells()],d=>d.reduce((g,c)=>(g[c.column.id]=c,g),{}),w(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const g=e._features[d];g==null||g.createRow==null||g.createRow(l,e)}return l},kr={createColumn:(e,s)=>{e._getFacetedRowModel=s.options.getFacetedRowModel&&s.options.getFacetedRowModel(s,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():s.getPreFilteredRowModel(),e._getFacetedUniqueValues=s.options.getFacetedUniqueValues&&s.options.getFacetedUniqueValues(s,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=s.options.getFacetedMinMaxValues&&s.options.getFacetedMinMaxValues(s,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},xn=(e,s,t)=>{var a,r;const i=t==null||(a=t.toString())==null?void 0:a.toLowerCase();return!!(!((r=e.getValue(s))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};xn.autoRemove=e=>G(e);const fn=(e,s,t)=>{var a;return!!(!((a=e.getValue(s))==null||(a=a.toString())==null)&&a.includes(t))};fn.autoRemove=e=>G(e);const hn=(e,s,t)=>{var a;return((a=e.getValue(s))==null||(a=a.toString())==null?void 0:a.toLowerCase())===(t==null?void 0:t.toLowerCase())};hn.autoRemove=e=>G(e);const vn=(e,s,t)=>{var a;return(a=e.getValue(s))==null?void 0:a.includes(t)};vn.autoRemove=e=>G(e);const bn=(e,s,t)=>!t.some(a=>{var r;return!((r=e.getValue(s))!=null&&r.includes(a))});bn.autoRemove=e=>G(e)||!(e!=null&&e.length);const _n=(e,s,t)=>t.some(a=>{var r;return(r=e.getValue(s))==null?void 0:r.includes(a)});_n.autoRemove=e=>G(e)||!(e!=null&&e.length);const Cn=(e,s,t)=>e.getValue(s)===t;Cn.autoRemove=e=>G(e);const jn=(e,s,t)=>e.getValue(s)==t;jn.autoRemove=e=>G(e);const jt=(e,s,t)=>{let[a,r]=t;const i=e.getValue(s);return i>=a&&i<=r};jt.resolveFilterValue=e=>{let[s,t]=e,a=typeof s!="number"?parseFloat(s):s,r=typeof t!="number"?parseFloat(t):t,i=s===null||Number.isNaN(a)?-1/0:a,o=t===null||Number.isNaN(r)?1/0:r;if(i>o){const l=i;i=o,o=l}return[i,o]};jt.autoRemove=e=>G(e)||G(e[0])&&G(e[1]);const q={includesString:xn,includesStringSensitive:fn,equalsString:hn,arrIncludes:vn,arrIncludesAll:bn,arrIncludesSome:_n,equals:Cn,weakEquals:jn,inNumberRange:jt};function G(e){return e==null||e===""}const Ir={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:V("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,s)=>{e.getAutoFilterFn=()=>{const t=s.getCoreRowModel().flatRows[0],a=t==null?void 0:t.getValue(e.id);return typeof a=="string"?q.includesString:typeof a=="number"?q.inNumberRange:typeof a=="boolean"||a!==null&&typeof a=="object"?q.equals:Array.isArray(a)?q.arrIncludes:q.weakEquals},e.getFilterFn=()=>{var t,a;return Oe(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(a=s.options.filterFns)==null?void 0:a[e.columnDef.filterFn])!=null?t:q[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,a,r;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((a=s.options.enableColumnFilters)!=null?a:!0)&&((r=s.options.enableFilters)!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=s.getState().columnFilters)==null||(t=t.find(a=>a.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,a;return(t=(a=s.getState().columnFilters)==null?void 0:a.findIndex(r=>r.id===e.id))!=null?t:-1},e.setFilterValue=t=>{s.setColumnFilters(a=>{const r=e.getFilterFn(),i=a==null?void 0:a.find(c=>c.id===e.id),o=J(t,i?i.value:void 0);if(Ht(r,o,e)){var l;return(l=a==null?void 0:a.filter(c=>c.id!==e.id))!=null?l:[]}const d={id:e.id,value:o};if(i){var g;return(g=a==null?void 0:a.map(c=>c.id===e.id?d:c))!=null?g:[]}return a!=null&&a.length?[...a,d]:[d]})}},createRow:(e,s)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=s=>{const t=e.getAllLeafColumns(),a=r=>{var i;return(i=J(s,r))==null?void 0:i.filter(o=>{const l=t.find(d=>d.id===o.id);if(l){const d=l.getFilterFn();if(Ht(d,o.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(a)},e.resetColumnFilters=s=>{var t,a;e.setColumnFilters(s?[]:(t=(a=e.initialState)==null?void 0:a.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ht(e,s,t){return(e&&e.autoRemove?e.autoRemove(s,t):!1)||typeof s>"u"||typeof s=="string"&&!s}const $r=(e,s,t)=>t.reduce((a,r)=>{const i=r.getValue(e);return a+(typeof i=="number"?i:0)},0),Mr=(e,s,t)=>{let a;return t.forEach(r=>{const i=r.getValue(e);i!=null&&(a>i||a===void 0&&i>=i)&&(a=i)}),a},Ar=(e,s,t)=>{let a;return t.forEach(r=>{const i=r.getValue(e);i!=null&&(a<i||a===void 0&&i>=i)&&(a=i)}),a},Dr=(e,s,t)=>{let a,r;return t.forEach(i=>{const o=i.getValue(e);o!=null&&(a===void 0?o>=o&&(a=r=o):(a>o&&(a=o),r<o&&(r=o)))}),[a,r]},Er=(e,s)=>{let t=0,a=0;if(s.forEach(r=>{let i=r.getValue(e);i!=null&&(i=+i)>=i&&(++t,a+=i)}),t)return a/t},zr=(e,s)=>{if(!s.length)return;const t=s.map(i=>i.getValue(e));if(!wr(t))return;if(t.length===1)return t[0];const a=Math.floor(t.length/2),r=t.sort((i,o)=>i-o);return t.length%2!==0?r[a]:(r[a-1]+r[a])/2},Lr=(e,s)=>Array.from(new Set(s.map(t=>t.getValue(e))).values()),Vr=(e,s)=>new Set(s.map(t=>t.getValue(e))).size,Tr=(e,s)=>s.length,Ke={sum:$r,min:Mr,max:Ar,extent:Dr,mean:Er,median:zr,unique:Lr,uniqueCount:Vr,count:Tr},Gr={getDefaultColumnDef:()=>({aggregatedCell:e=>{var s,t;return(s=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?s:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:V("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,s)=>{e.toggleGrouping=()=>{s.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(a=>a!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,a;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((a=s.options.enableGrouping)!=null?a:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=s.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=s.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=s.getCoreRowModel().flatRows[0],a=t==null?void 0:t.getValue(e.id);if(typeof a=="number")return Ke.sum;if(Object.prototype.toString.call(a)==="[object Date]")return Ke.extent},e.getAggregationFn=()=>{var t,a;if(!e)throw new Error;return Oe(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(a=s.options.aggregationFns)==null?void 0:a[e.columnDef.aggregationFn])!=null?t:Ke[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=s=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(s),e.resetGrouping=s=>{var t,a;e.setGrouping(s?[]:(t=(a=e.initialState)==null?void 0:a.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,s)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const a=s.getColumn(t);return a!=null&&a.columnDef.getGroupingValue?(e._groupingValuesCache[t]=a.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,s,t,a)=>{e.getIsGrouped=()=>s.getIsGrouped()&&s.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&s.getIsGrouped(),e.getIsAggregated=()=>{var r;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((r=t.subRows)!=null&&r.length)}}};function Or(e,s,t){if(!(s!=null&&s.length)||!t)return e;const a=e.filter(i=>!s.includes(i.id));return t==="remove"?a:[...s.map(i=>e.find(o=>o.id===i)).filter(Boolean),...a]}const Hr={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:V("columnOrder",e)}),createColumn:(e,s)=>{e.getIndex=y(t=>[_e(s,t)],t=>t.findIndex(a=>a.id===e.id),w(s.options,"debugColumns")),e.getIsFirstColumn=t=>{var a;return((a=_e(s,t)[0])==null?void 0:a.id)===e.id},e.getIsLastColumn=t=>{var a;const r=_e(s,t);return((a=r[r.length-1])==null?void 0:a.id)===e.id}},createTable:e=>{e.setColumnOrder=s=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(s),e.resetColumnOrder=s=>{var t;e.setColumnOrder(s?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=y(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(s,t,a)=>r=>{let i=[];if(!(s!=null&&s.length))i=r;else{const o=[...s],l=[...r];for(;l.length&&o.length;){const d=o.shift(),g=l.findIndex(c=>c.id===d);g>-1&&i.push(l.splice(g,1)[0])}i=[...i,...l]}return Or(i,t,a)},w(e.options,"debugTable"))}},Xe=()=>({left:[],right:[]}),Br={getInitialState:e=>({columnPinning:Xe(),...e}),getDefaultOptions:e=>({onColumnPinningChange:V("columnPinning",e)}),createColumn:(e,s)=>{e.pin=t=>{const a=e.getLeafColumns().map(r=>r.id).filter(Boolean);s.setColumnPinning(r=>{var i,o;if(t==="right"){var l,d;return{left:((l=r==null?void 0:r.left)!=null?l:[]).filter(p=>!(a!=null&&a.includes(p))),right:[...((d=r==null?void 0:r.right)!=null?d:[]).filter(p=>!(a!=null&&a.includes(p))),...a]}}if(t==="left"){var g,c;return{left:[...((g=r==null?void 0:r.left)!=null?g:[]).filter(p=>!(a!=null&&a.includes(p))),...a],right:((c=r==null?void 0:r.right)!=null?c:[]).filter(p=>!(a!=null&&a.includes(p)))}}return{left:((i=r==null?void 0:r.left)!=null?i:[]).filter(p=>!(a!=null&&a.includes(p))),right:((o=r==null?void 0:r.right)!=null?o:[]).filter(p=>!(a!=null&&a.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(a=>{var r,i,o;return((r=a.columnDef.enablePinning)!=null?r:!0)&&((i=(o=s.options.enableColumnPinning)!=null?o:s.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(l=>l.id),{left:a,right:r}=s.getState().columnPinning,i=t.some(l=>a==null?void 0:a.includes(l)),o=t.some(l=>r==null?void 0:r.includes(l));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var t,a;const r=e.getIsPinned();return r?(t=(a=s.getState().columnPinning)==null||(a=a[r])==null?void 0:a.indexOf(e.id))!=null?t:-1:0}},createRow:(e,s)=>{e.getCenterVisibleCells=y(()=>[e._getAllVisibleCells(),s.getState().columnPinning.left,s.getState().columnPinning.right],(t,a,r)=>{const i=[...a??[],...r??[]];return t.filter(o=>!i.includes(o.column.id))},w(s.options,"debugRows")),e.getLeftVisibleCells=y(()=>[e._getAllVisibleCells(),s.getState().columnPinning.left],(t,a)=>(a??[]).map(i=>t.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),w(s.options,"debugRows")),e.getRightVisibleCells=y(()=>[e._getAllVisibleCells(),s.getState().columnPinning.right],(t,a)=>(a??[]).map(i=>t.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),w(s.options,"debugRows"))},createTable:e=>{e.setColumnPinning=s=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(s),e.resetColumnPinning=s=>{var t,a;return e.setColumnPinning(s?Xe():(t=(a=e.initialState)==null?void 0:a.columnPinning)!=null?t:Xe())},e.getIsSomeColumnsPinned=s=>{var t;const a=e.getState().columnPinning;if(!s){var r,i;return!!((r=a.left)!=null&&r.length||(i=a.right)!=null&&i.length)}return!!((t=a[s])!=null&&t.length)},e.getLeftLeafColumns=y(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(s,t)=>(t??[]).map(a=>s.find(r=>r.id===a)).filter(Boolean),w(e.options,"debugColumns")),e.getRightLeafColumns=y(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(s,t)=>(t??[]).map(a=>s.find(r=>r.id===a)).filter(Boolean),w(e.options,"debugColumns")),e.getCenterLeafColumns=y(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(s,t,a)=>{const r=[...t??[],...a??[]];return s.filter(i=>!r.includes(i.id))},w(e.options,"debugColumns"))}};function qr(e){return e||(typeof document<"u"?document:null)}const ke={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ye=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Ur={getDefaultColumnDef:()=>ke,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ye(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:V("columnSizing",e),onColumnSizingInfoChange:V("columnSizingInfo",e)}),createColumn:(e,s)=>{e.getSize=()=>{var t,a,r;const i=s.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:ke.minSize,(a=i??e.columnDef.size)!=null?a:ke.size),(r=e.columnDef.maxSize)!=null?r:ke.maxSize)},e.getStart=y(t=>[t,_e(s,t),s.getState().columnSizing],(t,a)=>a.slice(0,e.getIndex(t)).reduce((r,i)=>r+i.getSize(),0),w(s.options,"debugColumns")),e.getAfter=y(t=>[t,_e(s,t),s.getState().columnSizing],(t,a)=>a.slice(e.getIndex(t)+1).reduce((r,i)=>r+i.getSize(),0),w(s.options,"debugColumns")),e.resetSize=()=>{s.setColumnSizing(t=>{let{[e.id]:a,...r}=t;return r})},e.getCanResize=()=>{var t,a;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((a=s.options.enableColumnResizing)!=null?a:!0)},e.getIsResizing=()=>s.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,s)=>{e.getSize=()=>{let t=0;const a=r=>{if(r.subHeaders.length)r.subHeaders.forEach(a);else{var i;t+=(i=r.column.getSize())!=null?i:0}};return a(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const a=s.getColumn(e.column.id),r=a==null?void 0:a.getCanResize();return i=>{if(!a||!r||(i.persist==null||i.persist(),Je(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),l=e?e.getLeafHeaders().map(_=>[_.column.id,_.column.getSize()]):[[a.id,a.getSize()]],d=Je(i)?Math.round(i.touches[0].clientX):i.clientX,g={},c=(_,h)=>{typeof h=="number"&&(s.setColumnSizingInfo(N=>{var k,F;const C=s.options.columnResizeDirection==="rtl"?-1:1,T=(h-((k=N==null?void 0:N.startOffset)!=null?k:0))*C,Q=Math.max(T/((F=N==null?void 0:N.startSize)!=null?F:0),-.999999);return N.columnSizingStart.forEach(oe=>{let[le,Y]=oe;g[le]=Math.round(Math.max(Y+Y*Q,0)*100)/100}),{...N,deltaOffset:T,deltaPercentage:Q}}),(s.options.columnResizeMode==="onChange"||_==="end")&&s.setColumnSizing(N=>({...N,...g})))},p=_=>c("move",_),f=_=>{c("end",_),s.setColumnSizingInfo(h=>({...h,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=qr(t),u={moveHandler:_=>p(_.clientX),upHandler:_=>{m==null||m.removeEventListener("mousemove",u.moveHandler),m==null||m.removeEventListener("mouseup",u.upHandler),f(_.clientX)}},x={moveHandler:_=>(_.cancelable&&(_.preventDefault(),_.stopPropagation()),p(_.touches[0].clientX),!1),upHandler:_=>{var h;m==null||m.removeEventListener("touchmove",x.moveHandler),m==null||m.removeEventListener("touchend",x.upHandler),_.cancelable&&(_.preventDefault(),_.stopPropagation()),f((h=_.touches[0])==null?void 0:h.clientX)}},v=Wr()?{passive:!1}:!1;Je(i)?(m==null||m.addEventListener("touchmove",x.moveHandler,v),m==null||m.addEventListener("touchend",x.upHandler,v)):(m==null||m.addEventListener("mousemove",u.moveHandler,v),m==null||m.addEventListener("mouseup",u.upHandler,v)),s.setColumnSizingInfo(_=>({..._,startOffset:d,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:a.id}))}}},createTable:e=>{e.setColumnSizing=s=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(s),e.setColumnSizingInfo=s=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(s),e.resetColumnSizing=s=>{var t;e.setColumnSizing(s?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=s=>{var t;e.setColumnSizingInfo(s?Ye():(t=e.initialState.columnSizingInfo)!=null?t:Ye())},e.getTotalSize=()=>{var s,t;return(s=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((a,r)=>a+r.getSize(),0))!=null?s:0},e.getLeftTotalSize=()=>{var s,t;return(s=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((a,r)=>a+r.getSize(),0))!=null?s:0},e.getCenterTotalSize=()=>{var s,t;return(s=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((a,r)=>a+r.getSize(),0))!=null?s:0},e.getRightTotalSize=()=>{var s,t;return(s=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((a,r)=>a+r.getSize(),0))!=null?s:0}}};let Ie=null;function Wr(){if(typeof Ie=="boolean")return Ie;let e=!1;try{const s={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,s),window.removeEventListener("test",t)}catch{e=!1}return Ie=e,Ie}function Je(e){return e.type==="touchstart"}const Kr={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:V("columnVisibility",e)}),createColumn:(e,s)=>{e.toggleVisibility=t=>{e.getCanHide()&&s.setColumnVisibility(a=>({...a,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,a;const r=e.columns;return(t=r.length?r.some(i=>i.getIsVisible()):(a=s.getState().columnVisibility)==null?void 0:a[e.id])!=null?t:!0},e.getCanHide=()=>{var t,a;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((a=s.options.enableHiding)!=null?a:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,s)=>{e._getAllVisibleCells=y(()=>[e.getAllCells(),s.getState().columnVisibility],t=>t.filter(a=>a.column.getIsVisible()),w(s.options,"debugRows")),e.getVisibleCells=y(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,a,r)=>[...t,...a,...r],w(s.options,"debugRows"))},createTable:e=>{const s=(t,a)=>y(()=>[a(),a().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),w(e.options,"debugColumns"));e.getVisibleFlatColumns=s("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=s("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=s("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=s("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=s("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var a;e.setColumnVisibility(t?{}:(a=e.initialState.columnVisibility)!=null?a:{})},e.toggleAllColumnsVisible=t=>{var a;t=(a=t)!=null?a:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((r,i)=>({...r,[i.id]:t||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var a;e.toggleAllColumnsVisible((a=t.target)==null?void 0:a.checked)}}};function _e(e,s){return s?s==="center"?e.getCenterVisibleLeafColumns():s==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Xr={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Yr={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:V("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:s=>{var t;const a=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[s.id])==null?void 0:t.getValue();return typeof a=="string"||typeof a=="number"}}),createColumn:(e,s)=>{e.getCanGlobalFilter=()=>{var t,a,r,i;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((a=s.options.enableGlobalFilter)!=null?a:!0)&&((r=s.options.enableFilters)!=null?r:!0)&&((i=s.options.getColumnCanGlobalFilter==null?void 0:s.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>q.includesString,e.getGlobalFilterFn=()=>{var s,t;const{globalFilterFn:a}=e.options;return Oe(a)?a:a==="auto"?e.getGlobalAutoFilterFn():(s=(t=e.options.filterFns)==null?void 0:t[a])!=null?s:q[a]},e.setGlobalFilter=s=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(s)},e.resetGlobalFilter=s=>{e.setGlobalFilter(s?void 0:e.initialState.globalFilter)}}},Jr={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:V("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let s=!1,t=!1;e._autoResetExpanded=()=>{var a,r;if(!s){e._queue(()=>{s=!0});return}if((a=(r=e.options.autoResetAll)!=null?r:e.options.autoResetExpanded)!=null?a:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=a=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(a),e.toggleAllRowsExpanded=a=>{a??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=a=>{var r,i;e.setExpanded(a?{}:(r=(i=e.initialState)==null?void 0:i.expanded)!=null?r:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(a=>a.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>a=>{a.persist==null||a.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const a=e.getState().expanded;return a===!0||Object.values(a).some(Boolean)},e.getIsAllRowsExpanded=()=>{const a=e.getState().expanded;return typeof a=="boolean"?a===!0:!(!Object.keys(a).length||e.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},e.getExpandedDepth=()=>{let a=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");a=Math.max(a,o.length)}),a},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,s)=>{e.toggleExpanded=t=>{s.setExpanded(a=>{var r;const i=a===!0?!0:!!(a!=null&&a[e.id]);let o={};if(a===!0?Object.keys(s.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=a,t=(r=t)!=null?r:!i,!i&&t)return{...o,[e.id]:!0};if(i&&!t){const{[e.id]:l,...d}=o;return d}return a})},e.getIsExpanded=()=>{var t;const a=s.getState().expanded;return!!((t=s.options.getIsRowExpanded==null?void 0:s.options.getIsRowExpanded(e))!=null?t:a===!0||a!=null&&a[e.id])},e.getCanExpand=()=>{var t,a,r;return(t=s.options.getRowCanExpand==null?void 0:s.options.getRowCanExpand(e))!=null?t:((a=s.options.enableExpanding)!=null?a:!0)&&!!((r=e.subRows)!=null&&r.length)},e.getIsAllParentsExpanded=()=>{let t=!0,a=e;for(;t&&a.parentId;)a=s.getRow(a.parentId,!0),t=a.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},it=0,ot=10,Ze=()=>({pageIndex:it,pageSize:ot}),Zr={getInitialState:e=>({...e,pagination:{...Ze(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:V("pagination",e)}),createTable:e=>{let s=!1,t=!1;e._autoResetPageIndex=()=>{var a,r;if(!s){e._queue(()=>{s=!0});return}if((a=(r=e.options.autoResetAll)!=null?r:e.options.autoResetPageIndex)!=null?a:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=a=>{const r=i=>J(a,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(r)},e.resetPagination=a=>{var r;e.setPagination(a?Ze():(r=e.initialState.pagination)!=null?r:Ze())},e.setPageIndex=a=>{e.setPagination(r=>{let i=J(a,r.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...r,pageIndex:i}})},e.resetPageIndex=a=>{var r,i;e.setPageIndex(a?it:(r=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?r:it)},e.resetPageSize=a=>{var r,i;e.setPageSize(a?ot:(r=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?r:ot)},e.setPageSize=a=>{e.setPagination(r=>{const i=Math.max(1,J(a,r.pageSize)),o=r.pageSize*r.pageIndex,l=Math.floor(o/i);return{...r,pageIndex:l,pageSize:i}})},e.setPageCount=a=>e.setPagination(r=>{var i;let o=J(a,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),e.getPageOptions=y(()=>[e.getPageCount()],a=>{let r=[];return a&&a>0&&(r=[...new Array(a)].fill(null).map((i,o)=>o)),r},w(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:a}=e.getState().pagination,r=e.getPageCount();return r===-1?!0:r===0?!1:a<r-1},e.previousPage=()=>e.setPageIndex(a=>a-1),e.nextPage=()=>e.setPageIndex(a=>a+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var a;return(a=e.options.pageCount)!=null?a:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var a;return(a=e.options.rowCount)!=null?a:e.getPrePaginationRowModel().rows.length}}},Qe=()=>({top:[],bottom:[]}),Qr={getInitialState:e=>({rowPinning:Qe(),...e}),getDefaultOptions:e=>({onRowPinningChange:V("rowPinning",e)}),createRow:(e,s)=>{e.pin=(t,a,r)=>{const i=a?e.getLeafRows().map(d=>{let{id:g}=d;return g}):[],o=r?e.getParentRows().map(d=>{let{id:g}=d;return g}):[],l=new Set([...o,e.id,...i]);s.setRowPinning(d=>{var g,c;if(t==="bottom"){var p,f;return{top:((p=d==null?void 0:d.top)!=null?p:[]).filter(x=>!(l!=null&&l.has(x))),bottom:[...((f=d==null?void 0:d.bottom)!=null?f:[]).filter(x=>!(l!=null&&l.has(x))),...Array.from(l)]}}if(t==="top"){var m,u;return{top:[...((m=d==null?void 0:d.top)!=null?m:[]).filter(x=>!(l!=null&&l.has(x))),...Array.from(l)],bottom:((u=d==null?void 0:d.bottom)!=null?u:[]).filter(x=>!(l!=null&&l.has(x)))}}return{top:((g=d==null?void 0:d.top)!=null?g:[]).filter(x=>!(l!=null&&l.has(x))),bottom:((c=d==null?void 0:d.bottom)!=null?c:[]).filter(x=>!(l!=null&&l.has(x)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:a,enablePinning:r}=s.options;return typeof a=="function"?a(e):(t=a??r)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:a,bottom:r}=s.getState().rowPinning,i=t.some(l=>a==null?void 0:a.includes(l)),o=t.some(l=>r==null?void 0:r.includes(l));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var t,a;const r=e.getIsPinned();if(!r)return-1;const i=(t=r==="top"?s.getTopRows():s.getBottomRows())==null?void 0:t.map(o=>{let{id:l}=o;return l});return(a=i==null?void 0:i.indexOf(e.id))!=null?a:-1}},createTable:e=>{e.setRowPinning=s=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(s),e.resetRowPinning=s=>{var t,a;return e.setRowPinning(s?Qe():(t=(a=e.initialState)==null?void 0:a.rowPinning)!=null?t:Qe())},e.getIsSomeRowsPinned=s=>{var t;const a=e.getState().rowPinning;if(!s){var r,i;return!!((r=a.top)!=null&&r.length||(i=a.bottom)!=null&&i.length)}return!!((t=a[s])!=null&&t.length)},e._getPinnedRows=(s,t,a)=>{var r;return((r=e.options.keepPinnedRows)==null||r?(t??[]).map(o=>{const l=e.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(t??[]).map(o=>s.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:a}))},e.getTopRows=y(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(s,t)=>e._getPinnedRows(s,t,"top"),w(e.options,"debugRows")),e.getBottomRows=y(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(s,t)=>e._getPinnedRows(s,t,"bottom"),w(e.options,"debugRows")),e.getCenterRows=y(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(s,t,a)=>{const r=new Set([...t??[],...a??[]]);return s.filter(i=>!r.has(i.id))},w(e.options,"debugRows"))}},ei={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:V("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=s=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(s),e.resetRowSelection=s=>{var t;return e.setRowSelection(s?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=s=>{e.setRowSelection(t=>{s=typeof s<"u"?s:!e.getIsAllRowsSelected();const a={...t},r=e.getPreGroupedRowModel().flatRows;return s?r.forEach(i=>{i.getCanSelect()&&(a[i.id]=!0)}):r.forEach(i=>{delete a[i.id]}),a})},e.toggleAllPageRowsSelected=s=>e.setRowSelection(t=>{const a=typeof s<"u"?s:!e.getIsAllPageRowsSelected(),r={...t};return e.getRowModel().rows.forEach(i=>{lt(r,i.id,a,!0,e)}),r}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=y(()=>[e.getState().rowSelection,e.getCoreRowModel()],(s,t)=>Object.keys(s).length?et(e,t):{rows:[],flatRows:[],rowsById:{}},w(e.options,"debugTable")),e.getFilteredSelectedRowModel=y(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(s,t)=>Object.keys(s).length?et(e,t):{rows:[],flatRows:[],rowsById:{}},w(e.options,"debugTable")),e.getGroupedSelectedRowModel=y(()=>[e.getState().rowSelection,e.getSortedRowModel()],(s,t)=>Object.keys(s).length?et(e,t):{rows:[],flatRows:[],rowsById:{}},w(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const s=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let a=!!(s.length&&Object.keys(t).length);return a&&s.some(r=>r.getCanSelect()&&!t[r.id])&&(a=!1),a},e.getIsAllPageRowsSelected=()=>{const s=e.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:t}=e.getState();let a=!!s.length;return a&&s.some(r=>!t[r.id])&&(a=!1),a},e.getIsSomeRowsSelected=()=>{var s;const t=Object.keys((s=e.getState().rowSelection)!=null?s:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const s=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:s.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>s=>{e.toggleAllRowsSelected(s.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>s=>{e.toggleAllPageRowsSelected(s.target.checked)}},createRow:(e,s)=>{e.toggleSelected=(t,a)=>{const r=e.getIsSelected();s.setRowSelection(i=>{var o;if(t=typeof t<"u"?t:!r,e.getCanSelect()&&r===t)return i;const l={...i};return lt(l,e.id,t,(o=a==null?void 0:a.selectChildren)!=null?o:!0,s),l})},e.getIsSelected=()=>{const{rowSelection:t}=s.getState();return yt(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=s.getState();return ct(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=s.getState();return ct(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof s.options.enableRowSelection=="function"?s.options.enableRowSelection(e):(t=s.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof s.options.enableSubRowSelection=="function"?s.options.enableSubRowSelection(e):(t=s.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof s.options.enableMultiRowSelection=="function"?s.options.enableMultiRowSelection(e):(t=s.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return a=>{var r;t&&e.toggleSelected((r=a.target)==null?void 0:r.checked)}}}},lt=(e,s,t,a,r)=>{var i;const o=r.getRow(s,!0);t?(o.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),o.getCanSelect()&&(e[s]=!0)):delete e[s],a&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>lt(e,l.id,t,a,r))};function et(e,s){const t=e.getState().rowSelection,a=[],r={},i=function(o,l){return o.map(d=>{var g;const c=yt(d,t);if(c&&(a.push(d),r[d.id]=d),(g=d.subRows)!=null&&g.length&&(d={...d,subRows:i(d.subRows)}),c)return d}).filter(Boolean)};return{rows:i(s.rows),flatRows:a,rowsById:r}}function yt(e,s){var t;return(t=s[e.id])!=null?t:!1}function ct(e,s,t){var a;if(!((a=e.subRows)!=null&&a.length))return!1;let r=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!r)&&(o.getCanSelect()&&(yt(o,s)?i=!0:r=!1),o.subRows&&o.subRows.length)){const l=ct(o,s);l==="all"?i=!0:(l==="some"&&(i=!0),r=!1)}}),r?"all":i?"some":!1}const dt=/([0-9]+)/gm,ti=(e,s,t)=>yn(Z(e.getValue(t)).toLowerCase(),Z(s.getValue(t)).toLowerCase()),ni=(e,s,t)=>yn(Z(e.getValue(t)),Z(s.getValue(t))),si=(e,s,t)=>wt(Z(e.getValue(t)).toLowerCase(),Z(s.getValue(t)).toLowerCase()),ai=(e,s,t)=>wt(Z(e.getValue(t)),Z(s.getValue(t))),ri=(e,s,t)=>{const a=e.getValue(t),r=s.getValue(t);return a>r?1:a<r?-1:0},ii=(e,s,t)=>wt(e.getValue(t),s.getValue(t));function wt(e,s){return e===s?0:e>s?1:-1}function Z(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function yn(e,s){const t=e.split(dt).filter(Boolean),a=s.split(dt).filter(Boolean);for(;t.length&&a.length;){const r=t.shift(),i=a.shift(),o=parseInt(r,10),l=parseInt(i,10),d=[o,l].sort();if(isNaN(d[0])){if(r>i)return 1;if(i>r)return-1;continue}if(isNaN(d[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return t.length-a.length}const fe={alphanumeric:ti,alphanumericCaseSensitive:ni,text:si,textCaseSensitive:ai,datetime:ri,basic:ii},oi={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:V("sorting",e),isMultiSortEvent:s=>s.shiftKey}),createColumn:(e,s)=>{e.getAutoSortingFn=()=>{const t=s.getFilteredRowModel().flatRows.slice(10);let a=!1;for(const r of t){const i=r==null?void 0:r.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return fe.datetime;if(typeof i=="string"&&(a=!0,i.split(dt).length>1))return fe.alphanumeric}return a?fe.text:fe.basic},e.getAutoSortDir=()=>{const t=s.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,a;if(!e)throw new Error;return Oe(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(a=s.options.sortingFns)==null?void 0:a[e.columnDef.sortingFn])!=null?t:fe[e.columnDef.sortingFn]},e.toggleSorting=(t,a)=>{const r=e.getNextSortingOrder(),i=typeof t<"u"&&t!==null;s.setSorting(o=>{const l=o==null?void 0:o.find(m=>m.id===e.id),d=o==null?void 0:o.findIndex(m=>m.id===e.id);let g=[],c,p=i?t:r==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&a?l?c="toggle":c="add":o!=null&&o.length&&d!==o.length-1?c="replace":l?c="toggle":c="replace",c==="toggle"&&(i||r||(c="remove")),c==="add"){var f;g=[...o,{id:e.id,desc:p}],g.splice(0,g.length-((f=s.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?g=o.map(m=>m.id===e.id?{...m,desc:p}:m):c==="remove"?g=o.filter(m=>m.id!==e.id):g=[{id:e.id,desc:p}];return g})},e.getFirstSortDir=()=>{var t,a;return((t=(a=e.columnDef.sortDescFirst)!=null?a:s.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var a,r;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((a=s.options.enableSortingRemoval)==null||a)&&(!(t&&(r=s.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var t,a;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((a=s.options.enableSorting)!=null?a:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,a;return(t=(a=e.columnDef.enableMultiSort)!=null?a:s.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const a=(t=s.getState().sorting)==null?void 0:t.find(r=>r.id===e.id);return a?a.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,a;return(t=(a=s.getState().sorting)==null?void 0:a.findIndex(r=>r.id===e.id))!=null?t:-1},e.clearSorting=()=>{s.setSorting(t=>t!=null&&t.length?t.filter(a=>a.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return a=>{t&&(a.persist==null||a.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?s.options.isMultiSortEvent==null?void 0:s.options.isMultiSortEvent(a):!1))}}},createTable:e=>{e.setSorting=s=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(s),e.resetSorting=s=>{var t,a;e.setSorting(s?[]:(t=(a=e.initialState)==null?void 0:a.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},li=[Fr,Kr,Hr,Br,kr,Ir,Xr,Yr,oi,Gr,Jr,Zr,Qr,ei,Ur];function ci(e){var s,t;const a=[...li,...(s=e._features)!=null?s:[]];let r={_features:a};const i=r._features.reduce((f,m)=>Object.assign(f,m.getDefaultOptions==null?void 0:m.getDefaultOptions(r)),{}),o=f=>r.options.mergeOptions?r.options.mergeOptions(i,f):{...i,...f};let d={...{},...(t=e.initialState)!=null?t:{}};r._features.forEach(f=>{var m;d=(m=f.getInitialState==null?void 0:f.getInitialState(d))!=null?m:d});const g=[];let c=!1;const p={_features:a,options:{...i,...e},initialState:d,_queue:f=>{g.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;g.length;)g.shift()();c=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{r.setState(r.initialState)},setOptions:f=>{const m=J(f,r.options);r.options=o(m)},getState:()=>r.options.state,setState:f=>{r.options.onStateChange==null||r.options.onStateChange(f)},_getRowId:(f,m,u)=>{var x;return(x=r.options.getRowId==null?void 0:r.options.getRowId(f,m,u))!=null?x:`${u?[u.id,m].join("."):m}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(f,m)=>{let u=(m?r.getPrePaginationRowModel():r.getRowModel()).rowsById[f];if(!u&&(u=r.getCoreRowModel().rowsById[f],!u))throw new Error;return u},_getDefaultColumnDef:y(()=>[r.options.defaultColumn],f=>{var m;return f=(m=f)!=null?m:{},{header:u=>{const x=u.header.column.columnDef;return x.accessorKey?x.accessorKey:x.accessorFn?x.id:null},cell:u=>{var x,v;return(x=(v=u.renderValue())==null||v.toString==null?void 0:v.toString())!=null?x:null},...r._features.reduce((u,x)=>Object.assign(u,x.getDefaultColumnDef==null?void 0:x.getDefaultColumnDef()),{}),...f}},w(e,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:y(()=>[r._getColumnDefs()],f=>{const m=function(u,x,v){return v===void 0&&(v=0),u.map(_=>{const h=Rr(r,_,v,x),N=_;return h.columns=N.columns?m(N.columns,h,v+1):[],h})};return m(f)},w(e,"debugColumns")),getAllFlatColumns:y(()=>[r.getAllColumns()],f=>f.flatMap(m=>m.getFlatColumns()),w(e,"debugColumns")),_getAllFlatColumnsById:y(()=>[r.getAllFlatColumns()],f=>f.reduce((m,u)=>(m[u.id]=u,m),{}),w(e,"debugColumns")),getAllLeafColumns:y(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(f,m)=>{let u=f.flatMap(x=>x.getLeafColumns());return m(u)},w(e,"debugColumns")),getColumn:f=>r._getAllFlatColumnsById()[f]};Object.assign(r,p);for(let f=0;f<r._features.length;f++){const m=r._features[f];m==null||m.createTable==null||m.createTable(r)}return r}function di(){return e=>y(()=>[e.options.data],s=>{const t={rows:[],flatRows:[],rowsById:{}},a=function(r,i,o){i===void 0&&(i=0);const l=[];for(let g=0;g<r.length;g++){const c=Pr(e,e._getRowId(r[g],g,o),r[g],g,i,void 0,o==null?void 0:o.id);if(t.flatRows.push(c),t.rowsById[c.id]=c,l.push(c),e.options.getSubRows){var d;c.originalSubRows=e.options.getSubRows(r[g],g),(d=c.originalSubRows)!=null&&d.length&&(c.subRows=a(c.originalSubRows,i+1,c))}}return l};return t.rows=a(s),t},w(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ui(){return e=>y(()=>[e.getState().sorting,e.getPreSortedRowModel()],(s,t)=>{if(!t.rows.length||!(s!=null&&s.length))return t;const a=e.getState().sorting,r=[],i=a.filter(d=>{var g;return(g=e.getColumn(d.id))==null?void 0:g.getCanSort()}),o={};i.forEach(d=>{const g=e.getColumn(d.id);g&&(o[d.id]={sortUndefined:g.columnDef.sortUndefined,invertSorting:g.columnDef.invertSorting,sortingFn:g.getSortingFn()})});const l=d=>{const g=d.map(c=>({...c}));return g.sort((c,p)=>{for(let m=0;m<i.length;m+=1){var f;const u=i[m],x=o[u.id],v=x.sortUndefined,_=(f=u==null?void 0:u.desc)!=null?f:!1;let h=0;if(v){const N=c.getValue(u.id),k=p.getValue(u.id),F=N===void 0,C=k===void 0;if(F||C){if(v==="first")return F?-1:1;if(v==="last")return F?1:-1;h=F&&C?0:F?v:-v}}if(h===0&&(h=x.sortingFn(c,p,u.id)),h!==0)return _&&(h*=-1),x.invertSorting&&(h*=-1),h}return c.index-p.index}),g.forEach(c=>{var p;r.push(c),(p=c.subRows)!=null&&p.length&&(c.subRows=l(c.subRows))}),g};return{rows:l(t.rows),flatRows:r,rowsById:t.rowsById}},w(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Bt(e,s){return e?gi(e)?R.createElement(e,s):e:null}function gi(e){return mi(e)||typeof e=="function"||pi(e)}function mi(e){return typeof e=="function"&&(()=>{const s=Object.getPrototypeOf(e);return s.prototype&&s.prototype.isReactComponent})()}function pi(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function xi(e){const s={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=R.useState(()=>({current:ci(s)})),[a,r]=R.useState(()=>t.current.initialState);return t.current.setOptions(i=>({...i,...e,state:{...a,...e.state},onStateChange:o=>{r(o),e.onStateChange==null||e.onStateChange(o)}})),t.current}function fi(e,s){const t=document.createElement("a");t.href=`data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,${e}`,t.download=s,t.click()}function hi(e,s){const t=new Date().toISOString().split("T")[0].replace(/-/g,""),a={all:b.getState().language.completo,success:b.getState().language.sucesso,failed:b.getState().language.falhas}[s];return`${e}_${a}_${t}.xlsx`}const vi=async(e,s,t)=>{var i;const a={type:e,report:s,campaign:t},r=b.getState().language;if(e==="success"&&s.successContacts.length===0){A({type:"Error",message:r.nao_ha_contatos_com_sucesso_para_exportar,position:"top-right"});return}else if(e==="failed"&&s.failedContacts.length===0){A({type:"Error",message:r.nao_ha_contatos_com_falha_para_exportar,position:"top-right"});return}try{const o=await Et.post(`${Bs.backend_utils}api/XLSX/bulkSendMessage/exportReport`,a,{headers:{"Content-Type":"application/json"}}),l=hi(t.name,e);fi(o.data.XLSXbase64,l),A({type:"Success",message:r.relatorio_exportado_sucesso,position:"top-right"})}catch(o){console.error("Erro ao exportar relatório da campanha:",o),Et.isAxiosError(o)&&console.error("Detalhes do erro:",(i=o.response)==null?void 0:i.data),A({type:"Error",message:r.relatorio_exportado_erro,position:"top-right"})}},bi=({report:e,campaign:s})=>{const t=b(r=>r.language),a=async r=>{await vi(r,e,s),L.getState().close()};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-3 pb-2 border-b border-solid border-[var(--sidebar-line-color)]",children:n.jsx("p",{className:"text-xs 2xl:text-sm font-medium",children:t.exportar_relatorio})}),n.jsxs("div",{className:"pt-1",children:[n.jsxs("button",{onClick:()=>a("all"),className:"w-full px-3 py-2 text-left text-xs 2xl:text-sm hover:bg-slate-500 hover:bg-opacity-10 flex items-center gap-2 transition-colors",children:[n.jsx(ws,{className:"text-base"}),n.jsx("span",{children:t.todos})]}),n.jsxs("button",{onClick:()=>a("success"),className:"w-full px-3 py-2 text-left text-xs 2xl:text-sm hover:bg-slate-500 hover:bg-opacity-10 flex items-center gap-2 transition-colors",children:[n.jsx(pt,{className:"text-base text-green-600"}),n.jsx("span",{children:t.apenas_sucessos})]}),n.jsxs("button",{onClick:()=>a("failed"),className:"w-full px-3 py-2 text-left text-xs 2xl:text-sm hover:bg-slate-500 hover:bg-opacity-10 flex items-center gap-2 transition-colors",children:[n.jsx(Ss,{className:"text-base text-red-600"}),n.jsx("span",{children:t.apenas_falhas})]})]})]})},_i=e=>{if(!e)return"-";if(e<1)return"< 1 min";if(e<60)return`${Math.round(e)} min`;const s=Math.floor(e/60),t=Math.round(e%60);return`${s}h ${t}m`},Ci=()=>{const e=j.getState().campaigns,s=vt.getState().removeReport,{open:t}=L.getState(),a=b.getState().language;return[{accessorKey:"campaignId",header:a.campanha,cell:r=>{var l;const{campaignId:i,totalExecutions:o}=r.row.original;return n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsx("span",{className:"font-medium text-xs 2xl:text-sm",children:((l=e.find(d=>d.id===i))==null?void 0:l.name)||a.capanha_removida}),n.jsxs("span",{className:"text-[10px] 2xl:text-xs text-gray-400",children:[o," ",a.execucoes]})]})}},{accessorKey:"startedAt",header:a.inicio,cell:r=>{const i=r.row.original.startedAt;return n.jsx("span",{className:"text-xs 2xl:text-sm",children:new Date(i).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"})})}},{accessorKey:"completedAt",header:a.conclusao,cell:r=>{const i=r.row.original.completedAt;return i?n.jsx("span",{className:"text-xs 2xl:text-sm",children:new Date(i).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"})}):n.jsx("span",{className:"text-xs 2xl:text-sm text-gray-400",children:"-"})}},{id:"duration",header:a.duracao,cell:r=>{const{startedAt:i,completedAt:o}=r.row.original,l=(new Date(o).getTime()-new Date(i).getTime())/6e4;return n.jsx("span",{className:"text-xs 2xl:text-sm",children:_i(l)})}},{accessorKey:"successContacts",header:a.sucessos,cell:r=>{const{successContacts:i,totalContacts:o}=r.row.original;return n.jsx("span",{className:`text-xs 2xl:text-sm font-medium ${i.length===o?"text-green-600":"text-gray-400"}`,children:i.length})}},{accessorKey:"failedContacts",header:a.falhas,cell:r=>{const{failedContacts:i}=r.row.original;return n.jsx("span",{className:`text-xs 2xl:text-sm font-medium ${i.length>0?"text-red-600":"text-gray-400"}`,children:i.length})}},{id:"totalActions",header:a.total_de_acoes_enviadas,cell:r=>{const{totalActions:i,totalContacts:o}=r.row.original,l=i*o;return n.jsx("span",{className:"text-xs 2xl:text-sm font-medium",children:l})}},{id:"actions",header:a.acoes,cell:r=>{const i=r.row.original,o=d=>{const g=e.find(c=>c.id===i.campaignId);g&&t(n.jsx(bi,{report:i,campaign:g}),{placement:"bottom"},d.currentTarget)},l=()=>{tn({icon:n.jsx(nt,{className:"text-red-500"}),content:a.toast_delete,confirmText:a.remover,submit:()=>s(i.campaignId)})};return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:o,className:"p-1 hover:bg-slate-500 hover:bg-opacity-10 rounded transition-colors",title:a.exportar_relatorio,children:n.jsx(Ns,{className:"text-lg text-[var(--primaria)]"})}),n.jsx("button",{onClick:l,className:"p-1 hover:bg-slate-500 hover:bg-opacity-10 rounded transition-colors",title:a.remover_relatorio,children:n.jsx(nt,{className:"text-lg text-red-500"})})]})}}]},ji=()=>{const e=vt(o=>o.reports),[s,t]=K.useState([{id:"completedAt",desc:!0}]),a=K.useMemo(()=>Ci(),[]),r=xi({data:e,columns:a,state:{sorting:s},onSortingChange:t,getCoreRowModel:di(),getSortedRowModel:ui()}),i=o=>{if(!o.column.getCanSort())return null;const l=o.column.getIsSorted();return l==="asc"?n.jsx(Rs,{className:"text-[var(--primaria)]"}):l==="desc"?n.jsx(Fs,{className:"text-[var(--primaria)]"}):n.jsx(Ps,{className:"opacity-50"})};return n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs("table",{className:"table table-zebra w-full",children:[n.jsx("thead",{children:r.getHeaderGroups().map(o=>n.jsx("tr",{children:o.headers.map(l=>n.jsx("th",{className:l.column.getCanSort()?"cursor-pointer select-none hover:bg-base-200":"",onClick:l.column.getToggleSortingHandler(),children:n.jsxs("div",{className:"flex items-center gap-2",children:[Bt(l.column.columnDef.header,l.getContext()),i(l)]})},l.id))},o.id))}),n.jsx("tbody",{children:r.getRowModel().rows.map(o=>n.jsx("tr",{className:"hover",children:o.getVisibleCells().map(l=>n.jsx("td",{children:Bt(l.column.columnDef.cell,l.getContext())},l.id))},o.id))})]})})},yi=()=>{const e=b(t=>t.language),s=vt(t=>t.reports);return n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsx("div",{className:"flex items-center justify-between flex-shrink-0 border-b border-solid border-[var(--eem-border-primary)] p-4 2xl:p-6",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("h2",{className:"text-lg 2xl:text-xl font-bold leading-none",children:e.relatorios_campanhas}),n.jsx("div",{className:"badge badge-xs 2xl:badge-sm bg-[var(--primaria)] text-white",children:s.length})]})}),n.jsx("div",{className:"flex-1 min-h-0 p-4 2xl:p-6 overflow-auto",children:s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-400",children:[n.jsx(Me,{className:"text-6xl mb-4 opacity-50"}),n.jsx("p",{className:"text-lg font-medium",children:e.nenhuma_campanha_executada}),n.jsx("p",{className:"text-sm mt-1",children:e.execute_para_ver_metricas})]}):n.jsxs("div",{className:"h-full flex flex-col gap-3 2xl:gap-6",children:[n.jsxs("div",{className:"w-full border border-solid border-[var(--sidebar-line-color)] rounded-md p-4 2xl:p-6 space-y-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5 2xl:gap-2 text-sm 2xl:text-base font-medium",children:[n.jsx(Me,{className:"text-lg 2xl:text-2xl"}),n.jsx("span",{children:e.resumo_geral})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(We,{icon:n.jsx(pt,{className:"text-green-600 text-[20px] 2xl:text-[24px]"}),value:s.length,label:e.campanhas_concluidas,description:e.numero_total_de_campanhas_finalizadas,iconBgColor:"bg-[#d2fecc]"}),n.jsx(We,{icon:n.jsx($e,{className:"text-purple-600 text-[20px] 2xl:text-[24px]"}),value:s.reduce((t,a)=>t+a.totalContacts,0),label:e.total_de_contatos,description:e.soma_de_todos_os_contatos_processados,iconBgColor:"bg-[#e5ccff]"}),n.jsx(We,{icon:n.jsx(ks,{className:"text-orange-600 text-[20px] 2xl:text-[24px]"}),value:s.reduce((t,a)=>t+a.totalActions*a.totalContacts,0),label:e.total_de_acoes_enviadas,description:e.soma_de_todas_as_acoes_enviadas,iconBgColor:"bg-[#ffe5cc]"})]})]}),n.jsxs("div",{className:"w-full border border-solid border-[var(--sidebar-line-color)] rounded-md overflow-hidden flex flex-col flex-1 min-h-0",children:[n.jsx("div",{className:"p-4 2xl:p-6 border-b border-solid border-[var(--sidebar-line-color)] flex-shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1.5 2xl:gap-2 text-sm 2xl:text-base font-medium",children:[n.jsx(Me,{className:"text-lg 2xl:text-2xl"}),n.jsx("span",{children:e.historico_campanhas})]}),n.jsxs("span",{className:"text-xs 2xl:text-sm text-gray-500",children:[s.length," ",s.length===1?`${e.campanha}`:`${e.campanhas}`]})]})}),n.jsx(ji,{})]})]})})]})},wi=()=>{const e=pe(a=>a.activePage),s=b(a=>a.language),t=()=>{switch(e){case"sendFastCampaign":return n.jsx(_r,{});case"campaigns":return n.jsx(yr,{});case"analytics":return n.jsx(yi,{});default:return n.jsx("div",{className:"px-36 pt-12",children:s.selecione_pagina_valida})}};return n.jsx("main",{className:"flex-1 flex flex-col overflow-auto",children:t()})};function Si(){const{crm:e}=ft.getState(),{activeCrm:s}=ue.getState(),{activeCrmTab:t}=ye.getState();if(s==="all"){const i=e.flatMap(o=>o.list??[]);return t==="all"?i.flatMap(o=>o.chats??[]):i.filter(o=>o.id===t).flatMap(o=>o.chats??[])}const a=e.find(i=>i.id===s),r=(a==null?void 0:a.list)??[];return t==="all"?r.flatMap(i=>i.chats??[]):r.filter(i=>i.id===t).flatMap(i=>i.chats??[])}function Ni(){const{userTabs:e}=ht.getState(),{activeUserTab:s}=we.getState();if(s==="all")return e.flatMap(a=>a.chats??[]);const t=e.find(a=>a.id===s);return(t==null?void 0:t.chats)??[]}async function Ri(e){const s=e.filter(t=>t!=null&&t.id!=null&&typeof t.id=="string"&&t.id.trim()!=="");return Promise.all(s.map(async t=>{const a=await Ds(t);return{id:t.id,name:a,...t}}))}async function Fi(){const{activeSwitch:e}=ge.getState(),s=e==="crm"?Si():Ni(),t=await Ri(s);return Array.from(new Map(t.map(r=>[r.id,r])).values())}let he=null;const Pi=300*1e3;async function ki(){const e=Date.now(),{activeGroup:s}=Le.getState(),t=String(s);if(he&&he.group===t&&e-he.timestamp<Pi)return he.data;let a=[];if(s==="all"){const r=await M.Group("getAllGroups");for(const i of r){const o=await M.Chat("List",{type:"getContatosGrupos",activeLid:!0,id:i.id});o&&o.length>0&&(a=[...a,...o])}a=Array.from(new Map(a.map(i=>[i.id,i])).values())}else{const r=await M.Chat("List",{type:"getContatosGrupos",activeLid:!0,id:s});r&&r.length>0&&(a=r)}return he={data:a,group:t,timestamp:e},a}let ee=null;const Ii=300*1e3;async function $i(){try{const e=Date.now();if(ee&&e-ee.timestamp<Ii)return ee.data;const t=(await M.Group("getAllGroups")).filter(a=>{var r;return(a==null?void 0:a.id)&&((r=a==null?void 0:a.name)==null?void 0:r.trim())}).sort((a,r)=>a.name.toLowerCase().localeCompare(r.name.toLowerCase(),"pt"));return ee={data:t,timestamp:e},t}catch(e){return console.error("Erro ao buscar grupos:",e),(ee==null?void 0:ee.data)||[]}}let te=null;const Mi=300*1e3;async function Ai(){try{const e=Date.now();if(te&&e-te.timestamp<Mi)return te.data;const t=(await M.Chat("List")).filter(a=>a==null?void 0:a.id);return te={data:t,timestamp:e},t}catch(e){return console.error("Erro ao buscar contatos da caixa de entrada:",e),(te==null?void 0:te.data)||[]}}const ve={},Di=300*1e3;async function Ei(){var e;try{const s=Date.now(),{activeLabel:t}=je.getState(),a=String(t);if(ve[a]&&s-ve[a].timestamp<Di)return ve[a].data;let r=[];if(t==="all"){const i=await M.Labels("getAllLabels");for(const o of i){const l=await M.Contact("List",{type:"withLabels",id:o.id});l&&l.length>0&&(r=[...r,...l])}r=Array.from(new Map(r.map(o=>[o.id,o])).values())}else{const i=await M.Contact("List",{type:"withLabels",id:t});i&&i.length>0&&(r=i)}return ve[a]={data:r,timestamp:s},r}catch(s){return console.error("Erro ao buscar contatos por label:",s),((e=ve[String(je.getState().activeLabel)])==null?void 0:e.data)||[]}}let ne=null;const zi=300*1e3;async function Li(){try{const e=Date.now();if(ne&&e-ne.timestamp<zi)return ne.data;const t=(await M.Contact("List","onlyMyContacts")).map(r=>({...r,_sortKey:(r.name??"").toLowerCase()}));t.sort((r,i)=>r._sortKey.localeCompare(i._sortKey,"pt"));const a=t.map(({_sortKey:r,...i})=>i);return ne={data:a,timestamp:e},a}catch(e){return console.error("Erro ao buscar contatos salvos:",e),(ne==null?void 0:ne.data)||[]}}async function Vi(){const e=Te.getState().importedContacts;return!e||e.length===0?[]:e}const z=e=>(e??"").toString().trim().toLowerCase(),qt=e=>{const s=z(e);return s?["m","masc","masculino","male","h","homem"].includes(s)?"male":["f","fem","feminino","female","mulher"].includes(s)?"female":s==="male"||s==="female"?s:null:null},se=e=>{if(!e)return null;const s=e.toString().trim();if(!s)return null;const t=s.split(/[\/-]/).map(o=>o.trim());if(t.length<3)return null;if(t[0].length===4){const[o,l,d]=t.map(g=>Number(g));return!isFinite(o)||!isFinite(l)||!isFinite(d)?null:new Date(o,l-1,d)}const[a,r,i]=t.map(o=>Number(o));return!isFinite(i)||!isFinite(r)||!isFinite(a)?null:new Date(i,r-1,a)},Ti=(e,s)=>{const t=se(e),a=se(s);return!t||!a?!1:t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()};function Gi(){const e=U.getState().appliedFilters,s=de.getState().selectedOption,t=(e.interestedProducts||[]).map(f=>z(f)).filter(Boolean),a=z(e.city),r=z(e.state),i=z(e.company),o=z(e.jobTitle),l=z(e.leadSource),d=e.gender?qt(e.gender):null,g=e.entryDate?se(e.entryDate):null,c=e.exitDate?se(e.exitDate):null,p=e.birthDate??null;return f=>{const m=qt(f.sexo);if(s==="birthdaysThisMonth"){const u=se(f.dataNascimento),x=new Date().getMonth();if((u?u.getMonth():-1)!==x)return!1}else{if(s==="genderMale"&&m!=="male")return!1;if(s==="genderFemale"&&m!=="female")return!1}if(d&&m!==d||a&&!z(f.cidade).includes(a)||r&&z(f.estado)!==r||i&&!z(f.empresa).includes(i)||o&&!z(f.cargo).includes(o)||l&&z(f.origemLead)!==l)return!1;if(t.length>0){const u=(f.produtos||[]).map(v=>z(v));if(!t.some(v=>u.includes(v)))return!1}if(p&&f.dataNascimento&&!Ti(f.dataNascimento,p))return!1;if(g&&f.entrada){const u=se(f.entrada);if(u&&u<g)return!1}if(c&&f.saida){const u=se(f.saida);if(u&&u>c)return!1}return!0}}async function Oi(){const e=Es.getState().perfil,s=Gi(),t=e.filter(s);return await Promise.all(t.map(async r=>{const i=ut(r.userID),o=await M.Contact("get",i);return{id:o.id||r.userID,name:o.name||r.userID}}))}const Hi={savedContacts:Li,inbox:Ai,labels:Ei,groups:$i,groupContacts:ki,crmOrTabs:Fi,contactProfile:Oi,importSpreadsheet:Vi},Bi=async()=>{const e=ie.getState().activeFilter.id,s=ze.getState().groupments.find(a=>a.id===e);return s?s.contacts||[]:[]};async function qi(){const e=ie.getState().activeFilter;if(e.type==="groupment")return Bi();const s=Hi[e.id];return s?await s():(console.warn(`Nenhuma função de busca definida para o filtro: ${e.id}`),[])}const Ui=1e3;async function Wi(e){const{setContacts:s,setLoading:t}=D.getState();if(e!=null&&e.aborted)throw new DOMException("Operation was aborted","AbortError");t(!0),s([]);try{const a=new Promise((l,d)=>{const g=setTimeout(l,Ui);e==null||e.addEventListener("abort",()=>{clearTimeout(g),d(new DOMException("Operation was aborted","AbortError"))})}),[r]=await Promise.all([qi(),a]);if(e!=null&&e.aborted)throw new DOMException("Operation was aborted","AbortError");const i=await M.Conn("getMyUserId"),o=r.filter(l=>(l==null?void 0:l.id)!==void 0&&(l==null?void 0:l.id)!=null&&l.id.trim()&&!zs(l)&&l.id!=="0"&&l.id!=="status"&&l.id!==ut(i)&&l.id!==i);if(!o.length){console.warn("Nenhum contato encontrado"),s([]);return}if(e!=null&&e.aborted)throw new DOMException("Operation was aborted","AbortError");s(o)}catch(a){a.name==="AbortError"?console.warn("Operação abortada pelo usuário"):console.error("Erro ao buscar contatos:",a),s([])}finally{t(!1)}}const Ki=e=>{const s=R.useRef(null);return R.useEffect(()=>{if(!e)return;const a=j.getState().campaigns.find(o=>o.id===e),r=(a==null?void 0:a.actions)??[];qe.getState().setAcao(r),s.current=r;const i=qe.subscribe(o=>{const l=o.acao??[];l!==s.current&&(s.current=l,j.getState().updateCampaign(e,{actions:l}))});return()=>{i()}},[e]),{clearAcaoOnly:()=>{qe.getState().clearAcao(),s.current=null}}};function Xi(){const e=j(m=>m.currentCampaignId),{getNewController:s}=ta(),{clearAcaoOnly:t}=Ki(e),a=ie(m=>m.activeFilter),r=je(m=>m.activeLabel),i=Le(m=>m.activeGroup),o=ge(m=>m.activeSwitch),l=ue(m=>m.activeCrm),d=we(m=>m.activeUserTab),g=ye(m=>m.activeCrmTab),c=U(m=>m.appliedFilters),p=de(m=>m.selectedOption),f=Te(m=>m.importedContacts);return R.useEffect(()=>{const m=s();return Wi(m),()=>t()},[a,r,i,c,o,l,d,g,p,f]),n.jsxs("div",{className:"w-screen h-screen overflow-hidden bg-[var(--eem-bg-primary)] flex text-[var(--primary-strong)]","data-id":"eem-new",children:[n.jsx(ra,{}),n.jsx(wi,{})]})}function Ao(){return As(j,1e3)?n.jsx(Xi,{}):n.jsx("div",{className:"w-screen h-screen flex items-center justify-center bg-[var(--eem-bg-primary)]",children:n.jsx(na,{size:60,className:"text-[var(--primaria)] animate-spin"})})}export{Ao as default};
