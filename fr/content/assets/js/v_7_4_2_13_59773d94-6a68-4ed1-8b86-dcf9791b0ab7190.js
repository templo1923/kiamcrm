import{h as B,c as q,m as G}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7191.js";import{_ as y}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab75.js";var O=new Map,w=new Set;function I(e){K(e);var t=O.get(e);if(t)return t;var n={timeOfEngagementStart:Date.now()};return O.set(e,n),n}function K(e){w.add(e)}function X(e){w.clear(),e(),O.forEach(function(t,n){w.has(n)||O.delete(n)}),w.clear()}function Y(){O.clear()}var R=new Map;function V(e){var t=R.get(e);if(t)return t;var n=J(e);return R.set(e,n),n}function J(e){var t={type:"idle"},n=[];function r(c){if(t.type==="running"){var i=c-t.timeLastFrameFinished,s=t,u=s.latestArgs,m=B({x:u.location.current.input.clientX,y:u.location.current.input.clientY});X(function(){n.forEach(function(v){return v({underUsersPointer:m,latestArgs:u,timeSinceLastFrame:i})})}),t.timeLastFrameFinished=c,t.frameId=requestAnimationFrame(r)}}function a(){t.type!=="idle"&&(cancelAnimationFrame(t.frameId),Y(),t={type:"idle"})}function l(c){t.type==="idle"&&(t={type:"initializing",latestArgs:c,frameId:requestAnimationFrame(function(i){t.type==="initializing"&&(t={type:"running",timeLastFrameFinished:i,latestArgs:t.latestArgs,frameId:requestAnimationFrame(r)})})})}function o(c){if(t.type==="idle"){l(c);return}t.latestArgs=c}e({onDragStart:l,onDropTargetChange:o,onDrag:o,onDrop:a});var g={onFrame:function(i){n.push(i)}};return g}var F="data-auto-scrollable",N="[".concat(F,'="true"]');function Q(e){return e.setAttribute(F,"true"),function(){return e.removeAttribute(F)}}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(r){y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Z={startHitboxAtPercentageRemainingOfElement:{top:.25,right:.25,bottom:.25,left:.25},maxScrollAtPercentageRemainingOfHitbox:{top:.5,right:.5,bottom:.5,left:.5},timeDampeningDurationMs:300,maxMainAxisHitboxSize:180},_={standard:900,fast:1500};function W(e){var t;return j(j({},Z),{},{maxPixelScrollPerSecond:_[(t=e==null?void 0:e.maxScrollSpeed)!==null&&t!==void 0?t:"standard"]})}var ee={top:function(t){return t.scrollTop>0},right:function(t){return Math.ceil(t.scrollLeft)+t.clientWidth<t.scrollWidth},bottom:function(t){return Math.ceil(t.scrollTop)+t.clientHeight<t.scrollHeight},left:function(t){return t.scrollLeft>0}},te=["top","right","bottom","left"],ne={top:"vertical",right:"horizontal",bottom:"vertical",left:"horizontal"},M={start:"top",end:"bottom",point:"y",size:"height"},z={start:"left",end:"right",point:"x",size:"width"},C={vertical:{mainAxis:M,crossAxis:z},horizontal:{mainAxis:z,crossAxis:M}},P={top:"start",right:"end",bottom:"end",left:"start"};function A(e){var t=e.edge,n=e.axis;return function(a){var l,o=a.clientRect,g=a.config,c=C[n],i=c.mainAxis,s=c.crossAxis,u=P[t],m=Math.min(g.startHitboxAtPercentageRemainingOfElement[t]*o[i.size],g.maxMainAxisHitboxSize);return DOMRect.fromRect((l={},y(l,i.point,u==="start"?o[i.point]:o[i.point]+o[i.size]-m),y(l,s.point,o[s.point]),y(l,i.size,m),y(l,s.size,o[s.size]),l))}}var re={top:A({axis:"vertical",edge:"top"}),right:A({axis:"horizontal",edge:"right"}),bottom:A({axis:"vertical",edge:"bottom"}),left:A({axis:"horizontal",edge:"left"})};function D(e){var t=e.startOfRange,n=e.endOfRange,r=e.value,a=t<n;if(!a||r<t)return 0;if(r>n)return 1;var l=n-t;return(r-t)/l}function ie(e){var t=e.timeSinceLastFrame,n=e.config,r=n.maxPixelScrollPerSecond/1e3,a=Math.ceil(r*t),l=n.maxPixelScrollPerSecond/60;return Math.min(a,l)}function ae(e){var t=e.client,n=e.axis,r=e.edge,a=e.hitbox,l=e.config,o=C[n].mainAxis,g=P[r],c=a[o.size]*l.maxScrollAtPercentageRemainingOfHitbox[r];if(g==="end")return D({startOfRange:a[o.start],endOfRange:a[o.end]-c,value:t[o.point]});var i=D({startOfRange:a[o.start]+c,endOfRange:a[o.end],value:t[o.point]});return 1-i}function E(e){var t=e.client,n=e.timeSinceLastFrame,r=e.engagement,a=e.axis,l=e.hitbox,o=e.edge,g=e.isDistanceDampeningEnabled,c=e.config,i=ie({timeSinceLastFrame:n,config:c}),s=g?ae({client:t,edge:o,hitbox:l,axis:a,config:c}):1,u=D({startOfRange:r.timeOfEngagementStart,endOfRange:r.timeOfEngagementStart+c.timeDampeningDurationMs,value:Date.now()}),m=s*u,v=Math.max(i*m,1),f=P[o];return f==="end"?v:-1*v}function oe(e,t){return t==="all"||e===t}function ce(e){var t=e.client,n=e.clientRect;return t.x>=n.x&&t.x<=n.x+n.width&&t.y>=n.y&&t.y<=n.y+n.height}function le(e){return e.getBoundingClientRect()}function U(e){var t=e.element,n=e.input,r=e.timeSinceLastFrame,a=e.engagement,l=e.config,o=e.allowedAxis,g=e.getRect,c=g===void 0?le:g,i={x:n.clientX,y:n.clientY},s=c(t),u=te.reduce(function(f,d){var p=re[d]({clientRect:s,config:l}),x=ne[d];return!oe(x,o)||!ce({client:i,clientRect:p})||!ee[d](t)||f.set(d,{edge:d,hitbox:p}),f},new Map),m=(function(){var f="horizontal",d=u.get("left");if(d)return E({client:i,edge:d.edge,hitbox:d.hitbox,axis:f,timeSinceLastFrame:r,engagement:a,isDistanceDampeningEnabled:!0,config:l});var p=u.get("right");return p?E({client:i,edge:p.edge,hitbox:p.hitbox,axis:f,timeSinceLastFrame:r,engagement:a,isDistanceDampeningEnabled:!0,config:l}):0})(),v=(function(){var f="vertical",d=u.get("bottom");if(d)return E({client:i,edge:d.edge,hitbox:d.hitbox,axis:f,timeSinceLastFrame:r,engagement:a,isDistanceDampeningEnabled:!0,config:l});var p=u.get("top");return p?E({client:i,edge:p.edge,hitbox:p.hitbox,axis:f,timeSinceLastFrame:r,engagement:a,isDistanceDampeningEnabled:!0,config:l}):0})();return{left:m,top:v}}function se(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ue(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(i){throw i},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,o=!1,g;return{s:function(){n=n.call(e)},n:function(){var i=n.next();return l=i.done,i},e:function(i){o=!0,g=i},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(o)throw g}}}}function ue(e,t){if(e){if(typeof e=="string")return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}function k(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){return!!(e.top||e.left)}function $(e){var t,n,r,a=e.target,l=e.input,o=e.source,g=e.findEntry,c=e.timeSinceLastFrame,i=e.available,s=i===void 0?{top:!0,left:!0}:i;if(!T(s)||!a)return s;var u=a.closest(N);if(!u)return s;var m=g(u);if(!m)return s;function v(){var S;return $({target:(S=u==null?void 0:u.parentElement)!==null&&S!==void 0?S:null,findEntry:g,source:o,timeSinceLastFrame:c,input:l,available:s})}var f={input:l,source:o,element:u};if(m.canScroll&&!m.canScroll(f))return v();var d=I(u),p=W((t=m.getConfiguration)===null||t===void 0?void 0:t.call(m,f)),x=(n=(r=m.getAllowedAxis)===null||r===void 0?void 0:r.call(m,f))!==null&&n!==void 0?n:"all",b=U({element:u,engagement:d,input:l,timeSinceLastFrame:c,allowedAxis:x,config:p}),h={top:0,left:0};return s.top&&b.top!==0&&(h.top=b.top,s.top=!1),s.left&&b.left!==0&&(h.left=b.left,s.left=!1),(h.top!==0||h.left!==0)&&u.scrollBy(h),v()}function ge(e){var t=e.input,n=e.timeSinceLastFrame,r=e.available,a=e.source,l=e.entries,o=document.documentElement,g={input:t,source:a,element:o},c=se(l),i;try{for(c.s();!(i=c.n()).done;){var s,u,m,v=i.value;if(!(v.canScroll&&!v.canScroll(g))){var f=I(o),d=W((s=v.getConfiguration)===null||s===void 0?void 0:s.call(v,g)),p=(u=(m=v.getAllowedAxis)===null||m===void 0?void 0:m.call(v,g))!==null&&u!==void 0?u:"all",x=U({element:o,engagement:f,input:t,config:d,allowedAxis:p,getRect:function(S){return DOMRect.fromRect({y:0,x:0,width:S.clientWidth,height:S.clientHeight})},timeSinceLastFrame:n}),b={top:r.top?x.top:0,left:r.left?x.left:0};(b.top!==0||b.left!==0)&&o.scrollBy(b);break}}}catch(h){c.e(h)}finally{c.f()}}function me(e){var t=e.input,n=e.findEntry,r=e.timeSinceLastFrame,a=e.source,l=e.getWindowScrollEntries,o=e.underUsersPointer,g=$({target:o,timeSinceLastFrame:r,input:t,source:a,findEntry:n});T(g)&&ge({input:t,source:a,entries:l(),timeSinceLastFrame:r,available:g})}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(r){y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function de(e){var t=e.monitor,n=new Map,r=new Set;function a(i){return n.set(i.element,i),q(Q(i.element),function(){return n.delete(i.element)})}function l(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=fe({},i);return r.add(s),function(){return r.delete(s)}}function o(i){var s;return(s=n.get(i))!==null&&s!==void 0?s:null}function g(){return Array.from(r)}function c(i){var s=i.latestArgs,u=i.underUsersPointer,m=i.timeSinceLastFrame;me({input:s.location.current.input,source:s.source,findEntry:o,underUsersPointer:u,timeSinceLastFrame:m,getWindowScrollEntries:g})}return V(t).onFrame(c),{autoScroll:a,autoScrollWindow:l}}var ve=de({monitor:G}),he=ve.autoScroll;export{C as a,oe as b,ee as c,ne as d,te as e,E as f,re as g,W as h,ce as i,V as j,he as k,I as m};
