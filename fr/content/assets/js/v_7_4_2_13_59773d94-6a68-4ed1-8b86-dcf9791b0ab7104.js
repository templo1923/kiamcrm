import{j as e,X as k,Y as y,Z as C,U as E,b0 as P,V as h}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab710.js";import{a as x}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab74.js";import{c as F}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab746.js";import{u as f}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab727.js";import{r as b,o as S}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab723.js";import{W as g,V as A}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab718.js";import{u as p}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab719.js";import{a as _}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab760.js";import{a as j}from"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7108.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab78.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab75.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab77.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab721.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab79.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab747.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab76.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7105.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7125.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab728.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab741.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab738.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7106.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab7107.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab737.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab72.js";import"./v_7_4_2_13_59773d94-6a68-4ed1-8b86-dcf9791b0ab73.js";function v({nt:a}){const{setNotificacoes_boxVisible:t,isBoxVisible:r}=b(),{language:l}=p(),o=n=>{n.stopPropagation(),n.preventDefault(),window.open(a.link,"_blank")};return e.jsxs("div",{className:"group relative border border-gray-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 p-4 sm:p-5 rounded-xl w-full cursor-pointer transition-all duration-200 hover:border-gray-300 dark:hover:border-neutral-600 hover:shadow-sm dark:hover:shadow-neutral-900/50",onClick:n=>{n.stopPropagation(),n.preventDefault(),t(a.id)},children:[e.jsxs("div",{className:"flex justify-between items-start gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[!r(a.id)&&e.jsx("div",{className:"flex items-center justify-center w-2 h-2 rounded-full bg-[var(--primaria)] animate-pulse"}),a.type==="INFO"&&e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-blue-50 dark:bg-blue-900/30",children:e.jsx(k,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.type==="ALERT"&&e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-red-50 dark:bg-red-900/30",children:e.jsx(y,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),a.type==="PROMOTION"&&e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-yellow-50 dark:bg-yellow-900/30",children:e.jsx(C,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300 whitespace-nowrap flex-shrink-0 font-medium",children:E.MillisToFormattedDate(a.data)})]}),e.jsx("h2",{className:"text-base sm:text-lg flex justify-center font-semibold text-gray-900 dark:text-white mb-3 break-words leading-snug",children:a.title}),e.jsx("div",{className:"pb-2",children:e.jsx("p",{className:`text-sm sm:text-base text-gray-600 dark:text-gray-200 leading-relaxed break-words 
          [&_strong]:text-gray-800 [&_strong]:dark:text-white
          [&_strong.italic]:italic`,style:{wordBreak:"break-word"},dangerouslySetInnerHTML:{__html:a.statement.replace(/\_(.*?)\_/g,'<strong class="italic">$1</strong>').replace(/\*(.*?)\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>")}})}),a.link&&e.jsx("div",{className:"flex justify-start mt-4 pt-3 border-t border-gray-100 dark:border-neutral-700",children:e.jsx("span",{onClick:o,children:e.jsxs("a",{className:"inline-flex items-center gap-1.5 text-sm font-medium text-[var(--primaria)] hover:opacity-80 transition-all group-hover:gap-2",target:"_blank",children:[e.jsx("span",{className:"break-words",children:a.btnName.length!==0?a.btnName:l.cliqueAqui}),e.jsx(_,{strokeWidth:2.5,className:"h-4 w-4 flex-shrink-0"})]})})})]},a.id)}function M(){const{renderNotificacoes_box:a}=b();return e.jsx("div",{className:"grid gap-3 p-3 sm:p-4 overflow-y-auto overflow-x-hidden",style:{maxHeight:"calc(100vh - 90px)"},children:a().map(r=>e.jsx(v,{nt:r},r.id))})}function T(){const{notifications:a,setNotifications:t}=f(),{getCaixaDeEntrada:r}=F(),{open:l}=S(),o=s=>{const c=[...a];for(let d=0;d<c.length;d++)c[d].id===s&&(c[d].read=!0);t(c)},n=(s,c)=>{s.stopPropagation();const N=[...a].filter(w=>w.id!==c);t(N)},i=s=>{g.Chat("openChatBottom",s.user_id)},m=s=>e.jsxs("div",{className:"flex justify-start hoverShadown cursor-pointer p-2 border border-base-200 rounded-lg w-full",onClick:()=>i(s),style:{borderStyle:"outset"},children:[!s.read&&e.jsx("span",{className:"flex items-center pr-1",children:e.jsx(P,{className:"w-2 h-2 text-[var(--primaria)]"})}),e.jsxs("div",{className:"flex flex-col gap-2",onClick:()=>s.read?null:o(s.id),children:[e.jsx("span",{className:"notifyMaxSpace w-[250px]",children:s.title}),e.jsxs("span",{className:"text-xs",children:[s.date," at ",s.time]})]}),e.jsx("div",{className:"flex justify-end items-center w-full",onClick:d=>n(d,s.id),children:e.jsx("span",{className:"pulse",children:e.jsx(j,{className:"w-5 h-5"})})})]});return e.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 90px)"},children:e.jsx("div",{className:"grid gap-2 pt-2",children:r().map(s=>s.viewer?e.jsx(v,{nt:s}):s.timeOut?m(s):null)})})}function z(){const{notifications:a,setNotifications:t}=f(),r=(i,m)=>{i.stopPropagation();const s=[...a].filter(c=>c.id!==m);t(s)},l=i=>{g.Chat("openChatBottom",i.user_id)},o=i=>e.jsxs("div",{className:"flex justify-between hoverShadown cursor-pointer p-2 border border-base-200 rounded-lg",style:{borderStyle:"outset"},onClick:()=>l(i),children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"notifyMaxSpace w-[250px]",children:i.title}),e.jsxs("span",{className:"text-[12px]",children:[i.date," at ",i.time]})]}),e.jsx("div",{className:"flex justify-center items-center pulse",onClick:u=>r(u,i.id),children:e.jsx(j,{className:"w-5 h-5"})})]});return e.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 180px)"},children:e.jsx("div",{className:"grid gap-2 pt-2",children:a.slice().reverse().map(i=>i.timeOut?null:o(i))})})}function D(){const{language:a,idioma:t}=p(),r={pt:["Correção no bug que causava duplicação de contatos no envio em massa clássico.","Correção no erro ao tentar abrir um chat.","Nova versão do envio em massa: adicionado o botão de 'Forçar Cancelamento' de campanhas.","Adicionado relatório detalhado no novo envio em massa.","Melhorias significativas de performance no Follow Up."],en:["Fixed the bug causing duplicate contacts in classic bulk sending.","Fixed an issue when trying to open a chat.","New bulk sending version: added the 'Force Cancel' button for campaigns.","Added detailed reporting to the new bulk sending module.","Significant performance improvements in the FollowUp"],es:["Corregido el error que causaba duplicación de contactos en el envío masivo clásico.","Corregido el problema al intentar abrir un chat.","Nueva versión del envío masivo: se añadió el botón de 'Forzar Cancelación' de campañas.","Se agregó un informe detallado en el nuevo módulo de envío masivo.","Mejoras significativas de rendimiento en FollowUp."]};return e.jsx("div",{className:"grid gap-2 p-2 overflow-auto",style:{maxHeight:"calc(100vh - 180px)"},children:e.jsxs("div",{className:"border border-base200 p-2 rounded-lg w-full",style:{borderStyle:"outset"},children:[e.jsxs(h,{children:[a.atualizacao," ",A.version]}),e.jsx("div",{className:"pt-2",children:e.jsx("ul",{style:{listStyle:"inside"},children:r[t].map((o,n)=>e.jsx("li",{className:"marker:text-[var(--primaria)] text-sm",children:o},n))})})]})})}function ce(){const[a,t]=x.useState("Entrada"),[r,l]=x.useState(e.jsx(e.Fragment,{})),{language:o}=p();x.useEffect(()=>{switch(a){case"Comunicado":l(e.jsx(M,{}));break;case"Atualizacao":l(e.jsx(D,{}));break;case"Pendentes":l(e.jsx(z,{}));break;case"Entrada":default:l(e.jsx(T,{}));break}},[a]);const n=e.jsx("header",{children:e.jsxs("div",{className:"tabs tabs-bordered",children:[e.jsxs("label",{className:"tab "+(a==="Entrada"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Entrada",children:[e.jsx("span",{children:"Inbox"}),e.jsx("input",{id:"Entrada",type:"checkbox",checked:a==="Entrada",onChange:()=>t("Entrada"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Comunicado"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Comunicado",children:[e.jsx("span",{children:o.comunicado}),e.jsx("input",{id:"Comunicado",type:"checkbox",checked:a==="Comunicado",onChange:()=>t("Comunicado"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Atualizacao"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Atualizacao",children:[e.jsx("span",{children:o.atualizacoes}),e.jsx("input",{id:"Atualizacao",type:"checkbox",checked:a==="Atualizacao",onChange:()=>t("Atualizacao"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Pendentes"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Pendentes",children:[e.jsx("span",{children:o.notificacoesPendentes}),e.jsx("input",{id:"Pendentes",type:"checkbox",checked:a==="Pendentes",onChange:()=>t("Pendentes"),className:"hidden"})]})]})});return e.jsxs("div",{children:[e.jsx(h,{children:o.notifications}),e.jsxs("div",{className:"px-2 pt-2",children:[n,r]})]})}export{ce as default};
